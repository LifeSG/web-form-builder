"use strict";var e=require("react/jsx-runtime"),t=require("react"),n=require("@lifesg/react-design-system/color"),r=require("styled-components"),i=require("@lifesg/react-icons/chevron-down"),a=require("@lifesg/react-icons/circle-dot"),o=require("@lifesg/react-icons/envelope"),s=require("@lifesg/react-icons/phone"),l=require("@lifesg/react-design-system/popover-v2"),u=require("@lifesg/react-icons/bin"),c=require("@lifesg/react-icons/plus"),d=require("@lifesg/react-design-system/text"),f=require("@lifesg/react-design-system/accordion"),p=require("@lifesg/react-design-system/button-with-icon"),h=require("@lifesg/react-design-system/toast"),m=require("@lifesg/react-design-system/media"),v=require("@lifesg/react-design-system/modal"),g=require("@lifesg/react-design-system/form"),b=require("@lifesg/react-design-system/button"),y=require("@lifesg/react-design-system/error-display"),x=require("react-dom"),_=require("@lifesg/react-icons"),w=require("@lifesg/react-icons/copy"),j=require("@lifesg/react-design-system/toggle"),E=require("@lifesg/react-icons/pencil"),C=require("@lifesg/react-design-system"),O=require("@lifesg/react-design-system/alert"),T=require("@lifesg/react-icons/magnifier"),S=require("@lifesg/react-design-system/input-group"),A=require("@lifesg/react-icons/cross"),I=require("@lifesg/react-icons/chevron-right"),M=require("@lifesg/react-design-system/transition"),k=require("@lifesg/react-icons/doc"),D=require("@lifesg/react-design-system/layout");function R(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var N=R(t),F=R(r);const $=F.default.div`
    padding: 1rem;
    border-radius: 0.5rem;
    cursor: pointer;
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    box-shadow: 0px 2px 8px 0px rgba(104, 104, 104, 0.24);

    ${({$focused:e})=>e?r.css`
                  border: 1px solid ${n.Color.Primary};
                  background: ${n.Color.Accent.Light[5]};
              `:r.css`
                  border: 1px solid transparent;
              `}

    :hover {
        border-color: ${n.Color.Primary};
        box-shadow: 0px 2px 8px 0px ${n.Color.Shadow.Accent};
    }

    :focus {
        outline-color: ${n.Color.Primary};
    }
`,L=({id:t,children:n,focused:r,onClick:i,className:a="pointer"})=>e.jsx($,Object.assign({tabIndex:0,$focused:r,onClick:i,id:t,role:"button",className:a},{children:n}));var V;!function(e){e.CONTACT="contact-field",e.EMAIL="email-field",e.NUMERIC="numeric-field",e.RADIO="radio",e.DROPDOWN="select",e.TEXT="text-field",e.TEXTAREA="textarea"}(V||(V={}));const P=new Set([V.CONTACT,V.EMAIL,V.NUMERIC,V.TEXT,V.TEXTAREA]);var z,B,U,q;function W(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function H(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}new Set([V.DROPDOWN]),function(e){e.MORE_THAN="More than",e.LESS_THAN="Less than",e.EQUALS="Equals",e.NOT_EQUALS="Not equals"}(z||(z={})),function(e){e.EMAIL_DOMAIN="Email domain",e.WHOLE_NUMBERS="Whole numbers",e.CUSTOM_REGEX="Custom regex",e.MIN_VALUE="Minimum value",e.MAX_VALUE="Maximum value",e.MIN_LENGTH="Minimum length",e.MAX_LENGTH="Maximum length",e.CONTACT_NUMBER="Contact number format"}(B||(B={})),function(e){e.MIN="min",e.MAX="max",e.INTEGER="integer",e.MATCHES="matches"}(U||(U={})),function(e){e.DEFAULT="default",e.MOBILE="mobile",e.HOUSE="house"}(q||(q={})),"function"==typeof SuppressedError&&SuppressedError;const X=[{categoryTitle:"Text field",elementTypes:[V.EMAIL,V.TEXT,V.TEXTAREA,V.NUMERIC,V.CONTACT]},{categoryTitle:"Option group",elementTypes:[V.DROPDOWN,V.RADIO]}];var G;!function(e){e.EMAIL="Email address",e.NUMERIC="Numbers",e.TEXT="Short text",e.TEXTAREA="Long text",e.CONTACT="Contact number",e.DROPDOWN="Dropdown",e.CHECKBOX="Checkbox",e.RADIO="Radio Button"}(G||(G={}));const Z={[V.EMAIL]:G.EMAIL,[V.NUMERIC]:G.NUMERIC,[V.TEXT]:G.TEXT,[V.TEXTAREA]:G.TEXTAREA,[V.CONTACT]:G.CONTACT,[V.DROPDOWN]:G.DROPDOWN,[V.RADIO]:G.RADIO},K={[V.EMAIL]:"email-field",[V.NUMERIC]:"numeric-field",[V.CONTACT]:"contact-field",[V.TEXT]:"short-text-field",[V.TEXTAREA]:"long-text-field",[V.DROPDOWN]:"select",[V.RADIO]:"radio-field"},Q={"Text field":{[V.EMAIL]:{maxEntries:1,validationTypes:[B.EMAIL_DOMAIN]},[V.NUMERIC]:{maxEntries:3,validationTypes:[B.WHOLE_NUMBERS,B.MIN_VALUE,B.MAX_VALUE]},[V.TEXT]:{maxEntries:-1,validationTypes:[B.CUSTOM_REGEX,B.MIN_LENGTH,B.MAX_LENGTH]},[V.TEXTAREA]:{maxEntries:1,validationTypes:[B.MAX_LENGTH]},[V.CONTACT]:{maxEntries:1,validationTypes:[B.CONTACT_NUMBER]}}},Y={[z.MORE_THAN]:"moreThan",[z.LESS_THAN]:"lessThan",[z.EQUALS]:"equals",[z.NOT_EQUALS]:"notEquals"},J={moreThan:z.MORE_THAN,lessThan:z.LESS_THAN,equals:z.EQUALS,notEquals:z.NOT_EQUALS};var ee;!function(e){e.generate=()=>Math.random().toString(36).substring(2,9)}(ee||(ee={}));const te=(e,t,n)=>{const r=new RegExp(n?`^${e}-copy(?:-(\\d+))?$`:`^${e}(?:-(\\d+))?$`);let i=n?0:-1;return t.forEach((e=>{const t=null==e?void 0:e.match(r);if(t){const e=t[1]?parseInt(t[1],10):n?1:0;i=Math.max(i,e)}})),n?`${e}-copy${i+1>1?`-${i+1}`:""}`:`${e}${i+1>0?`-${i+1}`:""}`},ne=e=>{let t;for(;!t||e.includes(t);)t=ee.generate();return t};var re;!function(e){e.generate=(e,t,n)=>{const r={internalId:ne(t),type:e,id:te(K[e],n,!1),required:!0,requiredErrorMsg:"This is a required field.",preselectedValue:"",description:"",label:Z[e],columns:{desktop:12,tablet:8,mobile:4},conditionalRendering:[],prefill:[]};switch(e){case V.EMAIL:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case V.NUMERIC:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case V.TEXT:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case V.TEXTAREA:return Object.assign(Object.assign({},r),{placeholder:"",resizableInput:!1,pills:!1,validation:[]});case V.DROPDOWN:return Object.assign(Object.assign({},r),{placeholder:"",dropdownItems:[{label:"",value:""},{label:"",value:""}]});case V.CONTACT:return Object.assign(Object.assign({},r),{placeholder:"",enableClearButton:!0,defaultCountryCode:"",validation:[{validationType:B.CONTACT_NUMBER,validationErrorMessage:"Invalid contact number."}]});case V.RADIO:return Object.assign(Object.assign({},r),{placeholder:"",radioItems:[{label:"",value:""},{label:"",value:""}]});default:return null}},e.duplicate=(e,t,n)=>{const r=(e=>{const t=e.match(/^(.*?)(-copy(?:-\d+)?)?$/);return t?t[1]:e})(e.id),i=te(r,n,!0);return Object.assign(Object.assign({},e),{internalId:ne(t),id:i})}}(re||(re={}));const ie=/^[a-zA-Z0-9_-]+$/,ae=/^[a-zA-Z0-9._-]+$/;var oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function se(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var le={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=16,s=32,l=64,u=128,c=256,d=1/0,f=9007199254740991,p=NaN,h=4294967295,m=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",s],["partialRight",l],["rearg",c]],v="[object Arguments]",g="[object Array]",b="[object Boolean]",y="[object Date]",x="[object Error]",_="[object Function]",w="[object GeneratorFunction]",j="[object Map]",E="[object Number]",C="[object Object]",O="[object Promise]",T="[object RegExp]",S="[object Set]",A="[object String]",I="[object Symbol]",M="[object WeakMap]",k="[object ArrayBuffer]",D="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",F="[object Int8Array]",$="[object Int16Array]",L="[object Int32Array]",V="[object Uint8Array]",P="[object Uint8ClampedArray]",z="[object Uint16Array]",B="[object Uint32Array]",U=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,G=RegExp(H.source),Z=RegExp(X.source),K=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,ae=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,we=/['\n\r\u2028\u2029\\]/g,je="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="['’]",Me="["+je+"]",ke="["+Ae+"]",De="["+Ee+"]",Re="\\d+",Ne="["+Ce+"]",Fe="["+Oe+"]",$e="[^"+je+Ae+Re+Ce+Oe+Te+"]",Le="\\ud83c[\\udffb-\\udfff]",Ve="[^"+je+"]",Pe="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Te+"]",Ue="\\u200d",qe="(?:"+Fe+"|"+$e+")",We="(?:"+Be+"|"+$e+")",He="(?:['’](?:d|ll|m|re|s|t|ve))?",Xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+De+"|"+Le+")"+"?",Ze="["+Se+"]?",Ke=Ze+Ge+("(?:"+Ue+"(?:"+[Ve,Pe,ze].join("|")+")"+Ze+Ge+")*"),Qe="(?:"+[Ne,Pe,ze].join("|")+")"+Ke,Ye="(?:"+[Ve+De+"?",De,Pe,ze,Me].join("|")+")",Je=RegExp(Ie,"g"),et=RegExp(De,"g"),tt=RegExp(Le+"(?="+Le+")|"+Ye+Ke,"g"),nt=RegExp([Be+"?"+Fe+"+"+He+"(?="+[ke,Be,"$"].join("|")+")",We+"+"+Xe+"(?="+[ke,Be+qe,"$"].join("|")+")",Be+"?"+qe+"+"+He,Be+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Qe].join("|"),"g"),rt=RegExp("["+Ue+je+Ee+Se+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,st={};st[R]=st[N]=st[F]=st[$]=st[L]=st[V]=st[P]=st[z]=st[B]=!0,st[v]=st[g]=st[k]=st[b]=st[D]=st[y]=st[x]=st[_]=st[j]=st[E]=st[C]=st[T]=st[S]=st[A]=st[M]=!1;var lt={};lt[v]=lt[g]=lt[k]=lt[D]=lt[b]=lt[y]=lt[R]=lt[N]=lt[F]=lt[$]=lt[L]=lt[j]=lt[E]=lt[C]=lt[T]=lt[S]=lt[A]=lt[I]=lt[V]=lt[P]=lt[z]=lt[B]=!0,lt[x]=lt[_]=lt[M]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,dt=parseInt,ft="object"==typeof oe&&oe&&oe.Object===Object&&oe,pt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||pt||Function("return this")(),mt=t&&!t.nodeType&&t,vt=mt&&e&&!e.nodeType&&e,gt=vt&&vt.exports===mt,bt=gt&&ft.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),xt=yt&&yt.isArrayBuffer,_t=yt&&yt.isDate,wt=yt&&yt.isMap,jt=yt&&yt.isRegExp,Et=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function Ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function kt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function $t(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Ht("length");function Pt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,qt,n)}function Ut(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function qt(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:p}function Ht(e){return function(t){return null==t?n:t[e]}}function Xt(e){return function(t){return null==e?n:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Zt(e,t){for(var r,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,mn(e)+1).replace(ie,""):e}function Yt(e){return function(t){return e(t)}}function Jt(e,t){return Rt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}var rn=Xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function sn(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):Vt(e)}function hn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var ae,oe=(t=null==t?ht:gn.defaults(ht.Object(),t,gn.pick(ht,at))).Array,je=t.Date,Ee=t.Error,Ce=t.Function,Oe=t.Math,Te=t.Object,Se=t.RegExp,Ae=t.String,Ie=t.TypeError,Me=oe.prototype,ke=Ce.prototype,De=Te.prototype,Re=t["__core-js_shared__"],Ne=ke.toString,Fe=De.hasOwnProperty,$e=0,Le=(ae=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"",Ve=De.toString,Pe=Ne.call(Te),ze=ht._,Be=Se("^"+Ne.call(Fe).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=gt?t.Buffer:n,qe=t.Symbol,We=t.Uint8Array,He=Ue?Ue.allocUnsafe:n,Xe=un(Te.getPrototypeOf,Te),Ge=Te.create,Ze=De.propertyIsEnumerable,Ke=Me.splice,Qe=qe?qe.isConcatSpreadable:n,Ye=qe?qe.iterator:n,tt=qe?qe.toStringTag:n,rt=function(){try{var e=fa(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=je&&je.now!==ht.Date.now&&je.now,pt=t.setTimeout!==ht.setTimeout&&t.setTimeout,mt=Oe.ceil,vt=Oe.floor,bt=Te.getOwnPropertySymbols,yt=Ue?Ue.isBuffer:n,Vt=t.isFinite,Xt=Me.join,bn=un(Te.keys,Te),yn=Oe.max,xn=Oe.min,_n=je.now,wn=t.parseInt,jn=Oe.random,En=Me.reverse,Cn=fa(t,"DataView"),On=fa(t,"Map"),Tn=fa(t,"Promise"),Sn=fa(t,"Set"),An=fa(t,"WeakMap"),In=fa(Te,"create"),Mn=An&&new An,kn={},Dn=La(Cn),Rn=La(On),Nn=La(Tn),Fn=La(Sn),$n=La(An),Ln=qe?qe.prototype:n,Vn=Ln?Ln.valueOf:n,Pn=Ln?Ln.toString:n;function zn(e){if(ns(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Fe.call(e,"__wrapped__"))return Va(e)}return new qn(e)}var Bn=function(){function e(){}return function(t){if(!ts(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Un(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Qn(e,t){var n=Wo(e),r=!n&&qo(e),i=!n&&!r&&Zo(e),a=!n&&!r&&!i&&cs(e),o=n||r||i||a,s=o?Kt(e.length,Ae):[],l=s.length;for(var u in e)!t&&!Fe.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ya(u,l))||s.push(u);return s}function Yn(e){var t=e.length;return t?e[Zr(0,t-1)]:n}function Jn(e,t){return Na(Ii(e),lr(t,0,e.length))}function er(e){return Na(Ii(e))}function tr(e,t,r){(r!==n&&!zo(e[t],r)||r===n&&!(t in e))&&or(e,t,r)}function nr(e,t,r){var i=e[t];Fe.call(e,t)&&zo(i,r)&&(r!==n||t in e)||or(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if(zo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Mi(t,ks(t),e)}function or(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,a=oe(i),o=null==e;++r<i;)a[r]=o?n:Ts(e,t[r]);return a}function lr(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function ur(e,t,r,i,a,o){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=a?r(e,i,a,o):r(e)),s!==n)return s;if(!ts(e))return e;var d=Wo(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ii(e,s)}else{var f=ma(e),p=f==_||f==w;if(Zo(e))return Ei(e,l);if(f==C||f==v||p&&!a){if(s=u||p?{}:ga(e),!l)return u?function(e,t){return Mi(e,ha(e),t)}(e,function(e,t){return e&&Mi(t,Ds(t),e)}(s,e)):function(e,t){return Mi(e,pa(e),t)}(e,ar(s,e))}else{if(!lt[f])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case k:return Ci(e);case b:case y:return new r(+e);case D:return function(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case N:case F:case $:case L:case V:case P:case z:case B:return Oi(e,n);case j:return new r;case E:case A:return new r(e);case T:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case S:return new r;case I:return i=e,Vn?Te(Vn.call(i)):{}}var i}(e,f,l)}}o||(o=new Kn);var h=o.get(e);if(h)return h;o.set(e,s),ss(e)?e.forEach((function(n){s.add(ur(n,t,r,n,e,o))})):rs(e)&&e.forEach((function(n,i){s.set(i,ur(n,t,r,i,e,o))}));var m=d?n:(c?u?aa:ia:u?Ds:ks)(e);return St(m||e,(function(n,i){m&&(n=e[i=n]),nr(s,i,ur(n,t,r,i,e,o))})),s}function cr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Te(e);i--;){var a=r[i],o=t[a],s=e[a];if(s===n&&!(a in e)||!o(s))return!1}return!0}function dr(e,t,i){if("function"!=typeof e)throw new Ie(r);return Ma((function(){e.apply(n,i)}),t)}function fr(e,t,n,r){var i=-1,a=kt,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Rt(t,Yt(n))),r?(a=Dt,o=!1):t.length>=200&&(a=en,o=!1,t=new Zn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}zn.templateSettings={escape:K,evaluate:Q,interpolate:Y,variable:"",imports:{_:zn}},zn.prototype=Un.prototype,zn.prototype.constructor=zn,qn.prototype=Bn(Un.prototype),qn.prototype.constructor=qn,Wn.prototype=Bn(Un.prototype),Wn.prototype.constructor=Wn,Hn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(In){var r=t[e];return r===i?n:r}return Fe.call(t,e)?t[e]:n},Hn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==n:Fe.call(t,e)},Hn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=In&&t===n?i:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(On||Xn),string:new Hn}},Gn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ca(this,e).get(e)},Gn.prototype.has=function(e){return ca(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,i),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!On||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ri(_r),hr=Ri(wr,!0);function mr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===n?s==s&&!us(s):r(s,l)))var l=s,u=o}return u}function gr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?br(s,t-1,n,r,i):Nt(i,s):r||(i[i.length]=s)}return i}var yr=Ni(),xr=Ni(!0);function _r(e,t){return e&&yr(e,t,ks)}function wr(e,t){return e&&xr(e,t,ks)}function jr(e,t){return Mt(t,(function(t){return Yo(e[t])}))}function Er(e,t){for(var r=0,i=(t=xi(t,e)).length;null!=e&&r<i;)e=e[$a(t[r++])];return r&&r==i?e:n}function Cr(e,t,n){var r=t(e);return Wo(e)?r:Nt(r,n(e))}function Or(e){return null==e?e===n?"[object Undefined]":"[object Null]":tt&&tt in Te(e)?function(e){var t=Fe.call(e,tt),r=e[tt];try{e[tt]=n;var i=!0}catch(e){}var a=Ve.call(e);i&&(t?e[tt]=r:delete e[tt]);return a}(e):function(e){return Ve.call(e)}(e)}function Tr(e,t){return e>t}function Sr(e,t){return null!=e&&Fe.call(e,t)}function Ar(e,t){return null!=e&&t in Te(e)}function Ir(e,t,r){for(var i=r?Dt:kt,a=e[0].length,o=e.length,s=o,l=oe(o),u=1/0,c=[];s--;){var d=e[s];s&&t&&(d=Rt(d,Yt(t))),u=xn(d.length,u),l[s]=!r&&(t||a>=120&&d.length>=120)?new Zn(s&&d):n}d=e[0];var f=-1,p=l[0];e:for(;++f<a&&c.length<u;){var h=d[f],m=t?t(h):h;if(h=r||0!==h?h:0,!(p?en(p,m):i(c,m,r))){for(s=o;--s;){var v=l[s];if(!(v?en(v,m):i(e[s],m,r)))continue e}p&&p.push(m),c.push(h)}}return c}function Mr(e,t,r){var i=null==(e=Sa(e,t=xi(t,e)))?e:e[$a(Ka(t))];return null==i?n:Ot(i,e,r)}function kr(e){return ns(e)&&Or(e)==v}function Dr(e,t,r,i,a){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,r,i,a,o){var s=Wo(e),l=Wo(t),u=s?g:ma(e),c=l?g:ma(t),d=(u=u==v?C:u)==C,f=(c=c==v?C:c)==C,p=u==c;if(p&&Zo(e)){if(!Zo(t))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Kn),s||cs(e)?na(e,t,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case b:case y:case E:return zo(+e,+t);case x:return e.name==t.name&&e.message==t.message;case T:case A:return e==t+"";case j:var s=ln;case S:var l=1&r;if(s||(s=dn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=na(s(e),s(t),r,i,a,o);return o.delete(e),c;case I:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}(e,t,u,r,i,a,o);if(!(1&r)){var h=d&&Fe.call(e,"__wrapped__"),m=f&&Fe.call(t,"__wrapped__");if(h||m){var _=h?e.value():e,w=m?t.value():t;return o||(o=new Kn),a(_,w,r,i,o)}}if(!p)return!1;return o||(o=new Kn),function(e,t,r,i,a,o){var s=1&r,l=ia(e),u=l.length,c=ia(t),d=c.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var p=l[f];if(!(s?p in t:Fe.call(t,p)))return!1}var h=o.get(e),m=o.get(t);if(h&&m)return h==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);var g=s;for(;++f<u;){var b=e[p=l[f]],y=t[p];if(i)var x=s?i(y,b,p,t,e,o):i(b,y,p,e,t,o);if(!(x===n?b===y||a(b,y,r,i,o):x)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,r,i,a,o)}(e,t,r,i,Dr,a))}function Rr(e,t,r,i){var a=r.length,o=a,s=!i;if(null==e)return!o;for(e=Te(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=r[a])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===n&&!(u in e))return!1}else{var f=new Kn;if(i)var p=i(c,d,u,e,t,f);if(!(p===n?Dr(d,c,3,i,f):p))return!1}}return!0}function Nr(e){return!(!ts(e)||(t=e,Le&&Le in t))&&(Yo(e)?Be:ge).test(La(e));var t}function Fr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Wo(e)?Br(e[0],e[1]):zr(e):pl(e)}function $r(e){if(!Ea(e))return bn(e);var t=[];for(var n in Te(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ea(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}function Vr(e,t){return e<t}function Pr(e,t){var n=-1,r=Xo(e)?oe(e.length):[];return pr(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function zr(e){var t=da(e);return 1==t.length&&t[0][2]?Oa(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function Br(e,t){return _a(e)&&Ca(t)?Oa($a(e),t):function(r){var i=Ts(r,e);return i===n&&i===t?Ss(r,e):Dr(t,i,3)}}function Ur(e,t,r,i,a){e!==t&&yr(t,(function(o,s){if(a||(a=new Kn),ts(o))!function(e,t,r,i,a,o,s){var l=Aa(e,r),u=Aa(t,r),c=s.get(u);if(c)return void tr(e,r,c);var d=o?o(l,u,r+"",e,t,s):n,f=d===n;if(f){var p=Wo(u),h=!p&&Zo(u),m=!p&&!h&&cs(u);d=u,p||h||m?Wo(l)?d=l:Go(l)?d=Ii(l):h?(f=!1,d=Ei(u,!0)):m?(f=!1,d=Oi(u,!0)):d=[]:as(u)||qo(u)?(d=l,qo(l)?d=bs(l):ts(l)&&!Yo(l)||(d=ga(u))):f=!1}f&&(s.set(u,d),a(d,u,i,o,s),s.delete(u));tr(e,r,d)}(e,t,s,r,Ur,i,a);else{var l=i?i(Aa(e,s),o,s+"",e,t,a):n;l===n&&(l=o),tr(e,s,l)}}),Ds)}function qr(e,t){var r=e.length;if(r)return ya(t+=t<0?r:0,r)?e[t]:n}function Wr(e,t,n){t=t.length?Rt(t,(function(e){return Wo(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=Rt(t,Yt(ua()));var i=Pr(e,(function(e,n,i){var a=Rt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var l=Ti(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Er(e,o);n(s,o)&&ei(a,xi(o,e),s)}return a}function Xr(e,t,n,r){var i=r?Ut:Bt,a=-1,o=t.length,s=e;for(e===t&&(t=Ii(t)),n&&(s=Rt(e,Yt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Zr(e,t){return e+vt(jn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return ka(Ta(e,t,il),e+"")}function Yr(e){return Yn(zs(e))}function Jr(e,t){var n=zs(e);return Na(n,lr(t,0,n.length))}function ei(e,t,r,i){if(!ts(e))return e;for(var a=-1,o=(t=xi(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var u=$a(t[a]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=s){var d=l[u];(c=i?i(d,u,l):n)===n&&(c=ts(d)?d:ya(t[a+1])?[]:{})}nr(l,u,c),l=l[u]}return e}var ti=Mn?function(e,t){return Mn.set(e,t),e}:il,ni=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return Na(zs(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=oe(i);++r<i;)a[r]=e[r+t];return a}function ai(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!us(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return si(e,t,il,n)}function si(e,t,r,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=r(t))!=t,l=null===t,u=us(t),c=t===n;a<o;){var d=vt((a+o)/2),f=r(e[d]),p=f!==n,h=null===f,m=f==f,v=us(f);if(s)var g=i||m;else g=c?m&&(i||p):l?m&&p&&(i||!h):u?m&&p&&!h&&(i||!v):!h&&!v&&(i?f<=t:f<t);g?a=d+1:o=d}return xn(o,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!zo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:us(e)?p:+e}function ci(e){if("string"==typeof e)return e;if(Wo(e))return Rt(e,ci)+"";if(us(e))return Pn?Pn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=kt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Dt;else if(a>=200){var u=t?null:Ki(e);if(u)return dn(u);o=!1,i=en,l=new Zn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function fi(e,t){return null==(e=Sa(e,t=xi(t,e)))||delete e[$a(Ka(t))]}function pi(e,t,n,r){return ei(e,t,n(Er(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function mi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function vi(e,t,n){var r=e.length;if(r<2)return r?di(e[0]):[];for(var i=-1,a=oe(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=fr(a[i]||o,e[s],t,n));return di(br(a,1),t,n)}function gi(e,t,r){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var l=i<o?t[i]:n;r(s,e[i],l)}return s}function bi(e){return Go(e)?e:[]}function yi(e){return"function"==typeof e?e:il}function xi(e,t){return Wo(e)?e:_a(e,t)?[e]:Fa(ys(e))}var _i=Qr;function wi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ii(e,t,r)}var ji=ut||function(e){return ht.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ci(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Oi(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var r=e!==n,i=null===e,a=e==e,o=us(e),s=t!==n,l=null===t,u=t==t,c=us(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&e<t||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}function Si(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=yn(a-o,0),c=oe(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<o;)(d||i<a)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Ai(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=yn(a-s,0),d=oe(c+u),f=!r;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++o<s;)(f||i<a)&&(d[p+n[o]]=e[i++]);return d}function Ii(e,t){var n=-1,r=e.length;for(t||(t=oe(r));++n<r;)t[n]=e[n];return t}function Mi(e,t,r,i){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=i?i(r[l],e[l],l,r,e):n;u===n&&(u=e[l]),a?or(r,l,u):nr(r,l,u)}return r}function ki(e,t){return function(n,r){var i=Wo(n)?Tt:ir,a=t?t():{};return i(n,e,ua(r,2),a)}}function Di(e){return Qr((function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:n,s=a>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(a--,o):n,s&&xa(r[0],r[1],s)&&(o=a<3?n:o,a=1),t=Te(t);++i<a;){var l=r[i];l&&e(t,l,i,o)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!Xo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Te(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Ni(e){return function(t,n,r){for(var i=-1,a=Te(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Fi(e){return function(t){var r=sn(t=ys(t))?hn(t):n,i=r?r[0]:t.charAt(0),a=r?wi(r,1).join(""):t.slice(1);return i[e]()+a}}function $i(e){return function(t){return Ft(Ys(qs(t).replace(Je,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Vi(e){return function(t,r,i){var a=Te(t);if(!Xo(t)){var o=ua(r,3);t=ks(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,i);return s>-1?a[o?t[s]:s]:n}}function Pi(e){return ra((function(t){var i=t.length,a=i,o=qn.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new Ie(r);if(o&&!l&&"wrapper"==sa(s))var l=new qn([],!0)}for(a=l?a:i;++a<i;){var u=sa(s=t[a]),c="wrapper"==u?oa(s):n;l=c&&wa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[sa(c[0])].apply(l,c[3]):1==s.length&&wa(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Wo(n))return l.plant(n).value();for(var r=0,a=i?t[r].apply(this,e):n;++r<i;)a=t[r].call(this,a);return a}}))}function zi(e,t,r,i,a,o,s,l,c,d){var f=t&u,p=1&t,h=2&t,m=24&t,v=512&t,g=h?n:Li(e);return function u(){for(var b=arguments.length,y=oe(b),x=b;x--;)y[x]=arguments[x];if(m)var _=la(u),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,_);if(i&&(y=Si(y,i,a,m)),o&&(y=Ai(y,o,s,m)),b-=w,m&&b<d){var j=cn(y,_);return Gi(e,t,zi,u.placeholder,r,y,j,l,c,d-b)}var E=p?r:this,C=h?E[e]:e;return b=y.length,l?y=function(e,t){var r=e.length,i=xn(t.length,r),a=Ii(e);for(;i--;){var o=t[i];e[i]=ya(o,r)?a[o]:n}return e}(y,l):v&&b>1&&y.reverse(),f&&c<b&&(y.length=c),this&&this!==ht&&this instanceof u&&(C=g||Li(C)),C.apply(E,y)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(r,i){var a;if(r===n&&i===n)return t;if(r!==n&&(a=r),i!==n){if(a===n)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=ui(r),i=ui(i)),a=e(r,i)}return a}}function qi(e){return ra((function(t){return t=Rt(t,Yt(ua())),Qr((function(n){var r=this;return e(t,(function(e){return Ot(e,r,n)}))}))}))}function Wi(e,t){var r=(t=t===n?" ":ci(t)).length;if(r<2)return r?Kr(t,e):t;var i=Kr(t,mt(e/pn(t)));return sn(t)?wi(hn(i),0,e).join(""):i.slice(0,e)}function Hi(e){return function(t,r,i){return i&&"number"!=typeof i&&xa(t,r,i)&&(r=i=n),t=hs(t),r===n?(r=t,t=0):r=hs(r),function(e,t,n,r){for(var i=-1,a=yn(mt((t-e)/(n||1)),0),o=oe(a);a--;)o[r?a:++i]=e,e+=n;return o}(t,r,i=i===n?t<r?1:-1:hs(i),e)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Gi(e,t,r,i,a,o,u,c,d,f){var p=8&t;t|=p?s:l,4&(t&=~(p?l:s))||(t&=-4);var h=[e,t,a,p?o:n,p?u:n,p?n:o,p?n:u,c,d,f],m=r.apply(n,h);return wa(e)&&Ia(m,h),m.placeholder=i,Da(m,e,t)}function Zi(e){var t=Oe[e];return function(e,n){if(e=gs(e),(n=null==n?0:xn(ms(n),292))&&Vt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=Sn&&1/dn(new Sn([,-0]))[1]==d?function(e){return new Sn(e)}:ul;function Qi(e){return function(t){var n=ma(t);return n==j?ln(t):n==S?fn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,i,d,f,p,h,m){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(r);var g=d?d.length:0;if(g||(t&=-97,d=f=n),h=h===n?h:yn(ms(h),0),m=m===n?m:ms(m),g-=f?f.length:0,t&l){var b=d,y=f;d=f=n}var x=v?n:oa(e),_=[e,t,i,d,f,b,y,p,h,m];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&n==c&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var d=e[3];e[3]=d?Si(d,l,t[4]):l,e[4]=d?cn(e[3],a):t[4]}(l=t[5])&&(d=e[5],e[5]=d?Ai(d,l,t[6]):l,e[6]=d?cn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&u&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,x),e=_[0],t=_[1],i=_[2],d=_[3],f=_[4],!(m=_[9]=_[9]===n?v?0:e.length:yn(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==o?function(e,t,r){var i=Li(e);return function a(){for(var o=arguments.length,s=oe(o),l=o,u=la(a);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:cn(s,u);return(o-=c.length)<r?Gi(e,t,zi,a.placeholder,n,s,c,n,n,r-o):Ot(this&&this!==ht&&this instanceof a?i:e,this,s)}}(e,t,m):t!=s&&33!=t||f.length?zi.apply(n,_):function(e,t,n,r){var i=1&t,a=Li(e);return function t(){for(var o=-1,s=arguments.length,l=-1,u=r.length,c=oe(u+s),d=this&&this!==ht&&this instanceof t?a:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++o];return Ot(d,i?n:this,c)}}(e,t,i,d);else var w=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Da((x?ti:Ia)(w,_),e,t)}function Ji(e,t,r,i){return e===n||zo(e,De[r])&&!Fe.call(i,r)?t:e}function ea(e,t,r,i,a,o){return ts(e)&&ts(t)&&(o.set(t,e),Ur(e,t,n,ea,o),o.delete(t)),e}function ta(e){return as(e)?n:e}function na(e,t,r,i,a,o){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var f=-1,p=!0,h=2&r?new Zn:n;for(o.set(e,t),o.set(t,e);++f<l;){var m=e[f],v=t[f];if(i)var g=s?i(v,m,f,t,e,o):i(m,v,f,e,t,o);if(g!==n){if(g)continue;p=!1;break}if(h){if(!Lt(t,(function(e,t){if(!en(h,t)&&(m===e||a(m,e,r,i,o)))return h.push(t)}))){p=!1;break}}else if(m!==v&&!a(m,v,r,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ra(e){return ka(Ta(e,n,Wa),e+"")}function ia(e){return Cr(e,ks,pa)}function aa(e){return Cr(e,Ds,ha)}var oa=Mn?function(e){return Mn.get(e)}:ul;function sa(e){for(var t=e.name+"",n=kn[t],r=Fe.call(kn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Fe.call(zn,"placeholder")?zn:e).placeholder}function ua(){var e=zn.iteratee||al;return e=e===al?Fr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function da(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ca(i)]}return t}function fa(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Nr(r)?r:n}var pa=bt?function(e){return null==e?[]:(e=Te(e),Mt(bt(e),(function(t){return Ze.call(e,t)})))}:vl,ha=bt?function(e){for(var t=[];e;)Nt(t,pa(e)),e=Xe(e);return t}:vl,ma=Or;function va(e,t,n){for(var r=-1,i=(t=xi(t,e)).length,a=!1;++r<i;){var o=$a(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&es(i)&&ya(o,i)&&(Wo(e)||qo(e))}function ga(e){return"function"!=typeof e.constructor||Ea(e)?{}:Bn(Xe(e))}function ba(e){return Wo(e)||qo(e)||!!(Qe&&e&&e[Qe])}function ya(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function xa(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Xo(n)&&ya(t,n.length):"string"==r&&t in n)&&zo(n[t],e)}function _a(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ee.test(e)||!J.test(e)||null!=t&&e in Te(t))}function wa(e){var t=sa(e),n=zn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(Cn&&ma(new Cn(new ArrayBuffer(1)))!=D||On&&ma(new On)!=j||Tn&&ma(Tn.resolve())!=O||Sn&&ma(new Sn)!=S||An&&ma(new An)!=M)&&(ma=function(e){var t=Or(e),r=t==C?e.constructor:n,i=r?La(r):"";if(i)switch(i){case Dn:return D;case Rn:return j;case Nn:return O;case Fn:return S;case $n:return M}return t});var ja=Re?Yo:gl;function Ea(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function Ca(e){return e==e&&!ts(e)}function Oa(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Te(r)))}}function Ta(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=yn(n.length-t,0),o=oe(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=oe(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Ot(e,this,s)}}function Sa(e,t){return t.length<2?e:Er(e,ii(t,0,-1))}function Aa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ia=Ra(ti),Ma=pt||function(e,t){return ht.setTimeout(e,t)},ka=Ra(ni);function Da(e,t,n){var r=t+"";return ka(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(m,(function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ue):[]}(r),n)))}function Ra(e){var t=0,r=0;return function(){var i=_n(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Na(e,t){var r=-1,i=e.length,a=i-1;for(t=t===n?i:t;++r<t;){var o=Zr(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var Fa=function(e){var t=No(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function $a(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function La(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Va(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Pa=Qr((function(e,t){return Go(e)?fr(e,br(t,1,Go,!0)):[]})),za=Qr((function(e,t){var r=Ka(t);return Go(r)&&(r=n),Go(e)?fr(e,br(t,1,Go,!0),ua(r,2)):[]})),Ba=Qr((function(e,t){var r=Ka(t);return Go(r)&&(r=n),Go(e)?fr(e,br(t,1,Go,!0),n,r):[]}));function Ua(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),zt(e,ua(t,3),i)}function qa(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return r!==n&&(a=ms(r),a=r<0?yn(i+a,0):xn(a,i-1)),zt(e,ua(t,3),a,!0)}function Wa(e){return(null==e?0:e.length)?br(e,1):[]}function Ha(e){return e&&e.length?e[0]:n}var Xa=Qr((function(e){var t=Rt(e,bi);return t.length&&t[0]===e[0]?Ir(t):[]})),Ga=Qr((function(e){var t=Ka(e),r=Rt(e,bi);return t===Ka(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Ir(r,ua(t,2)):[]})),Za=Qr((function(e){var t=Ka(e),r=Rt(e,bi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Ir(r,n,t):[]}));function Ka(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Qa=Qr(Ya);function Ya(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var Ja=ra((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Rt(t,(function(e){return ya(e,n)?+e:e})).sort(Ti)),r}));function eo(e){return null==e?e:En.call(e)}var to=Qr((function(e){return di(br(e,1,Go,!0))})),no=Qr((function(e){var t=Ka(e);return Go(t)&&(t=n),di(br(e,1,Go,!0),ua(t,2))})),ro=Qr((function(e){var t=Ka(e);return t="function"==typeof t?t:n,di(br(e,1,Go,!0),n,t)}));function io(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Go(e))return t=yn(e.length,t),!0})),Kt(t,(function(t){return Rt(e,Ht(t))}))}function ao(e,t){if(!e||!e.length)return[];var r=io(e);return null==t?r:Rt(r,(function(e){return Ot(t,n,e)}))}var oo=Qr((function(e,t){return Go(e)?fr(e,t):[]})),so=Qr((function(e){return vi(Mt(e,Go))})),lo=Qr((function(e){var t=Ka(e);return Go(t)&&(t=n),vi(Mt(e,Go),ua(t,2))})),uo=Qr((function(e){var t=Ka(e);return t="function"==typeof t?t:n,vi(Mt(e,Go),n,t)})),co=Qr(io);var fo=Qr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ao(e,r)}));function po(e){var t=zn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var mo=ra((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,a=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Wn&&ya(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:ho,args:[a],thisArg:n}),new qn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(a)}));var vo=ki((function(e,t,n){Fe.call(e,n)?++e[n]:or(e,n,1)}));var go=Vi(Ua),bo=Vi(qa);function yo(e,t){return(Wo(e)?St:pr)(e,ua(t,3))}function xo(e,t){return(Wo(e)?At:hr)(e,ua(t,3))}var _o=ki((function(e,t,n){Fe.call(e,n)?e[n].push(t):or(e,n,[t])}));var wo=Qr((function(e,t,n){var r=-1,i="function"==typeof t,a=Xo(e)?oe(e.length):[];return pr(e,(function(e){a[++r]=i?Ot(t,e,n):Mr(e,t,n)})),a})),jo=ki((function(e,t,n){or(e,n,t)}));function Eo(e,t){return(Wo(e)?Rt:Pr)(e,ua(t,3))}var Co=ki((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Oo=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xa(e,t[0],t[1])?t=[]:n>2&&xa(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,br(t,1),[])})),To=ft||function(){return ht.Date.now()};function So(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Yi(e,u,n,n,n,n,t)}function Ao(e,t){var i;if("function"!=typeof t)throw new Ie(r);return e=ms(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Io=Qr((function(e,t,n){var r=1;if(n.length){var i=cn(n,la(Io));r|=s}return Yi(e,r,t,n,i)})),Mo=Qr((function(e,t,n){var r=3;if(n.length){var i=cn(n,la(Mo));r|=s}return Yi(t,r,e,n,i)}));function ko(e,t,i){var a,o,s,l,u,c,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new Ie(r);function m(t){var r=a,i=o;return a=o=n,d=t,l=e.apply(i,r)}function v(e){var r=e-c;return c===n||r>=t||r<0||p&&e-d>=s}function g(){var e=To();if(v(e))return b(e);u=Ma(g,function(e){var n=t-(e-c);return p?xn(n,s-(e-d)):n}(e))}function b(e){return u=n,h&&a?m(e):(a=o=n,l)}function y(){var e=To(),r=v(e);if(a=arguments,o=this,c=e,r){if(u===n)return function(e){return d=e,u=Ma(g,t),f?m(e):l}(c);if(p)return ji(u),u=Ma(g,t),m(c)}return u===n&&(u=Ma(g,t)),l}return t=gs(t)||0,ts(i)&&(f=!!i.leading,s=(p="maxWait"in i)?yn(gs(i.maxWait)||0,t):s,h="trailing"in i?!!i.trailing:h),y.cancel=function(){u!==n&&ji(u),d=0,a=c=o=u=n},y.flush=function(){return u===n?l:b(To())},y}var Do=Qr((function(e,t){return dr(e,1,t)})),Ro=Qr((function(e,t,n){return dr(e,gs(t)||0,n)}));function No(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(No.Cache||Gn),n}function Fo(e){if("function"!=typeof e)throw new Ie(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}No.Cache=Gn;var $o=_i((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Rt(t[0],Yt(ua())):Rt(br(t,1),Yt(ua()))).length;return Qr((function(r){for(var i=-1,a=xn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Ot(e,this,r)}))})),Lo=Qr((function(e,t){var r=cn(t,la(Lo));return Yi(e,s,n,t,r)})),Vo=Qr((function(e,t){var r=cn(t,la(Vo));return Yi(e,l,n,t,r)})),Po=ra((function(e,t){return Yi(e,c,n,n,n,t)}));function zo(e,t){return e===t||e!=e&&t!=t}var Bo=Xi(Tr),Uo=Xi((function(e,t){return e>=t})),qo=kr(function(){return arguments}())?kr:function(e){return ns(e)&&Fe.call(e,"callee")&&!Ze.call(e,"callee")},Wo=oe.isArray,Ho=xt?Yt(xt):function(e){return ns(e)&&Or(e)==k};function Xo(e){return null!=e&&es(e.length)&&!Yo(e)}function Go(e){return ns(e)&&Xo(e)}var Zo=yt||gl,Ko=_t?Yt(_t):function(e){return ns(e)&&Or(e)==y};function Qo(e){if(!ns(e))return!1;var t=Or(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Yo(e){if(!ts(e))return!1;var t=Or(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=wt?Yt(wt):function(e){return ns(e)&&ma(e)==j};function is(e){return"number"==typeof e||ns(e)&&Or(e)==E}function as(e){if(!ns(e)||Or(e)!=C)return!1;var t=Xe(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Pe}var os=jt?Yt(jt):function(e){return ns(e)&&Or(e)==T};var ss=Et?Yt(Et):function(e){return ns(e)&&ma(e)==S};function ls(e){return"string"==typeof e||!Wo(e)&&ns(e)&&Or(e)==A}function us(e){return"symbol"==typeof e||ns(e)&&Or(e)==I}var cs=Ct?Yt(Ct):function(e){return ns(e)&&es(e.length)&&!!st[Or(e)]};var ds=Xi(Vr),fs=Xi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xo(e))return ls(e)?hn(e):Ii(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=ma(e);return(t==j?ln:t==S?dn:zs)(e)}function hs(e){return e?(e=gs(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?lr(ms(e),0,h):0}function gs(e){if("number"==typeof e)return e;if(us(e))return p;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):me.test(e)?p:+e}function bs(e){return Mi(e,Ds(e))}function ys(e){return null==e?"":ci(e)}var xs=Di((function(e,t){if(Ea(t)||Xo(t))Mi(t,ks(t),e);else for(var n in t)Fe.call(t,n)&&nr(e,n,t[n])})),_s=Di((function(e,t){Mi(t,Ds(t),e)})),ws=Di((function(e,t,n,r){Mi(t,Ds(t),e,r)})),js=Di((function(e,t,n,r){Mi(t,ks(t),e,r)})),Es=ra(sr);var Cs=Qr((function(e,t){e=Te(e);var r=-1,i=t.length,a=i>2?t[2]:n;for(a&&xa(t[0],t[1],a)&&(i=1);++r<i;)for(var o=t[r],s=Ds(o),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===n||zo(d,De[c])&&!Fe.call(e,c))&&(e[c]=o[c])}return e})),Os=Qr((function(e){return e.push(n,ea),Ot(Ns,n,e)}));function Ts(e,t,r){var i=null==e?n:Er(e,t);return i===n?r:i}function Ss(e,t){return null!=e&&va(e,t,Ar)}var As=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),e[t]=n}),tl(il)),Is=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Ms=Qr(Mr);function ks(e){return Xo(e)?Qn(e):$r(e)}function Ds(e){return Xo(e)?Qn(e,!0):Lr(e)}var Rs=Di((function(e,t,n){Ur(e,t,n)})),Ns=Di((function(e,t,n,r){Ur(e,t,n,r)})),Fs=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=xi(t,e),r||(r=t.length>1),t})),Mi(e,aa(e),n),r&&(n=ur(n,7,ta));for(var i=t.length;i--;)fi(n,t[i]);return n}));var $s=ra((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ss(e,n)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var n=Rt(aa(e),(function(e){return[e]}));return t=ua(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Vs=Qi(ks),Ps=Qi(Ds);function zs(e){return null==e?[]:Jt(e,ks(e))}var Bs=$i((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return Qs(ys(e).toLowerCase())}function qs(e){return(e=ys(e))&&e.replace(xe,rn).replace(et,"")}var Ws=$i((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=$i((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=Fi("toLowerCase");var Gs=$i((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Zs=$i((function(e,t,n){return e+(n?" ":"")+Qs(t)}));var Ks=$i((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Fi("toUpperCase");function Ys(e,t,r){return e=ys(e),(t=r?n:t)===n?function(e){return it.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Js=Qr((function(e,t){try{return Ot(e,n,t)}catch(e){return Qo(e)?e:new Ee(e)}})),el=ra((function(e,t){return St(t,(function(t){t=$a(t),or(e,t,Io(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=Pi(),rl=Pi(!0);function il(e){return e}function al(e){return Fr("function"==typeof e?e:ur(e,1))}var ol=Qr((function(e,t){return function(n){return Mr(n,e,t)}})),sl=Qr((function(e,t){return function(n){return Mr(e,n,t)}}));function ll(e,t,n){var r=ks(t),i=jr(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=jr(t,ks(t)));var a=!(ts(n)&&"chain"in n&&!n.chain),o=Yo(e);return St(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function ul(){}var cl=qi(Rt),dl=qi(It),fl=qi(Lt);function pl(e){return _a(e)?Ht($a(e)):function(e){return function(t){return Er(t,e)}}(e)}var hl=Hi(),ml=Hi(!0);function vl(){return[]}function gl(){return!1}var bl=Ui((function(e,t){return e+t}),0),yl=Zi("ceil"),xl=Ui((function(e,t){return e/t}),1),_l=Zi("floor");var wl,jl=Ui((function(e,t){return e*t}),1),El=Zi("round"),Cl=Ui((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Ie(r);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=So,zn.assign=xs,zn.assignIn=_s,zn.assignInWith=ws,zn.assignWith=js,zn.at=Es,zn.before=Ao,zn.bind=Io,zn.bindAll=el,zn.bindKey=Mo,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},zn.chain=po,zn.chunk=function(e,t,r){t=(r?xa(e,t,r):t===n)?1:yn(ms(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=oe(mt(i/t));a<i;)s[o++]=ii(e,a,a+=t);return s},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=oe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Nt(Wo(n)?Ii(n):[n],br(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=ua();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ie(r);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ot(i[0],this,n))return Ot(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=ks(e);return function(n){return cr(n,e,t)}}(ur(e,1))},zn.constant=tl,zn.countBy=vo,zn.create=function(e,t){var n=Bn(e);return null==t?n:ar(n,t)},zn.curry=function e(t,r,i){var a=Yi(t,8,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},zn.curryRight=function e(t,r,i){var a=Yi(t,o,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},zn.debounce=ko,zn.defaults=Cs,zn.defaultsDeep=Os,zn.defer=Do,zn.delay=Ro,zn.difference=Pa,zn.differenceBy=za,zn.differenceWith=Ba,zn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=r||t===n?1:ms(t))<0?0:t,i):[]},zn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,0,(t=i-(t=r||t===n?1:ms(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0):[]},zn.fill=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&xa(e,t,r)&&(r=0,i=a),function(e,t,r,i){var a=e.length;for((r=ms(r))<0&&(r=-r>a?0:a+r),(i=i===n||i>a?a:ms(i))<0&&(i+=a),i=r>i?0:vs(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},zn.filter=function(e,t){return(Wo(e)?Mt:gr)(e,ua(t,3))},zn.flatMap=function(e,t){return br(Eo(e,t),1)},zn.flatMapDeep=function(e,t){return br(Eo(e,t),d)},zn.flatMapDepth=function(e,t,r){return r=r===n?1:ms(r),br(Eo(e,t),r)},zn.flatten=Wa,zn.flattenDeep=function(e){return(null==e?0:e.length)?br(e,d):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===n?1:ms(t)):[]},zn.flip=function(e){return Yi(e,512)},zn.flow=nl,zn.flowRight=rl,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:jr(e,ks(e))},zn.functionsIn=function(e){return null==e?[]:jr(e,Ds(e))},zn.groupBy=_o,zn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},zn.intersection=Xa,zn.intersectionBy=Ga,zn.intersectionWith=Za,zn.invert=As,zn.invertBy=Is,zn.invokeMap=wo,zn.iteratee=al,zn.keyBy=jo,zn.keys=ks,zn.keysIn=Ds,zn.map=Eo,zn.mapKeys=function(e,t){var n={};return t=ua(t,3),_r(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=ua(t,3),_r(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(ur(e,1))},zn.matchesProperty=function(e,t){return Br(e,ur(t,1))},zn.memoize=No,zn.merge=Rs,zn.mergeWith=Ns,zn.method=ol,zn.methodOf=sl,zn.mixin=ll,zn.negate=Fo,zn.nthArg=function(e){return e=ms(e),Qr((function(t){return qr(t,e)}))},zn.omit=Fs,zn.omitBy=function(e,t){return Ls(e,Fo(ua(t)))},zn.once=function(e){return Ao(2,e)},zn.orderBy=function(e,t,r,i){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(r=i?n:r)||(r=null==r?[]:[r]),Wr(e,t,r))},zn.over=cl,zn.overArgs=$o,zn.overEvery=dl,zn.overSome=fl,zn.partial=Lo,zn.partialRight=Vo,zn.partition=Co,zn.pick=$s,zn.pickBy=Ls,zn.property=pl,zn.propertyOf=function(e){return function(t){return null==e?n:Er(e,t)}},zn.pull=Qa,zn.pullAll=Ya,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,ua(n,2)):e},zn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Xr(e,t,n,r):e},zn.pullAt=Ja,zn.range=hl,zn.rangeRight=ml,zn.rearg=Po,zn.reject=function(e,t){return(Wo(e)?Mt:gr)(e,Fo(ua(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ua(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Gr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Ie(r);return Qr(e,t=t===n?t:ms(t))},zn.reverse=eo,zn.sampleSize=function(e,t,r){return t=(r?xa(e,t,r):t===n)?1:ms(t),(Wo(e)?Jn:Jr)(e,t)},zn.set=function(e,t,n){return null==e?e:ei(e,t,n)},zn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ei(e,t,r,i)},zn.shuffle=function(e){return(Wo(e)?er:ri)(e)},zn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&xa(e,t,r)?(t=0,r=i):(t=null==t?0:ms(t),r=r===n?i:ms(r)),ii(e,t,r)):[]},zn.sortBy=Oo,zn.sortedUniq=function(e){return e&&e.length?li(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?li(e,ua(t,2)):[]},zn.split=function(e,t,r){return r&&"number"!=typeof r&&xa(e,t,r)&&(t=r=n),(r=r===n?h:r>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ci(t))&&sn(e)?wi(hn(e),0,r):e.split(t,r):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Ie(r);return t=null==t?0:yn(ms(t),0),Qr((function(n){var r=n[t],i=wi(n,0,t);return r&&Nt(i,r),Ot(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},zn.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===n?1:ms(t))<0?0:t):[]},zn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=i-(t=r||t===n?1:ms(t)))<0?0:t,i):[]},zn.takeRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?hi(e,ua(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new Ie(r);return ts(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),ko(e,t,{leading:i,maxWait:t,trailing:a})},zn.thru=ho,zn.toArray=ps,zn.toPairs=Vs,zn.toPairsIn=Ps,zn.toPath=function(e){return Wo(e)?Rt(e,$a):us(e)?[e]:Ii(Fa(ys(e)))},zn.toPlainObject=bs,zn.transform=function(e,t,n){var r=Wo(e),i=r||Zo(e)||cs(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ts(e)&&Yo(a)?Bn(Xe(e)):{}}return(i?St:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return So(e,1)},zn.union=to,zn.unionBy=no,zn.unionWith=ro,zn.uniq=function(e){return e&&e.length?di(e):[]},zn.uniqBy=function(e,t){return e&&e.length?di(e,ua(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?di(e,n,t):[]},zn.unset=function(e,t){return null==e||fi(e,t)},zn.unzip=io,zn.unzipWith=ao,zn.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},zn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:pi(e,t,yi(r),i)},zn.values=zs,zn.valuesIn=function(e){return null==e?[]:Jt(e,Ds(e))},zn.without=oo,zn.words=Ys,zn.wrap=function(e,t){return Lo(yi(t),e)},zn.xor=so,zn.xorBy=lo,zn.xorWith=uo,zn.zip=co,zn.zipObject=function(e,t){return gi(e||[],t||[],nr)},zn.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},zn.zipWith=fo,zn.entries=Vs,zn.entriesIn=Ps,zn.extend=_s,zn.extendWith=ws,ll(zn,zn),zn.add=bl,zn.attempt=Js,zn.camelCase=Bs,zn.capitalize=Us,zn.ceil=yl,zn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=gs(r))==r?r:0),t!==n&&(t=(t=gs(t))==t?t:0),lr(gs(e),t,r)},zn.clone=function(e){return ur(e,4)},zn.cloneDeep=function(e){return ur(e,5)},zn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:n)},zn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:n)},zn.conformsTo=function(e,t){return null==t||cr(e,t,ks(t))},zn.deburr=qs,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=xl,zn.endsWith=function(e,t,r){e=ys(e),t=ci(t);var i=e.length,a=r=r===n?i:lr(ms(r),0,i);return(r-=t.length)>=0&&e.slice(r,a)==t},zn.eq=zo,zn.escape=function(e){return(e=ys(e))&&Z.test(e)?e.replace(X,an):e},zn.escapeRegExp=function(e){return(e=ys(e))&&re.test(e)?e.replace(ne,"\\$&"):e},zn.every=function(e,t,r){var i=Wo(e)?It:mr;return r&&xa(e,t,r)&&(t=n),i(e,ua(t,3))},zn.find=go,zn.findIndex=Ua,zn.findKey=function(e,t){return Pt(e,ua(t,3),_r)},zn.findLast=bo,zn.findLastIndex=qa,zn.findLastKey=function(e,t){return Pt(e,ua(t,3),wr)},zn.floor=_l,zn.forEach=yo,zn.forEachRight=xo,zn.forIn=function(e,t){return null==e?e:yr(e,ua(t,3),Ds)},zn.forInRight=function(e,t){return null==e?e:xr(e,ua(t,3),Ds)},zn.forOwn=function(e,t){return e&&_r(e,ua(t,3))},zn.forOwnRight=function(e,t){return e&&wr(e,ua(t,3))},zn.get=Ts,zn.gt=Bo,zn.gte=Uo,zn.has=function(e,t){return null!=e&&va(e,t,Sr)},zn.hasIn=Ss,zn.head=Ha,zn.identity=il,zn.includes=function(e,t,n,r){e=Xo(e)?e:zs(e),n=n&&!r?ms(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Bt(e,t,i)},zn.inRange=function(e,t,r){return t=hs(t),r===n?(r=t,t=0):r=hs(r),function(e,t,n){return e>=xn(t,n)&&e<yn(t,n)}(e=gs(e),t,r)},zn.invoke=Ms,zn.isArguments=qo,zn.isArray=Wo,zn.isArrayBuffer=Ho,zn.isArrayLike=Xo,zn.isArrayLikeObject=Go,zn.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Or(e)==b},zn.isBuffer=Zo,zn.isDate=Ko,zn.isElement=function(e){return ns(e)&&1===e.nodeType&&!as(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Xo(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Zo(e)||cs(e)||qo(e)))return!e.length;var t=ma(e);if(t==j||t==S)return!e.size;if(Ea(e))return!$r(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Dr(e,t)},zn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Dr(e,t,n,r):!!i},zn.isError=Qo,zn.isFinite=function(e){return"number"==typeof e&&Vt(e)},zn.isFunction=Yo,zn.isInteger=Jo,zn.isLength=es,zn.isMap=rs,zn.isMatch=function(e,t){return e===t||Rr(e,t,da(t))},zn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Rr(e,t,da(t),r)},zn.isNaN=function(e){return is(e)&&e!=+e},zn.isNative=function(e){if(ja(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=is,zn.isObject=ts,zn.isObjectLike=ns,zn.isPlainObject=as,zn.isRegExp=os,zn.isSafeInteger=function(e){return Jo(e)&&e>=-9007199254740991&&e<=f},zn.isSet=ss,zn.isString=ls,zn.isSymbol=us,zn.isTypedArray=cs,zn.isUndefined=function(e){return e===n},zn.isWeakMap=function(e){return ns(e)&&ma(e)==M},zn.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==Or(e)},zn.join=function(e,t){return null==e?"":Xt.call(e,t)},zn.kebabCase=Ws,zn.last=Ka,zn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i;return r!==n&&(a=(a=ms(r))<0?yn(i+a,0):xn(a,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):zt(e,qt,a,!0)},zn.lowerCase=Hs,zn.lowerFirst=Xs,zn.lt=ds,zn.lte=fs,zn.max=function(e){return e&&e.length?vr(e,il,Tr):n},zn.maxBy=function(e,t){return e&&e.length?vr(e,ua(t,2),Tr):n},zn.mean=function(e){return Wt(e,il)},zn.meanBy=function(e,t){return Wt(e,ua(t,2))},zn.min=function(e){return e&&e.length?vr(e,il,Vr):n},zn.minBy=function(e,t){return e&&e.length?vr(e,ua(t,2),Vr):n},zn.stubArray=vl,zn.stubFalse=gl,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=jl,zn.nth=function(e,t){return e&&e.length?qr(e,ms(t)):n},zn.noConflict=function(){return ht._===this&&(ht._=ze),this},zn.noop=ul,zn.now=To,zn.pad=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(mt(i),n)},zn.padEnd=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},zn.padStart=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ys(e).replace(ie,""),t||0)},zn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&xa(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=hs(e),t===n?(t=e,e=0):t=hs(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=jn();return xn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Zr(e,t)},zn.reduce=function(e,t,n){var r=Wo(e)?Ft:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,pr)},zn.reduceRight=function(e,t,n){var r=Wo(e)?$t:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,hr)},zn.repeat=function(e,t,r){return t=(r?xa(e,t,r):t===n)?1:ms(t),Kr(ys(e),t)},zn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,r){var i=-1,a=(t=xi(t,e)).length;for(a||(a=1,e=n);++i<a;){var o=null==e?n:e[$a(t[i])];o===n&&(i=a,o=r),e=Yo(o)?o.call(e):o}return e},zn.round=El,zn.runInContext=e,zn.sample=function(e){return(Wo(e)?Yn:Yr)(e)},zn.size=function(e){if(null==e)return 0;if(Xo(e))return ls(e)?pn(e):e.length;var t=ma(e);return t==j||t==S?e.size:$r(e).length},zn.snakeCase=Gs,zn.some=function(e,t,r){var i=Wo(e)?Lt:ai;return r&&xa(e,t,r)&&(t=n),i(e,ua(t,3))},zn.sortedIndex=function(e,t){return oi(e,t)},zn.sortedIndexBy=function(e,t,n){return si(e,t,ua(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&zo(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return oi(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return si(e,t,ua(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(zo(e[n],t))return n}return-1},zn.startCase=Zs,zn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:lr(ms(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},zn.subtract=Cl,zn.sum=function(e){return e&&e.length?Zt(e,il):0},zn.sumBy=function(e,t){return e&&e.length?Zt(e,ua(t,2)):0},zn.template=function(e,t,r){var i=zn.templateSettings;r&&xa(e,t,r)&&(t=n),e=ys(e),t=ws({},t,i,Ji);var a,o,s=ws({},t.imports,i.imports,Ji),l=ks(s),u=Jt(s,l),c=0,d=t.interpolate||_e,f="__p += '",p=Se((t.escape||_e).source+"|"+d.source+"|"+(d===Y?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),h="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(p,(function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(c,l).replace(we,on),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=Fe.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(U,""):f).replace(q,"$1").replace(W,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Js((function(){return Ce(l,h+"return "+f).apply(n,u)}));if(v.source=f,Qo(v))throw v;return v},zn.times=function(e,t){if((e=ms(e))<1||e>f)return[];var n=h,r=xn(e,h);t=ua(t),e-=h;for(var i=Kt(r,t);++n<e;)t(n);return i},zn.toFinite=hs,zn.toInteger=ms,zn.toLength=vs,zn.toLower=function(e){return ys(e).toLowerCase()},zn.toNumber=gs,zn.toSafeInteger=function(e){return e?lr(ms(e),-9007199254740991,f):0===e?e:0},zn.toString=ys,zn.toUpper=function(e){return ys(e).toUpperCase()},zn.trim=function(e,t,r){if((e=ys(e))&&(r||t===n))return Qt(e);if(!e||!(t=ci(t)))return e;var i=hn(e),a=hn(t);return wi(i,tn(i,a),nn(i,a)+1).join("")},zn.trimEnd=function(e,t,r){if((e=ys(e))&&(r||t===n))return e.slice(0,mn(e)+1);if(!e||!(t=ci(t)))return e;var i=hn(e);return wi(i,0,nn(i,hn(t))+1).join("")},zn.trimStart=function(e,t,r){if((e=ys(e))&&(r||t===n))return e.replace(ie,"");if(!e||!(t=ci(t)))return e;var i=hn(e);return wi(i,tn(i,hn(t))).join("")},zn.truncate=function(e,t){var r=30,i="...";if(ts(t)){var a="separator"in t?t.separator:a;r="length"in t?ms(t.length):r,i="omission"in t?ci(t.omission):i}var o=(e=ys(e)).length;if(sn(e)){var s=hn(e);o=s.length}if(r>=o)return e;var l=r-pn(i);if(l<1)return i;var u=s?wi(s,0,l).join(""):e.slice(0,l);if(a===n)return u+i;if(s&&(l+=u.length-l),os(a)){if(e.slice(l).search(a)){var c,d=u;for(a.global||(a=Se(a.source,ys(he.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var f=c.index;u=u.slice(0,f===n?l:f)}}else if(e.indexOf(ci(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+i},zn.unescape=function(e){return(e=ys(e))&&G.test(e)?e.replace(H,vn):e},zn.uniqueId=function(e){var t=++$e;return ys(e)+t},zn.upperCase=Ks,zn.upperFirst=Qs,zn.each=yo,zn.eachRight=xo,zn.first=Ha,ll(zn,(wl={},_r(zn,(function(e,t){Fe.call(zn.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),zn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),St(["drop","take"],(function(e,t){Wn.prototype[e]=function(r){r=r===n?1:yn(ms(r),0);var i=this.__filtered__&&!t?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=xn(r,i.__takeCount__):i.__views__.push({size:xn(r,h),type:e+(i.__dir__<0?"Right":"")}),i},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Mr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Fo(ua(e)))},Wn.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Wn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(h)},_r(Wn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=zn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(zn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Wn,u=s[0],c=l||Wo(t),d=function(e){var t=a.apply(zn,Nt([e],s));return i&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=o&&!f,m=l&&!p;if(!o&&c){t=m?t:new Wn(this);var v=e.apply(t,s);return v.__actions__.push({func:ho,args:[d],thisArg:n}),new qn(v,f)}return h&&m?e.apply(this,s):(v=this.thru(d),h?i?v.value()[0]:v.value():v)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),_r(Wn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Fe.call(kn,r)||(kn[r]=[]),kn[r].push({name:t,func:n})}})),kn[zi(n,2).name]=[{name:"wrapper",func:n}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=xn(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,p=xn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return mi(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,v=e[u+=t];++m<d;){var g=c[m],b=g.iteratee,y=g.type,x=b(v);if(2==y)v=x;else if(!x){if(1==y)continue e;break e}}h[f++]=v}return h},zn.prototype.at=mo,zn.prototype.chain=function(){return po(this)},zn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===n&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,r=this;r instanceof Un;){var i=Va(r);i.__index__=0,i.__values__=n,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ho,args:[eo],thisArg:n}),new qn(t,this.__chain__)}return this.thru(eo)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Ye&&(zn.prototype[Ye]=function(){return this}),zn}();vt?((vt.exports=gn)._=gn,mt._=gn):ht._=gn}).call(oe)}(le,le.exports);var ue=le.exports,ce=Symbol.for("immer-nothing"),de=Symbol.for("immer-draftable"),fe=Symbol.for("immer-state"),pe="production"!==process.env.NODE_ENV?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}]:[];function he(e,...t){if("production"!==process.env.NODE_ENV){const n=pe[e],r="function"==typeof n?n.apply(null,t):n;throw new Error(`[Immer] ${r}`)}throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var me=Object.getPrototypeOf;function ve(e){return!!e&&!!e[fe]}function ge(e){return!!e&&(ye(e)||Array.isArray(e)||!!e[de]||!!e.constructor?.[de]||Ee(e)||Ce(e))}var be=Object.prototype.constructor.toString();function ye(e){if(!e||"object"!=typeof e)return!1;const t=me(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===be}function xe(e,t){0===_e(e)?Object.entries(e).forEach((([n,r])=>{t(n,r,e)})):e.forEach(((n,r)=>t(r,n,e)))}function _e(e){const t=e[fe];return t?t.type_:Array.isArray(e)?1:Ee(e)?2:Ce(e)?3:0}function we(e,t){return 2===_e(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function je(e,t,n){const r=_e(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ee(e){return e instanceof Map}function Ce(e){return e instanceof Set}function Oe(e){return e.copy_||e.base_}function Te(e,t){if(Ee(e))return new Map(e);if(Ce(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&ye(e)){if(!me(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[fe];let r=Reflect.ownKeys(n);for(let t=0;t<r.length;t++){const i=r[t],a=n[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(me(e),n)}function Se(e,t=!1){return Ie(e)||ve(e)||!ge(e)||(_e(e)>1&&(e.set=e.add=e.clear=e.delete=Ae),Object.freeze(e),t&&xe(e,((e,t)=>Se(t,!0)))),e}function Ae(){he(2)}function Ie(e){return Object.isFrozen(e)}var Me,ke={};function De(e){const t=ke[e];return t||he(0,e),t}function Re(){return Me}function Ne(e,t){t&&(De("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fe(e){$e(e),e.drafts_.forEach(Ve),e.drafts_=null}function $e(e){e===Me&&(Me=e.parent_)}function Le(e){return Me={drafts_:[],parent_:Me,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ve(e){const t=e[fe];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Pe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[fe].modified_&&(Fe(t),he(4)),ge(e)&&(e=ze(t,e),t.parent_||Ue(t,e)),t.patches_&&De("Patches").generateReplacementPatches_(n[fe].base_,e,t.patches_,t.inversePatches_)):e=ze(t,n,[]),Fe(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ce?e:void 0}function ze(e,t,n){if(Ie(t))return t;const r=t[fe];if(!r)return xe(t,((i,a)=>Be(e,r,t,i,a,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Ue(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),xe(i,((i,o)=>Be(e,r,t,i,o,n,a))),Ue(e,t,!1),n&&e.patches_&&De("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Be(e,t,n,r,i,a,o){if("production"!==process.env.NODE_ENV&&i===n&&he(5),ve(i)){const o=ze(e,i,a&&t&&3!==t.type_&&!we(t.assigned_,r)?a.concat(r):void 0);if(je(n,r,o),!ve(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(ge(i)&&!Ie(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ze(e,i),t&&t.scope_.parent_||Ue(e,i)}}function Ue(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Se(t,n)}var qe={get(e,t){if(t===fe)return e;const n=Oe(e);if(!we(n,t))return function(e,t,n){const r=Xe(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ge(r)?r:r===He(e.base_,t)?(Ze(e),e.copy_[t]=Ke(r,e)):r},has:(e,t)=>t in Oe(e),ownKeys:e=>Reflect.ownKeys(Oe(e)),set(e,t,n){const r=Xe(Oe(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=He(Oe(e),t),o=r?.[fe];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||we(e.base_,t)))return!0;Ze(e),Ge(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==He(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ze(e),Ge(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Oe(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){he(11)},getPrototypeOf:e=>me(e.base_),setPrototypeOf(){he(12)}},We={};function He(e,t){const n=e[fe];return(n?Oe(n):e)[t]}function Xe(e,t){if(!(t in e))return;let n=me(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=me(n)}}function Ge(e){e.modified_||(e.modified_=!0,e.parent_&&Ge(e.parent_))}function Ze(e){e.copy_||(e.copy_=Te(e.base_,e.scope_.immer_.useStrictShallowCopy_))}xe(qe,((e,t)=>{We[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),We.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&he(13),We.set.call(this,e,t,void 0)},We.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&he(14),qe.set.call(this,e[0],t,n,e[0])};function Ke(e,t){const n=Ee(e)?De("MapSet").proxyMap_(e,t):Ce(e)?De("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Re(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=qe;n&&(i=[r],a=We);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Re()).drafts_.push(n),n}function Qe(e){if(!ge(e)||Ie(e))return e;const t=e[fe];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Te(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Te(e,!0);return xe(n,((e,t)=>{je(n,e,Qe(t))})),t&&(t.finalized_=!1),n}var Ye,Je,et=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&he(6),void 0!==n&&"function"!=typeof n&&he(7),ge(e)){const i=Le(this),a=Ke(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?Fe(i):$e(i)}return Ne(i,n),Pe(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===ce&&(r=void 0),this.autoFreeze_&&Se(r,!0),n){const t=[],i=[];De("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}he(1,e)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ge(e)||he(8),ve(e)&&(e=function(e){ve(e)||he(10,e);return Qe(e)}(e));const t=Le(this),n=Ke(e,void 0);return n[fe].isManual_=!0,$e(t),n}finishDraft(e,t){const n=e&&e[fe];n&&n.isManual_||he(9);const{scope_:r}=n;return Ne(r,t),Pe(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=De("Patches").applyPatches_;return ve(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},tt=et.produce;function nt(e,n,r){var i=t.useMemo((function(){return tt(e)}),[e]);return t.useReducer(i,n,r)}et.produceWithPatches.bind(et),et.setAutoFreeze.bind(et),et.setUseStrictShallowCopy.bind(et),et.applyPatches.bind(et),et.createDraft.bind(et),et.finishDraft.bind(et),function(e){e.ADD_ELEMENT="add-element",e.EDIT_ELEMENT="edit-element",e.EDIT_PAGES="edit-pages"}(Ye||(Ye={})),function(e){e.EMAIL_FIELD="email-field",e.NUMERIC_FIELD="numeric-field",e.TEXT_FIELD="text-field",e.CONTACT_FIELD="contact-field",e.TEXTAREA_FIELD="textarea-field"}(Je||(Je={}));const rt={mode:Ye.ADD_ELEMENT,elements:{},focusedElement:null,showSidePanel:!0,orderedIdentifiers:[],deletedElements:{},elementCounter:0,selectedElementType:null,isSubmitting:!1},it=(e,t)=>{switch(t.type){case"toggle-submitting":e.isSubmitting=t.payload;break;case"toggle-panel":e.showSidePanel=t.payload;break;case"toggle-mode":e.mode=t.payload;break;case"update-ordered-identifiers":e.orderedIdentifiers=t.payload;break;case"add-element":{const n=t.payload.element;e.elements[n.internalId]=n,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.elementCounter+=1;break}case"delete-element":case"undo-delete-element":e.elements=t.payload.updatedElements,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.deletedElements=t.payload.deletedElements;break;case"focus-element":e.focusedElement=t.payload,e.selectedElementType=t.payload.element.type;break;case"remove-focused-element":e.focusedElement=null;break;case"update-element":{const n=e.focusedElement.element.internalId;e.elements=Object.assign(Object.assign({},e.elements),{[n]:Object.assign(Object.assign({},t.payload),{internalId:n})});break}case"update-focused-element":if(t.payload.element){const n=Object.assign(Object.assign({},t.payload.element),{internalId:e.focusedElement.element.internalId});e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty,element:n})}else e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty});break;case"select-element-type":e.selectedElementType=t.payload;break;case"update-schema-element":e.elements=Object.assign({},t.payload.elements),e.orderedIdentifiers=t.payload.orderedIdentifiers}return e},at=t.createContext({state:rt,dispatch:ue.noop}),ot=({children:t})=>{const[n,r]=nt(it,rt);return e.jsx(at.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},st=()=>{const{state:e,dispatch:n}=t.useContext(at),r=t.useCallback((e=>{n({type:"toggle-submitting",payload:e})}),[]),i=t.useCallback((e=>{n({type:"toggle-panel",payload:e})}),[]),a=t.useCallback((e=>{const t=[...e.map((e=>e.position))].sort(((e,t)=>e-t)),r=e.map(((e,n)=>Object.assign(Object.assign({},e),{position:t[n]})));n({type:"update-ordered-identifiers",payload:r})}),[]),o=t.useCallback(((t,r)=>{const i=e.orderedIdentifiers.map((e=>e.internalId)),a=Object.values(e.elements).map((e=>e.id)),o=re.generate(t,i,a),s=[...e.orderedIdentifiers,{internalId:o.internalId,position:e.elementCounter,size:"full"}];n({type:"add-element",payload:{element:o,orderedIdentifiers:s}}),r&&n({type:"focus-element",payload:{element:o,isDirty:!1}})}),[e.orderedIdentifiers,e.elements]),s=t.useCallback((t=>{const r=e.orderedIdentifiers.find((e=>e.internalId===t.internalId)).size,i=e.orderedIdentifiers.map((e=>e.internalId)),a=Object.values(e.elements).map((e=>e.id)),o=re.duplicate(t,i,a),s=[...e.orderedIdentifiers,{internalId:o.internalId,position:e.elementCounter,size:r}];n({type:"add-element",payload:{element:o,orderedIdentifiers:s}}),n({type:"focus-element",payload:{element:o,isDirty:!1}})}),[e.orderedIdentifiers]),l=t.useCallback((t=>{const r=e.elements,i=t,a=r[i],o=W(r,["symbol"==typeof i?i:i+""]),s=e.orderedIdentifiers.find((e=>e.internalId===t)),l=e.orderedIdentifiers.filter((e=>e.internalId!==t)),u=Object.fromEntries(Object.entries(o).map((([e,n])=>{var r;return[e,Object.assign(Object.assign({},n),{conditionalRendering:null===(r=null==n?void 0:n.conditionalRendering)||void 0===r?void 0:r.filter((e=>e.internalId!==t))})]}))),c=Object.assign(Object.assign({},e.deletedElements),{[t]:{element:a,position:s.position,size:s.size}});n({type:"delete-element",payload:{updatedElements:u,orderedIdentifiers:l,deletedElements:c}}),null!==e.focusedElement&&(d(),f(Ye.ADD_ELEMENT))}),[e.orderedIdentifiers,e.elements,e.mode,e.deletedElements,e.focusedElement]),u=t.useCallback((t=>{const r=e.deletedElements[t];if(!r)return;const i=e.orderedIdentifiers;let a=i.findIndex((e=>e.position>r.position));-1===a&&(a=i.length);const o=[...i];o.splice(a,0,{internalId:t,position:r.position,size:r.size}),n({type:"undo-delete-element",payload:{updatedElements:Object.assign(Object.assign({},e.elements),{[t]:r.element}),orderedIdentifiers:o,deletedElements:Object.fromEntries(Object.entries(e.deletedElements).filter((([e])=>e!==t)))}})}),[e.deletedElements,e.orderedIdentifiers,e.elements]),c=t.useCallback((e=>{n({type:"focus-element",payload:{element:e}})}),[]),d=t.useCallback((()=>{n({type:"remove-focused-element"})}),[]),f=t.useCallback((e=>{n({type:"toggle-mode",payload:e})}),[]),p=t.useCallback((e=>{n({type:"update-element",payload:e})}),[]),h=t.useCallback(((e,t,r)=>{n({type:"update-schema-element",payload:{elements:e,orderedIdentifiers:t}}),r&&(n({type:"remove-focused-element"}),n({type:"focus-element",payload:{element:r}}))}),[]),m=t.useCallback(((e,t)=>{n({type:"update-focused-element",payload:{isDirty:e,element:t}})}),[]),v=t.useCallback((e=>{n({type:"select-element-type",payload:e})}),[]);return{isSubmitting:e.isSubmitting,deletedElements:e.deletedElements,elements:e.elements,showSidePanel:e.showSidePanel,currentMode:e.mode,orderedIdentifiers:e.orderedIdentifiers,focusedElement:e.focusedElement,selectedElementType:e.selectedElementType,toggleSubmitting:r,togglePanel:i,toggleMode:f,updateOrderedIdentifiers:a,addElement:o,deleteElement:l,undoDeleteElement:u,focusElement:c,removeFocusedElement:d,updateElement:p,updateFocusedElement:m,duplicateElement:s,selectElementType:v,updateElementSchema:h}},lt=t.createContext({}),ut=({children:t,value:n})=>e.jsx(lt.Provider,Object.assign({value:n||{}},{children:t})),ct=()=>t.useContext(lt),dt=(e,t)=>{var n;const{presetForm:r,elements:i}=ct(),a=null==i?void 0:i[Z[t]],o=null==a?void 0:a.isDisabled,s=null===(n=null==r?void 0:r[e])||void 0===n?void 0:n.isDisabled;return null!=o?o:s},ft=(e,t)=>{var n,r,i,a;const{attributes:o,elements:s}=ct(),l=null===(n=null==e?void 0:e.element)||void 0===n?void 0:n.type,u=null===(r=null==s?void 0:s[Z[l]])||void 0===r?void 0:r.attributes,c=null===(i=null==u?void 0:u[t])||void 0===i?void 0:i.isDisabled,d=null===(a=null==o?void 0:o[t])||void 0===a?void 0:a.isDisabled;return null!=c?c:d},pt=(e,t)=>{var n,r,i,a,o;const{elements:s,attributes:l}=ct(),u=null==s?void 0:s[t];return null===(o=null!==(i=null===(r=null===(n=null==u?void 0:u.attributes)||void 0===n?void 0:n[e])||void 0===r?void 0:r.shouldShow)&&void 0!==i?i:null===(a=null==l?void 0:l[e])||void 0===a?void 0:a.shouldShow)||void 0===o||o},ht=()=>{var e,t;const{attributes:n}=ct();return null===(t=null===(e=null==n?void 0:n.prefill)||void 0===e?void 0:e.shouldShow)||void 0===t||t};var mt=se((function(){}));const vt={toasts:[],modals:[]},gt=(e,t)=>{switch(t.type){case"set-modal":e.modals=[t.payload];break;case"show-toast":e.toasts=[...e.toasts,t.payload];break;case"dismiss-toast":{const n=[...e.toasts].filter((e=>e.id!==t.payload));e.toasts=n;break}case"hide-modal":e=Object.assign(Object.assign({},e),{modals:t.payload?e.modals.filter((e=>e.type!==t.payload)):[]})}return e},bt=t.createContext({state:vt,dispatch:mt}),yt=({children:t})=>{const[n,r]=nt(gt,vt);return e.jsx(bt.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},xt=()=>{const{state:e,dispatch:n}=t.useContext(bt),r=t.useCallback((e=>{const t=ee.generate();n({type:"show-toast",payload:Object.assign(Object.assign({},e),{id:t})})}),[n,e.toasts]);return{showToast:r,dismissToast:t.useCallback((e=>{n({type:"dismiss-toast",payload:e})}),[]),toasts:e.toasts}};var _t,wt;!function(e){e.DELETE_ELEMENT_TOAST="delete-element-toast",e.SUCCESS_TOAST="success-toast"}(_t||(_t={})),function(e){e.DiscardChanges="discard-changes",e.BulkEdit="bulk-edit",e.ResetFields="reset-fields"}(wt||(wt={}));const jt=t=>e.jsx("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e.jsx("path",{d:"M3.33333 9.16667C3.09722 9.16667 2.89931 9.08681 2.73958 8.92708C2.57986 8.76736 2.5 8.56944 2.5 8.33333V3.33333C2.5 3.09722 2.57986 2.89931 2.73958 2.73958C2.89931 2.57986 3.09722 2.5 3.33333 2.5H8.33333C8.56944 2.5 8.76736 2.57986 8.92708 2.73958C9.08681 2.89931 9.16667 3.09722 9.16667 3.33333V8.33333C9.16667 8.56944 9.08681 8.76736 8.92708 8.92708C8.76736 9.08681 8.56944 9.16667 8.33333 9.16667H3.33333ZM11.6667 9.16667C11.4306 9.16667 11.2326 9.08681 11.0729 8.92708C10.9132 8.76736 10.8333 8.56944 10.8333 8.33333V3.33333C10.8333 3.09722 10.9132 2.89931 11.0729 2.73958C11.2326 2.57986 11.4306 2.5 11.6667 2.5H16.6667C16.9028 2.5 17.1007 2.57986 17.2604 2.73958C17.4201 2.89931 17.5 3.09722 17.5 3.33333V8.33333C17.5 8.56944 17.4201 8.76736 17.2604 8.92708C17.1007 9.08681 16.9028 9.16667 16.6667 9.16667H11.6667ZM3.33333 17.5C3.09722 17.5 2.89931 17.4201 2.73958 17.2604C2.57986 17.1007 2.5 16.9028 2.5 16.6667V11.6667C2.5 11.4306 2.57986 11.2326 2.73958 11.0729C2.89931 10.9132 3.09722 10.8333 3.33333 10.8333H8.33333C8.56944 10.8333 8.76736 10.9132 8.92708 11.0729C9.08681 11.2326 9.16667 11.4306 9.16667 11.6667V16.6667C9.16667 16.9028 9.08681 17.1007 8.92708 17.2604C8.76736 17.4201 8.56944 17.5 8.33333 17.5H3.33333ZM14.1667 17.5C13.9306 17.5 13.7326 17.4201 13.5729 17.2604C13.4132 17.1007 13.3333 16.9028 13.3333 16.6667V15H11.6458C11.4097 15 11.2153 14.9201 11.0625 14.7604C10.9097 14.6007 10.8333 14.4028 10.8333 14.1667C10.8333 13.9306 10.9132 13.7326 11.0729 13.5729C11.2326 13.4132 11.4306 13.3333 11.6667 13.3333H13.3333V11.6458C13.3333 11.4097 13.4132 11.2153 13.5729 11.0625C13.7326 10.9097 13.9306 10.8333 14.1667 10.8333C14.4028 10.8333 14.6007 10.9132 14.7604 11.0729C14.9201 11.2326 15 11.4306 15 11.6667V13.3333H16.6875C16.9236 13.3333 17.1181 13.4132 17.2708 13.5729C17.4236 13.7326 17.5 13.9306 17.5 14.1667C17.5 14.4028 17.4201 14.6007 17.2604 14.7604C17.1007 14.9201 16.9028 15 16.6667 15H15V16.6875C15 16.9236 14.9201 17.1181 14.7604 17.2708C14.6007 17.4236 14.4028 17.5 14.1667 17.5ZM12.5 4.16667V7.5H15.8333V4.16667H12.5ZM4.16667 4.16667V7.5H7.5V4.16667H4.16667ZM4.16667 12.5V15.8333H7.5V12.5H4.16667Z",fill:"currentColor"})}));jt.displayName="AddElementIcon";const Et=t=>e.jsxs("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:[e.jsx("mask",Object.assign({id:"path-1-inside-1_6699_38328",fill:"white"},{children:e.jsx("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1"})})),e.jsx("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1",stroke:"currentColor",strokeWidth:"4",mask:"url(#path-1-inside-1_6699_38328)"}),e.jsx("rect",{x:"2",y:"19.5",width:"22",height:"2",rx:"1",fill:"currentColor"})]}));Et.displayName="BottomPositionIcon";const Ct=t=>e.jsx("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e.jsx("path",{d:"M3.33333 15C3.09722 15 2.89931 14.9201 2.73958 14.7604C2.57986 14.6007 2.5 14.4028 2.5 14.1667C2.5 13.9306 2.57986 13.7326 2.73958 13.5729C2.89931 13.4132 3.09722 13.3333 3.33333 13.3333H11.6667C11.9028 13.3333 12.1007 13.4132 12.2604 13.5729C12.4201 13.7326 12.5 13.9306 12.5 14.1667C12.5 14.4028 12.4201 14.6007 12.2604 14.7604C12.1007 14.9201 11.9028 15 11.6667 15H3.33333ZM3.33333 10.8333C3.09722 10.8333 2.89931 10.7535 2.73958 10.5938C2.57986 10.434 2.5 10.2361 2.5 10C2.5 9.76389 2.57986 9.56597 2.73958 9.40625C2.89931 9.24653 3.09722 9.16667 3.33333 9.16667H16.6667C16.9028 9.16667 17.1007 9.24653 17.2604 9.40625C17.4201 9.56597 17.5 9.76389 17.5 10C17.5 10.2361 17.4201 10.434 17.2604 10.5938C17.1007 10.7535 16.9028 10.8333 16.6667 10.8333H3.33333ZM3.33333 6.66667C3.09722 6.66667 2.89931 6.58681 2.73958 6.42708C2.57986 6.26736 2.5 6.06944 2.5 5.83333C2.5 5.59722 2.57986 5.39931 2.73958 5.23958C2.89931 5.07986 3.09722 5 3.33333 5H16.6667C16.9028 5 17.1007 5.07986 17.2604 5.23958C17.4201 5.39931 17.5 5.59722 17.5 5.83333C17.5 6.06944 17.4201 6.26736 17.2604 6.42708C17.1007 6.58681 16.9028 6.66667 16.6667 6.66667H3.33333Z",fill:"currentColor"})}));Ct.displayName="LongTextIcon";const Ot=t=>e.jsx("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e.jsx("path",{d:"M7.49939 13.3334L6.81189 16.0625C6.77022 16.2431 6.67994 16.3889 6.54105 16.5C6.40216 16.6112 6.2355 16.6667 6.04105 16.6667C5.77716 16.6667 5.56189 16.5625 5.39522 16.3542C5.22855 16.1459 5.17994 15.9167 5.24939 15.6667L5.83272 13.3334H3.56189C3.28411 13.3334 3.06189 13.2257 2.89522 13.0105C2.72855 12.7952 2.67994 12.5556 2.74939 12.2917C2.79105 12.0973 2.88828 11.9445 3.04105 11.8334C3.19383 11.7223 3.36744 11.6667 3.56189 11.6667H6.24939L7.08272 8.33337H4.81189C4.53411 8.33337 4.31189 8.22574 4.14522 8.01046C3.97855 7.79518 3.92994 7.5556 3.99939 7.29171C4.04105 7.09726 4.13828 6.94449 4.29105 6.83337C4.44383 6.72226 4.61744 6.66671 4.81189 6.66671H7.49939L8.18689 3.93754C8.22855 3.75699 8.31883 3.61115 8.45772 3.50004C8.59661 3.38893 8.76328 3.33337 8.95772 3.33337C9.22161 3.33337 9.43689 3.43754 9.60355 3.64587C9.77022 3.85421 9.81883 4.08337 9.74939 4.33337L9.16605 6.66671H12.4994L13.1869 3.93754C13.2286 3.75699 13.3188 3.61115 13.4577 3.50004C13.5966 3.38893 13.7633 3.33337 13.9577 3.33337C14.2216 3.33337 14.4369 3.43754 14.6036 3.64587C14.7702 3.85421 14.8188 4.08337 14.7494 4.33337L14.1661 6.66671H16.4369C16.7147 6.66671 16.9369 6.77435 17.1036 6.98962C17.2702 7.2049 17.3188 7.44449 17.2494 7.70837C17.2077 7.90282 17.1105 8.0556 16.9577 8.16671C16.8049 8.27782 16.6313 8.33337 16.4369 8.33337H13.7494L12.9161 11.6667H15.1869C15.4647 11.6667 15.6869 11.7743 15.8536 11.9896C16.0202 12.2049 16.0688 12.4445 15.9994 12.7084C15.9577 12.9028 15.8605 13.0556 15.7077 13.1667C15.5549 13.2778 15.3813 13.3334 15.1869 13.3334H12.4994L11.8119 16.0625C11.7702 16.2431 11.6799 16.3889 11.5411 16.5C11.4022 16.6112 11.2355 16.6667 11.0411 16.6667C10.7772 16.6667 10.5619 16.5625 10.3952 16.3542C10.2286 16.1459 10.1799 15.9167 10.2494 15.6667L10.8327 13.3334H7.49939ZM7.91605 11.6667H11.2494L12.0827 8.33337H8.74939L7.91605 11.6667Z",fill:"currentColor"})}));Ot.displayName="NumbersIcon";const Tt=t=>e.jsx("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e.jsx("path",{d:"M4.16732 12.5C3.93121 12.5 3.73329 12.4201 3.57357 12.2604C3.41385 12.1007 3.33398 11.9028 3.33398 11.6667C3.33398 11.4306 3.41385 11.2326 3.57357 11.0729C3.73329 10.9132 3.93121 10.8333 4.16732 10.8333H10.834C11.0701 10.8333 11.268 10.9132 11.4277 11.0729C11.5875 11.2326 11.6673 11.4306 11.6673 11.6667C11.6673 11.9028 11.5875 12.1007 11.4277 12.2604C11.268 12.4201 11.0701 12.5 10.834 12.5H4.16732ZM4.16732 9.16667C3.93121 9.16667 3.73329 9.08681 3.57357 8.92708C3.41385 8.76736 3.33398 8.56944 3.33398 8.33333C3.33398 8.09722 3.41385 7.89931 3.57357 7.73958C3.73329 7.57986 3.93121 7.5 4.16732 7.5H15.834C16.0701 7.5 16.268 7.57986 16.4277 7.73958C16.5875 7.89931 16.6673 8.09722 16.6673 8.33333C16.6673 8.56944 16.5875 8.76736 16.4277 8.92708C16.268 9.08681 16.0701 9.16667 15.834 9.16667H4.16732Z",fill:"currentColor"})}));Tt.displayName="ShortTextIcon";const St=t=>e.jsxs("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:[e.jsx("rect",{x:"2",y:"4.5",width:"22",height:"2",rx:"1",fill:"currentColor"}),e.jsx("mask",Object.assign({id:"path-2-inside-1_6699_38329",fill:"white"},{children:e.jsx("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1"})})),e.jsx("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1",stroke:"currentColor",fill:"white",strokeWidth:"4",mask:"url(#path-2-inside-1_6699_38329)"})]}));St.displayName="TopPositionIcon";const At=F.default.div`
    width: 2rem;
    height: 2rem;
    display: grid;
    place-items: center;
    border-radius: 0.4rem;
    background: ${n.Color.Accent.Light[5]};

    svg {
        color: ${n.Color.Accent.Light[2]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,It=({elementType:t})=>{let n;switch(t){case V.EMAIL:n=e.jsx(o.EnvelopeIcon,{});break;case V.CONTACT:n=e.jsx(s.PhoneIcon,{});break;case V.NUMERIC:n=e.jsx(Ot,{});break;case V.TEXT:n=e.jsx(Tt,{});break;case V.TEXTAREA:n=e.jsx(Ct,{});break;case V.DROPDOWN:n=e.jsx(i.ChevronDownIcon,{});break;case V.RADIO:n=e.jsx(a.CircleDotIcon,{})}return e.jsx(At,{children:n})},Mt=F.default.button`
    padding: 1rem; // Increase hit zone
    border: none;
    background: transparent;
    cursor: pointer;

    :hover {
        box-shadow: none;
    }

    :focus {
        outline-color: ${n.Color.Primary};
    }

    svg {
        width: ${({$iconSize:e})=>e};
        height: ${({$iconSize:e})=>e};
        color: ${({$iconColor:e})=>e};
        margin-bottom: -5px; // Tweak to align to label
    }
`,kt=F.default.button`
    background: none;
    border: none;
    margin-top: 0.625rem;
    svg {
        color: ${({disabled:e})=>e?n.Color.Neutral[3]:n.Color.Accent.Light[1]};
        width: 1.625rem;
        height: 1.625rem;
        cursor: ${({disabled:e})=>e?"not-allowed":"pointer"};
    }
`,Dt=({onClick:t,disabled:n,popoverMessage:r})=>{const i=e.jsx(kt,Object.assign({type:"button",disabled:n,"data-testid":"delete-button",onClick:n?void 0:t},{children:e.jsx(u.BinIcon,{})}));return n?e.jsx(l.PopoverTrigger,Object.assign({popoverContent:r,trigger:"hover",position:"bottom-end","data-testid":"delete-button-popover"},{children:i})):i},Rt=F.default.div`
    background: ${n.Color.Neutral[7]};
    display: flex;
    flex: 1;
    width: 100%;
    align-items: center;
    margin-bottom: 2rem;
    padding-right: 1rem;
`,Nt=F.default.div`
    padding: 1rem;
    flex: 1;
`,Ft=({onDelete:t,children:n})=>e.jsxs(Rt,{children:[e.jsx(Nt,{children:n}),e.jsx(Dt,{onClick:t,"data-testid":"delete-button"})]}),$t=F.default(d.Text.Body)`
    margin-bottom: 2rem;
`,Lt=F.default(f.Accordion.Item)`
    width: 100%;
    border-top: 0;
    border-bottom: 1px solid ${n.Color.Neutral[6]};
    padding-bottom: ${({$hasSubtitle:e})=>e?"0.5rem":"0"};

    #content-container {
        padding: 0;
    }

    ${$t} {
        font-size: 0.875rem !important;
    }

    [data-testid="accordion-item-expandable-container"] {
        padding: 0 1rem;
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin-right: 0.1rem;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hasSubtitle:e})=>e?"1rem 0 0.5rem 1rem":"1rem 0 1rem 1rem"};
    }
`,Vt=F.default(p.ButtonWithIcon.Default)`
    width: 100%;
    margin: 1rem 0;
`,Pt=({title:t,buttonLabel:n,onAdd:r,children:i,disabledButton:a,popoverMessage:o,subtitle:s,expanded:u,hideAddButton:d})=>e.jsx(Lt,Object.assign({title:t,$hasSubtitle:!!s,expanded:u},{children:e.jsxs(e.Fragment,{children:[s&&e.jsx($t,{children:s}),i,!d&&(a&&o?e.jsx(l.PopoverTrigger,Object.assign({popoverContent:o,trigger:"hover","data-testid":"add-button-popover"},{children:e.jsx(Vt,Object.assign({icon:e.jsx(c.PlusIcon,{}),styleType:"light",onClick:r,role:"button",disabled:a,type:"button"},{children:"Add "+n}))})):e.jsx(Vt,Object.assign({icon:e.jsx(c.PlusIcon,{}),styleType:"light",onClick:r,role:"button",disabled:a,type:"button"},{children:"Add "+n})))]})})),zt=({toast:t})=>{const{dismissToast:n,showToast:r}=xt(),{undoDeleteElement:i}=st(),a=e=>{n(e)},o=()=>{i(t.elementInternalId),a(t.id);const e=Object.assign(Object.assign({},t),{type:_t.SUCCESS_TOAST,message:"Deleted element reverted."});r(e)};switch(t.type){case _t.SUCCESS_TOAST:return e.jsx(h.Toast,{type:"success",label:t.message,autoDismiss:!0,fixed:!1,onDismiss:()=>a(t.id)});case _t.DELETE_ELEMENT_TOAST:return e.jsx(h.Toast,{type:"success",label:t.message,autoDismiss:!0,autoDismissTime:7e3,fixed:!1,onDismiss:()=>a(t.id),actionButton:{label:"Undo",onClick:o}});default:return console.error("Unable to render toast required."),null}},Bt=F.default.div`
    position: fixed;
    top: 1rem;
    right: 3rem;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 1rem;
`,Ut=()=>{const{toasts:t}=xt();return e.jsx(Bt,{children:t.map((t=>e.jsx(zt,{toast:t},t.id)))})},qt=()=>{const{state:e,dispatch:n}=t.useContext(bt),{showToast:r}=xt(),i=t.useCallback((e=>{n({type:"set-modal",payload:e})}),[n]),a=t.useCallback((e=>n({type:"hide-modal",payload:e})),[n]),o=t.useCallback((()=>{const e={message:"Changes discarded.",type:_t.SUCCESS_TOAST};n({type:"hide-modal",payload:wt.DiscardChanges}),r(e)}),[]);return{modals:e.modals,showModal:i,hideModal:a,discardChanges:o}},Wt=F.default(v.Modal.Box)`
    width: 100%;
    max-width: 42rem;

    /* to grow with content */
    height: auto;
    max-height: none;

    margin: auto;
`,Ht=F.default.div`
    margin: 4rem;
    text-align: center;

    ${m.MediaQuery.MaxWidth.mobileL} {
        margin: 4rem 1.25rem;
    }
`,Xt=F.default.div`
    margin: auto;
    padding: 5rem 1.25rem;
    width: 100%;

    ${m.MediaQuery.MaxWidth.mobileL} {
        padding: 1rem 1.25rem;
    }
`,Gt=t=>{var{type:n,onClose:r,children:i}=t,a=W(t,["type","onClose","children"]);const{hideModal:o}=qt();return e.jsx(Xt,{children:e.jsx(Wt,Object.assign({onClose:null!=r?r:()=>{o(n)}},a,{children:e.jsx(Ht,Object.assign({"data-testid":"modal-content"},{children:i}))}))})};var Zt=e=>"checkbox"===e.type,Kt=e=>e instanceof Date,Qt=e=>null==e;const Yt=e=>"object"==typeof e;var Jt=e=>!Qt(e)&&!Array.isArray(e)&&Yt(e)&&!Kt(e),en=e=>Jt(e)&&e.target?Zt(e.target)?e.target.checked:e.target.value:e,tn=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),nn=e=>{const t=e.constructor&&e.constructor.prototype;return Jt(t)&&t.hasOwnProperty("isPrototypeOf")},rn="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function an(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(rn&&(e instanceof Blob||e instanceof FileList)||!n&&!Jt(e))return e;if(t=n?[]:{},n||nn(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=an(e[n]));else t=e}return t}var on=e=>Array.isArray(e)?e.filter(Boolean):[],sn=e=>void 0===e,ln=(e,t,n)=>{if(!t||!Jt(e))return n;const r=on(t.split(/[,[\].]+?/)).reduce(((e,t)=>Qt(e)?e:e[t]),e);return sn(r)||r===e?sn(e[t])?n:e[t]:r},un=e=>"boolean"==typeof e;const cn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},dn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fn="max",pn="min",hn="maxLength",mn="minLength",vn="pattern",gn="required",bn="validate",yn=N.default.createContext(null),xn=()=>N.default.useContext(yn),_n=e=>{const{children:t,...n}=e;return N.default.createElement(yn.Provider,{value:n},t)};var wn=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==dn.all&&(t._proxyFormState[i]=!r||dn.all),n&&(n[i]=!0),e[i]}});return i},jn=e=>Jt(e)&&!Object.keys(e).length,En=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return jn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||dn.all)))},Cn=e=>Array.isArray(e)?e:[e],On=(e,t,n)=>!e||!t||e===t||Cn(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function Tn(e){const t=N.default.useRef(e);t.current=e,N.default.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Sn=e=>"string"==typeof e,An=(e,t,n,r,i)=>Sn(e)?(r&&t.watch.add(e),ln(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),ln(n,e)))):(r&&(t.watchAll=!0),n);var In=e=>/^\w*$/.test(e),Mn=e=>on(e.replace(/["|']|\]/g,"").split(/\.|\[/)),kn=(e,t,n)=>{let r=-1;const i=In(t)?[t]:Mn(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=Jt(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=a,e=e[t]}return e};function Dn(e){const t=xn(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a}=e,o=tn(i._names.array,n),s=function(e){const t=xn(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e||{},s=N.default.useRef(r);s.current=r,Tn({disabled:a,subject:n._subjects.values,next:e=>{On(s.current,e.name,o)&&u(an(An(s.current,n._names,e.values||n._formValues,!1,i)))}});const[l,u]=N.default.useState(n._getWatch(r,i));return N.default.useEffect((()=>n._removeUnmounted())),l}({control:i,name:n,defaultValue:ln(i._formValues,n,ln(i._defaultValues,n,e.defaultValue)),exact:!0}),l=function(e){const t=xn(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[o,s]=N.default.useState(n._formState),l=N.default.useRef(!0),u=N.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=N.default.useRef(i);return c.current=i,Tn({disabled:r,next:e=>l.current&&On(c.current,e.name,a)&&En(e,u.current,n._updateFormState)&&s({...n._formState,...e}),subject:n._subjects.state}),N.default.useEffect((()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1})),[n]),wn(o,n,u.current,!1)}({control:i,name:n}),u=N.default.useRef(i.register(n,{...e.rules,value:s,...un(e.disabled)?{disabled:e.disabled}:{}}));return N.default.useEffect((()=>{const e=i._options.shouldUnregister||a,t=(e,t)=>{const n=ln(i._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){const e=an(ln(i._options.defaultValues,n));kn(i._defaultValues,n,e),sn(ln(i._formValues,n))&&kn(i._formValues,n,e)}return()=>{(o?e&&!i._state.action:e)?i.unregister(n):t(n,!1)}}),[n,i,o,a]),N.default.useEffect((()=>{ln(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:ln(i._fields,n)._f.value})}),[r,n,i]),{field:{name:n,value:s,...un(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:N.default.useCallback((e=>u.current.onChange({target:{value:en(e),name:n},type:cn.CHANGE})),[n]),onBlur:N.default.useCallback((()=>u.current.onBlur({target:{value:ln(i._formValues,n),name:n},type:cn.BLUR})),[n,i]),ref:e=>{const t=ln(i._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ln(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ln(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ln(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ln(l.validatingFields,n)},error:{enumerable:!0,get:()=>ln(l.errors,n)}})}}const Rn=e=>e.render(Dn(e));var Nn=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Fn=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},$n=(e,t,n={})=>n.shouldFocus||sn(n.shouldFocus)?n.focusName||`${e}.${sn(n.focusIndex)?t:n.focusIndex}.`:"",Ln=e=>({isOnSubmit:!e||e===dn.onSubmit,isOnBlur:e===dn.onBlur,isOnChange:e===dn.onChange,isOnAll:e===dn.all,isOnTouch:e===dn.onTouched}),Vn=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const Pn=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=ln(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)break;if(e.ref&&t(e.ref,e.name)&&!r)break;Pn(a,t)}else Jt(a)&&Pn(a,t)}}};var zn=(e,t,n)=>{const r=on(ln(e,n));return kn(r,"root",t[n]),kn(e,n,r),e},Bn=e=>"file"===e.type,Un=e=>"function"==typeof e,qn=e=>{if(!rn)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Wn=e=>Sn(e),Hn=e=>"radio"===e.type,Xn=e=>e instanceof RegExp;const Gn={value:!1,isValid:!1},Zn={value:!0,isValid:!0};var Kn=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!sn(e[0].attributes.value)?sn(e[0].value)||""===e[0].value?Zn:{value:e[0].value,isValid:!0}:Zn:Gn}return Gn};const Qn={isValid:!1,value:null};var Yn=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Qn):Qn;function Jn(e,t,n="validate"){if(Wn(e)||Array.isArray(e)&&e.every(Wn)||un(e)&&!e)return{type:n,message:Wn(e)?e:"",ref:t}}var er=e=>Jt(e)&&!Xn(e)?e:{value:e,message:""},tr=async(e,t,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:p,name:h,valueAsNumber:m,mount:v,disabled:g}=e._f,b=ln(t,h);if(!v||g)return{};const y=o?o[0]:a,x=e=>{r&&y.reportValidity&&(y.setCustomValidity(un(e)?"":e||""),y.reportValidity())},_={},w=Hn(a),j=Zt(a),E=w||j,C=(m||Bn(a))&&sn(a.value)&&sn(b)||qn(a)&&""===a.value||""===b||Array.isArray(b)&&!b.length,O=Nn.bind(null,h,n,_),T=(e,t,n,r=hn,i=mn)=>{const o=e?t:n;_[h]={type:e?r:i,message:o,ref:a,...O(e?r:i,o)}};if(i?!Array.isArray(b)||!b.length:s&&(!E&&(C||Qt(b))||un(b)&&!b||j&&!Kn(o).isValid||w&&!Yn(o).isValid)){const{value:e,message:t}=Wn(s)?{value:!!s,message:s}:er(s);if(e&&(_[h]={type:gn,message:t,ref:y,...O(gn,t)},!n))return x(t),_}if(!(C||Qt(c)&&Qt(d))){let e,t;const r=er(d),i=er(c);if(Qt(b)||isNaN(b)){const n=a.valueAsDate||new Date(b),o=e=>new Date((new Date).toDateString()+" "+e),s="time"==a.type,l="week"==a.type;Sn(r.value)&&b&&(e=s?o(b)>o(r.value):l?b>r.value:n>new Date(r.value)),Sn(i.value)&&b&&(t=s?o(b)<o(i.value):l?b<i.value:n<new Date(i.value))}else{const n=a.valueAsNumber||(b?+b:b);Qt(r.value)||(e=n>r.value),Qt(i.value)||(t=n<i.value)}if((e||t)&&(T(!!e,r.message,i.message,fn,pn),!n))return x(_[h].message),_}if((l||u)&&!C&&(Sn(b)||i&&Array.isArray(b))){const e=er(l),t=er(u),r=!Qt(e.value)&&b.length>+e.value,i=!Qt(t.value)&&b.length<+t.value;if((r||i)&&(T(r,e.message,t.message),!n))return x(_[h].message),_}if(f&&!C&&Sn(b)){const{value:e,message:t}=er(f);if(Xn(e)&&!b.match(e)&&(_[h]={type:vn,message:t,ref:a,...O(vn,t)},!n))return x(t),_}if(p)if(Un(p)){const e=Jn(await p(b,t),y);if(e&&(_[h]={...e,...O(bn,e.message)},!n))return x(e.message),_}else if(Jt(p)){let e={};for(const r in p){if(!jn(e)&&!n)break;const i=Jn(await p[r](b,t),y,r);i&&(e={...i,...O(r,i.message)},x(i.message),n&&(_[h]=e))}if(!jn(e)&&(_[h]={ref:y,...e},!n))return _}return x(!0),_},nr=(e,t)=>[...e,...Cn(t)],rr=e=>Array.isArray(e)?e.map((()=>{})):void 0;function ir(e,t,n){return[...e.slice(0,t),...Cn(n),...e.slice(t)]}var ar=(e,t,n)=>Array.isArray(e)?(sn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],or=(e,t)=>[...Cn(t),...Cn(e)];var sr=(e,t)=>sn(t)?[]:function(e,t){let n=0;const r=[...e];for(const e of t)r.splice(e-n,1),n++;return on(r).length?r:[]}(e,Cn(t).sort(((e,t)=>e-t))),lr=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function ur(e,t){const n=Array.isArray(t)?t:In(t)?[t]:Mn(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=sn(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(Jt(r)&&jn(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!sn(e[t]))return!1;return!0}(r))&&ur(e,n.slice(0,-1)),e}var cr=(e,t,n)=>(e[t]=n,e);function dr(e){const t=xn(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:a}=e,[o,s]=N.default.useState(n._getFieldArray(r)),l=N.default.useRef(n._getFieldArray(r).map(Fn)),u=N.default.useRef(o),c=N.default.useRef(r),d=N.default.useRef(!1);c.current=r,u.current=o,n._names.array.add(r),e.rules&&n.register(r,e.rules),Tn({next:({values:e,name:t})=>{if(t===c.current||!t){const t=ln(e,c.current);Array.isArray(t)&&(s(t),l.current=t.map(Fn))}},subject:n._subjects.array});const f=N.default.useCallback((e=>{d.current=!0,n._updateFieldArray(r,e)}),[n,r]);return N.default.useEffect((()=>{if(n._state.action=!1,Vn(r,n._names)&&n._subjects.state.next({...n._formState}),d.current&&(!Ln(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then((e=>{const t=ln(e.errors,r),i=ln(n._formState.errors,r);(i?!t&&i.type||t&&(i.type!==t.type||i.message!==t.message):t&&t.type)&&(t?kn(n._formState.errors,r,t):ur(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))}));else{const e=ln(n._fields,r);!e||!e._f||Ln(n._options.reValidateMode).isOnSubmit&&Ln(n._options.mode).isOnSubmit||tr(e,n._formValues,n._options.criteriaMode===dn.all,n._options.shouldUseNativeValidation,!0).then((e=>!jn(e)&&n._subjects.state.next({errors:zn(n._formState.errors,e,r)})))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Pn(n._fields,((e,t)=>{if(n._names.focus&&t.startsWith(n._names.focus)&&e.focus)return e.focus(),1})),n._names.focus="",n._updateValid(),d.current=!1}),[o,r,n]),N.default.useEffect((()=>(!ln(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||a)&&n.unregister(r)})),[r,n,i,a]),{swap:N.default.useCallback(((e,t)=>{const i=n._getFieldArray(r);lr(i,e,t),lr(l.current,e,t),f(i),s(i),n._updateFieldArray(r,i,lr,{argA:e,argB:t},!1)}),[f,r,n]),move:N.default.useCallback(((e,t)=>{const i=n._getFieldArray(r);ar(i,e,t),ar(l.current,e,t),f(i),s(i),n._updateFieldArray(r,i,ar,{argA:e,argB:t},!1)}),[f,r,n]),prepend:N.default.useCallback(((e,t)=>{const i=Cn(an(e)),a=or(n._getFieldArray(r),i);n._names.focus=$n(r,0,t),l.current=or(l.current,i.map(Fn)),f(a),s(a),n._updateFieldArray(r,a,or,{argA:rr(e)})}),[f,r,n]),append:N.default.useCallback(((e,t)=>{const i=Cn(an(e)),a=nr(n._getFieldArray(r),i);n._names.focus=$n(r,a.length-1,t),l.current=nr(l.current,i.map(Fn)),f(a),s(a),n._updateFieldArray(r,a,nr,{argA:rr(e)})}),[f,r,n]),remove:N.default.useCallback((e=>{const t=sr(n._getFieldArray(r),e);l.current=sr(l.current,e),f(t),s(t),n._updateFieldArray(r,t,sr,{argA:e})}),[f,r,n]),insert:N.default.useCallback(((e,t,i)=>{const a=Cn(an(t)),o=ir(n._getFieldArray(r),e,a);n._names.focus=$n(r,e,i),l.current=ir(l.current,e,a.map(Fn)),f(o),s(o),n._updateFieldArray(r,o,ir,{argA:e,argB:rr(t)})}),[f,r,n]),update:N.default.useCallback(((e,t)=>{const i=an(t),a=cr(n._getFieldArray(r),e,i);l.current=[...a].map(((t,n)=>t&&n!==e?l.current[n]:Fn())),f(a),s([...a]),n._updateFieldArray(r,a,cr,{argA:e,argB:i},!0,!1)}),[f,r,n]),replace:N.default.useCallback((e=>{const t=Cn(an(e));l.current=t.map(Fn),f([...t]),s([...t]),n._updateFieldArray(r,[...t],(e=>e),{},!0,!1)}),[f,r,n]),fields:N.default.useMemo((()=>o.map(((e,t)=>({...e,[i]:l.current[t]||Fn()})))),[o,i])}}var fr=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},pr=e=>Qt(e)||!Yt(e);function hr(e,t){if(pr(e)||pr(t))return e===t;if(Kt(e)&&Kt(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(Kt(n)&&Kt(e)||Jt(n)&&Jt(e)||Array.isArray(n)&&Array.isArray(e)?!hr(n,e):n!==e)return!1}}return!0}var mr=e=>"select-multiple"===e.type,vr=e=>Hn(e)||Zt(e),gr=e=>qn(e)&&e.isConnected,br=e=>{for(const t in e)if(Un(e[t]))return!0;return!1};function yr(e,t={}){const n=Array.isArray(e);if(Jt(e)||n)for(const n in e)Array.isArray(e[n])||Jt(e[n])&&!br(e[n])?(t[n]=Array.isArray(e[n])?[]:{},yr(e[n],t[n])):Qt(e[n])||(t[n]=!0);return t}function xr(e,t,n){const r=Array.isArray(e);if(Jt(e)||r)for(const r in e)Array.isArray(e[r])||Jt(e[r])&&!br(e[r])?sn(t)||pr(n[r])?n[r]=Array.isArray(e[r])?yr(e[r],[]):{...yr(e[r])}:xr(e[r],Qt(t)?{}:t[r],n[r]):n[r]=!hr(e[r],t[r]);return n}var _r=(e,t)=>xr(e,t,yr(t)),wr=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>sn(e)?e:t?""===e?NaN:e?+e:e:n&&Sn(e)?new Date(e):r?r(e):e;function jr(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return Bn(t)?t.files:Hn(t)?Yn(e.refs).value:mr(t)?[...t.selectedOptions].map((({value:e})=>e)):Zt(t)?Kn(e.refs).value:wr(sn(t.value)?e.ref.value:t.value,e)}var Er=(e,t,n,r)=>{const i={};for(const n of e){const e=ln(t,n);e&&kn(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Cr=e=>sn(e)?e:Xn(e)?e.source:Jt(e)?Xn(e.value)?e.value.source:e.value:e,Or=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Tr(e,t,n){const r=ln(e,n);if(r||In(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=ln(t,r),o=ln(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};i.pop()}return{name:n}}var Sr=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),Ar=(e,t)=>!on(ln(e,t)).length&&ur(e,t);const Ir={mode:dn.onSubmit,reValidateMode:dn.onChange,shouldFocusError:!0};function Mr(e={}){let t,n={...Ir,...e},r={submitCount:0,isDirty:!1,isLoading:Un(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(Jt(n.defaultValues)||Jt(n.values))&&an(n.defaultValues||n.values)||{},o=n.shouldUnregister?{}:an(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:fr(),array:fr(),state:fr()},f=Ln(n.mode),p=Ln(n.reValidateMode),h=n.criteriaMode===dn.all,m=async e=>{if(c.isValid||e){const e=n.resolver?jn((await x()).errors):await _(i,!0);e!==r.isValid&&d.state.next({isValid:e})}},v=(e,t)=>{(c.isValidating||c.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>e&&kn(r.validatingFields,e,!!t))),r.isValidating=Object.values(r.validatingFields).some((e=>e)),d.state.next({validatingFields:r.validatingFields,isValidating:r.isValidating}))},g=(e,t,n,r)=>{const l=ln(i,e);if(l){const i=ln(o,e,sn(n)?ln(a,e):n);sn(i)||r&&r.defaultChecked||t?kn(o,e,t?i:jr(l._f)):E(e,i),s.mount&&m()}},b=(e,t,n,o,s)=>{let l=!1,u=!1;const f={name:e},p=!(!ln(i,e)||!ln(i,e)._f.disabled);if(!n||o){c.isDirty&&(u=r.isDirty,r.isDirty=f.isDirty=w(),l=u!==f.isDirty);const n=p||hr(ln(a,e),t);u=!(p||!ln(r.dirtyFields,e)),n||p?ur(r.dirtyFields,e):kn(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||c.dirtyFields&&u!==!n}if(n){const t=ln(r.touchedFields,e);t||(kn(r.touchedFields,e,n),f.touchedFields=r.touchedFields,l=l||c.touchedFields&&t!==n)}return l&&s&&d.state.next(f),l?f:{}},y=(n,i,a,o)=>{const s=ln(r.errors,n),l=c.isValid&&un(i)&&r.isValid!==i;var f;if(e.delayError&&a?(f=()=>((e,t)=>{kn(r.errors,e,t),d.state.next({errors:r.errors})})(n,a),t=e=>{clearTimeout(u),u=setTimeout(f,e)},t(e.delayError)):(clearTimeout(u),t=null,a?kn(r.errors,n,a):ur(r.errors,n)),(a?!hr(s,a):s)||!jn(o)||l){const e={...o,...l&&un(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},d.state.next(e)}},x=async e=>{v(e,!0);const t=await n.resolver(o,n.context,Er(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return v(e),t},_=async(e,t,i={valid:!0})=>{for(const a in e){const s=e[a];if(s){const{_f:e,...u}=s;if(e){const u=l.array.has(e.name);v([a],!0);const c=await tr(s,o,h,n.shouldUseNativeValidation&&!t,u);if(v([a]),c[e.name]&&(i.valid=!1,t))break;!t&&(ln(c,e.name)?u?zn(r.errors,c,e.name):kn(r.errors,e.name,c[e.name]):ur(r.errors,e.name))}u&&await _(u,t,i)}}return i.valid},w=(e,t)=>(e&&t&&kn(o,e,t),!hr(I(),a)),j=(e,t,n)=>An(e,l,{...s.mount?o:sn(t)?a:Sn(e)?{[e]:t}:t},n,t),E=(e,t,n={})=>{const r=ln(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&kn(o,e,wr(t,n)),a=qn(n.ref)&&Qt(t)?"":t,mr(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?Zt(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):Bn(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||d.values.next({name:e,values:{...o}})))}(n.shouldDirty||n.shouldTouch)&&b(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&A(e)},C=(e,t,n)=>{for(const r in t){const a=t[r],o=`${e}.${r}`,s=ln(i,o);!l.array.has(e)&&pr(a)&&(!s||s._f)||Kt(a)?E(o,a,n):C(o,a,n)}},O=(e,t,n={})=>{const u=ln(i,e),f=l.array.has(e),p=an(t);kn(o,e,p),f?(d.array.next({name:e,values:{...o}}),(c.isDirty||c.dirtyFields)&&n.shouldDirty&&d.state.next({name:e,dirtyFields:_r(a,o),isDirty:w(e,p)})):!u||u._f||Qt(p)?E(e,p,n):C(e,p,n),Vn(e,l)&&d.state.next({...r}),d.values.next({name:s.mount?e:void 0,values:{...o}})},T=async e=>{const a=e.target;let s=a.name,u=!0;const g=ln(i,s),w=e=>{u=Number.isNaN(e)||e===ln(o,s,e)};if(g){let j,E;const C=a.type?jr(g._f):en(e),O=e.type===cn.BLUR||e.type===cn.FOCUS_OUT,T=!Or(g._f)&&!n.resolver&&!ln(r.errors,s)&&!g._f.deps||Sr(O,ln(r.touchedFields,s),r.isSubmitted,p,f),S=Vn(s,l,O);kn(o,s,C),O?(g._f.onBlur&&g._f.onBlur(e),t&&t(0)):g._f.onChange&&g._f.onChange(e);const I=b(s,C,O,!1),M=!jn(I)||S;if(!O&&d.values.next({name:s,type:e.type,values:{...o}}),T)return c.isValid&&m(),M&&d.state.next({name:s,...S?{}:I});if(!O&&S&&d.state.next({...r}),n.resolver){const{errors:e}=await x([s]);if(w(C),u){const t=Tr(r.errors,i,s),n=Tr(e,i,t.name||s);j=n.error,s=n.name,E=jn(e)}}else v([s],!0),j=(await tr(g,o,h,n.shouldUseNativeValidation))[s],v([s]),w(C),u&&(j?E=!1:c.isValid&&(E=await _(i,!0)));u&&(g._f.deps&&A(g._f.deps),y(s,E,j,I))}},S=(e,t)=>{if(ln(r.errors,t)&&e.focus)return e.focus(),1},A=async(e,t={})=>{let a,o;const s=Cn(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await x(e);if(e)for(const n of e){const e=ln(t,n);e?kn(r.errors,n,e):ur(r.errors,n)}else r.errors=t;return t})(sn(e)?e:s);a=jn(t),o=e?!s.some((e=>ln(t,e))):a}else e?(o=(await Promise.all(s.map((async e=>{const t=ln(i,e);return await _(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||r.isValid)&&m()):o=a=await _(i);return d.state.next({...!Sn(e)||c.isValid&&a!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:a}:{},errors:r.errors}),t.shouldFocus&&!o&&Pn(i,S,e?s:l.mount),o},I=e=>{const t={...a,...s.mount?o:{}};return sn(e)?t:Sn(e)?ln(t,e):e.map((e=>ln(t,e)))},M=(e,t)=>({invalid:!!ln((t||r).errors,e),isDirty:!!ln((t||r).dirtyFields,e),isTouched:!!ln((t||r).touchedFields,e),isValidating:!!ln((t||r).validatingFields,e),error:ln((t||r).errors,e)}),k=(e,t,n)=>{const a=(ln(i,e,{_f:{}})._f||{}).ref;kn(r.errors,e,{...t,ref:a}),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},D=(e,t={})=>{for(const s of e?Cn(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(ur(i,s),ur(o,s)),!t.keepError&&ur(r.errors,s),!t.keepDirty&&ur(r.dirtyFields,s),!t.keepTouched&&ur(r.touchedFields,s),!t.keepIsValidating&&ur(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&ur(a,s);d.values.next({values:{...o}}),d.state.next({...r,...t.keepDirty?{isDirty:w()}:{}}),!t.keepIsValid&&m()},R=({disabled:e,name:t,field:n,fields:r,value:i})=>{if(un(e)){const a=e?void 0:sn(i)?jr(n?n._f:ln(r,t)._f):i;kn(o,t,a),b(t,a,!1,!1,!0)}},N=(e,t={})=>{let r=ln(i,e);const o=un(t.disabled);return kn(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),r?R({field:r,disabled:t.disabled,name:e,value:t.value}):g(e,!0,t.value),{...o?{disabled:t.disabled}:{},...n.progressive?{required:!!t.required,min:Cr(t.min),max:Cr(t.max),minLength:Cr(t.minLength),maxLength:Cr(t.maxLength),pattern:Cr(t.pattern)}:{},name:e,onChange:T,onBlur:T,ref:o=>{if(o){N(e,t),r=ln(i,e);const n=sn(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=vr(n),l=r._f.refs||[];if(s?l.find((e=>e===n)):n===r._f.ref)return;kn(i,e,{_f:{...r._f,...s?{refs:[...l.filter(gr),n,...Array.isArray(ln(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),g(e,!1,void 0,n)}else r=ln(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!tn(l.array,e)||!s.action)&&l.unMount.add(e)}}},F=()=>n.shouldFocusError&&Pn(i,S,l.mount),$=(e,t)=>async a=>{let s;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let l=an(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await x();r.errors=e,l=t}else await _(i);if(ur(r.errors,"root"),jn(r.errors)){d.state.next({errors:{}});try{await e(l,a)}catch(e){s=e}}else t&&await t({...r.errors},a),F(),setTimeout(F);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},L=(t,n={})=>{const u=t?an(t):a,f=an(u),p=jn(t),h=p?a:f;if(n.keepDefaultValues||(a=u),!n.keepValues){if(n.keepDirtyValues)for(const e of l.mount)ln(r.dirtyFields,e)?kn(h,e,ln(o,e)):O(e,ln(h,e));else{if(rn&&sn(t))for(const e of l.mount){const t=ln(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(qn(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}o=e.shouldUnregister?n.keepDefaultValues?an(a):{}:an(h),d.array.next({values:{...h}}),d.values.next({values:{...h}})}l={mount:n.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!n.keepIsValid||!!n.keepDirtyValues,s.watch=!!e.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!p&&(n.keepDirty?r.isDirty:!(!n.keepDefaultValues||hr(t,a))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?[]:n.keepDirtyValues?n.keepDefaultValues&&o?_r(a,o):r.dirtyFields:n.keepDefaultValues&&t?_r(a,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},V=(e,t)=>L(Un(e)?e(o):e,t);return{control:{register:N,unregister:D,getFieldState:M,handleSubmit:$,setError:k,_executeSchema:x,_getWatch:j,_getDirty:w,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=ln(i,e);t&&(t._f.refs?t._f.refs.every((e=>!gr(e))):!gr(t._f.ref))&&D(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],n,l,u=!0,f=!0)=>{if(l&&n){if(s.action=!0,f&&Array.isArray(ln(i,e))){const t=n(ln(i,e),l.argA,l.argB);u&&kn(i,e,t)}if(f&&Array.isArray(ln(r.errors,e))){const t=n(ln(r.errors,e),l.argA,l.argB);u&&kn(r.errors,e,t),Ar(r.errors,e)}if(c.touchedFields&&f&&Array.isArray(ln(r.touchedFields,e))){const t=n(ln(r.touchedFields,e),l.argA,l.argB);u&&kn(r.touchedFields,e,t)}c.dirtyFields&&(r.dirtyFields=_r(a,o)),d.state.next({name:e,isDirty:w(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else kn(o,e,t)},_updateDisabledField:R,_getFieldArray:t=>on(ln(s.mount?o:a,t,e.shouldUnregister?ln(a,t,[]):[])),_reset:L,_resetDefaultValues:()=>Un(n.defaultValues)&&n.defaultValues().then((e=>{V(e,n.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{un(e)&&(d.state.next({disabled:e}),Pn(i,((t,n)=>{let r=e;const a=ln(i,n);a&&un(a._f.disabled)&&(r||(r=a._f.disabled)),t.disabled=r}),0,!1))},_subjects:d,_proxyFormState:c,_setErrors:e=>{r.errors=e,d.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:A,register:N,handleSubmit:$,watch:(e,t)=>Un(e)?d.values.subscribe({next:n=>e(j(void 0,t),n)}):j(e,t,!0),setValue:O,getValues:I,reset:V,resetField:(e,t={})=>{ln(i,e)&&(sn(t.defaultValue)?O(e,an(ln(a,e))):(O(e,t.defaultValue),kn(a,e,an(t.defaultValue))),t.keepTouched||ur(r.touchedFields,e),t.keepDirty||(ur(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,an(ln(a,e))):w()),t.keepError||(ur(r.errors,e),c.isValid&&m()),d.state.next({...r}))},clearErrors:e=>{e&&Cn(e).forEach((e=>ur(r.errors,e))),d.state.next({errors:e?r.errors:{}})},unregister:D,setError:k,setFocus:(e,t={})=>{const n=ln(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:M}}function kr(e={}){const t=N.default.useRef(),n=N.default.useRef(),[r,i]=N.default.useState({isDirty:!1,isValidating:!1,isLoading:Un(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Un(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Mr(e),formState:r});const a=t.current.control;return a._options=e,Tn({subject:a._subjects.state,next:e=>{En(e,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),N.default.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),N.default.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,r.isDirty]),N.default.useEffect((()=>{e.values&&!hr(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),N.default.useEffect((()=>{e.errors&&a._setErrors(e.errors)}),[e.errors,a]),N.default.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),N.default.useEffect((()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})}),[e.shouldUnregister,a]),t.current.formState=wn(r,a),t.current}var Dr=function(e,t,n){if(e&&"reportValidity"in e){var r=ln(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Rr=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Dr(r.ref,n,e):r.refs&&r.refs.forEach((function(t){return Dr(t,n,e)}))};for(var r in t.fields)n(r)},Nr=function(e,t){t.shouldUseNativeValidation&&Rr(e,t);var n={};for(var r in e){var i=ln(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(Fr(t.names||Object.keys(e),r)){var o=Object.assign({},ln(n,r));kn(o,"root",a),kn(n,r,o)}else kn(n,r,a)}return n},Fr=function(e,t){return e.some((function(e){return e.startsWith(t+".")}))};function $r(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,s){try{var l=(t.context&&"development"===process.env.NODE_ENV&&console.warn("You should not used the yup options context. Please, use the 'useForm' context object instead"),Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:i}))).then((function(e){return a.shouldUseNativeValidation&&Rr({},a),{values:n.raw?r:e,errors:{}}})))}catch(e){return s(e)}return l&&l.then?l.then(void 0,s):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:Nr((t=e,n=!a.shouldUseNativeValidation&&"all"===a.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,i=r&&r[t.type];e[t.path]=Nn(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e}),{})),a)};var t,n})))}catch(e){return Promise.reject(e)}}}var Lr=Object.prototype;var Vr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Lr)};var Pr=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),zr=Vr,Br=Pr,Ur=Object.prototype.hasOwnProperty;var qr=function(e){if(!zr(e))return Br(e);var t=[];for(var n in Object(e))Ur.call(e,n)&&"constructor"!=n&&t.push(n);return t},Wr="object"==typeof oe&&oe&&oe.Object===Object&&oe,Hr=Wr,Xr="object"==typeof self&&self&&self.Object===Object&&self,Gr=Hr||Xr||Function("return this")(),Zr=Gr.Symbol,Kr=Zr,Qr=Object.prototype,Yr=Qr.hasOwnProperty,Jr=Qr.toString,ei=Kr?Kr.toStringTag:void 0;var ti=function(e){var t=Yr.call(e,ei),n=e[ei];try{e[ei]=void 0;var r=!0}catch(e){}var i=Jr.call(e);return r&&(t?e[ei]=n:delete e[ei]),i},ni=Object.prototype.toString;var ri=ti,ii=function(e){return ni.call(e)},ai=Zr?Zr.toStringTag:void 0;var oi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ai&&ai in Object(e)?ri(e):ii(e)};var si=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},li=oi,ui=si;var ci,di=function(e){if(!ui(e))return!1;var t=li(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},fi=Gr["__core-js_shared__"],pi=(ci=/[^.]+$/.exec(fi&&fi.keys&&fi.keys.IE_PROTO||""))?"Symbol(src)_1."+ci:"";var hi=function(e){return!!pi&&pi in e},mi=Function.prototype.toString;var vi=function(e){if(null!=e){try{return mi.call(e)}catch(e){}try{return e+""}catch(e){}}return""},gi=di,bi=hi,yi=si,xi=vi,_i=/^\[object .+?Constructor\]$/,wi=Function.prototype,ji=Object.prototype,Ei=wi.toString,Ci=ji.hasOwnProperty,Oi=RegExp("^"+Ei.call(Ci).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ti=function(e,t){return null==e?void 0:e[t]},Si=function(e){return!(!yi(e)||bi(e))&&(gi(e)?Oi:_i).test(xi(e))},Ai=Ti;var Ii=function(e,t){var n=Ai(e,t);return Si(n)?n:void 0},Mi=Ii(Gr,"DataView"),ki=Ii(Gr,"Map"),Di=Ii(Gr,"Promise"),Ri=Ii(Gr,"Set"),Ni=Ii(Gr,"WeakMap"),Fi=oi,$i=vi,Li="[object Map]",Vi="[object Promise]",Pi="[object Set]",zi="[object WeakMap]",Bi="[object DataView]",Ui=$i(Mi),qi=$i(ki),Wi=$i(Di),Hi=$i(Ri),Xi=$i(Ni),Gi=Fi;(Mi&&Gi(new Mi(new ArrayBuffer(1)))!=Bi||ki&&Gi(new ki)!=Li||Di&&Gi(Di.resolve())!=Vi||Ri&&Gi(new Ri)!=Pi||Ni&&Gi(new Ni)!=zi)&&(Gi=function(e){var t=Fi(e),n="[object Object]"==t?e.constructor:void 0,r=n?$i(n):"";if(r)switch(r){case Ui:return Bi;case qi:return Li;case Wi:return Vi;case Hi:return Pi;case Xi:return zi}return t});var Zi=Gi;var Ki=function(e){return null!=e&&"object"==typeof e},Qi=oi,Yi=Ki;var Ji=function(e){return Yi(e)&&"[object Arguments]"==Qi(e)},ea=Ki,ta=Object.prototype,na=ta.hasOwnProperty,ra=ta.propertyIsEnumerable,ia=Ji(function(){return arguments}())?Ji:function(e){return ea(e)&&na.call(e,"callee")&&!ra.call(e,"callee")},aa=Array.isArray;var oa=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},sa=di,la=oa;var ua=function(e){return null!=e&&la(e.length)&&!sa(e)},ca={exports:{}};var da=function(){return!1};!function(e,t){var n=Gr,r=da,i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||r;e.exports=s}(ca,ca.exports);var fa=ca.exports,pa=oi,ha=oa,ma=Ki,va={};va["[object Float32Array]"]=va["[object Float64Array]"]=va["[object Int8Array]"]=va["[object Int16Array]"]=va["[object Int32Array]"]=va["[object Uint8Array]"]=va["[object Uint8ClampedArray]"]=va["[object Uint16Array]"]=va["[object Uint32Array]"]=!0,va["[object Arguments]"]=va["[object Array]"]=va["[object ArrayBuffer]"]=va["[object Boolean]"]=va["[object DataView]"]=va["[object Date]"]=va["[object Error]"]=va["[object Function]"]=va["[object Map]"]=va["[object Number]"]=va["[object Object]"]=va["[object RegExp]"]=va["[object Set]"]=va["[object String]"]=va["[object WeakMap]"]=!1;var ga=function(e){return ma(e)&&ha(e.length)&&!!va[pa(e)]};var ba=function(e){return function(t){return e(t)}},ya={exports:{}};!function(e,t){var n=Wr,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o}(ya,ya.exports);var xa=ya.exports,_a=ga,wa=ba,ja=xa&&xa.isTypedArray,Ea=ja?wa(ja):_a,Ca=qr,Oa=Zi,Ta=ia,Sa=aa,Aa=ua,Ia=fa,Ma=Vr,ka=Ea,Da=Object.prototype.hasOwnProperty;var Ra=se((function(e){if(null==e)return!0;if(Aa(e)&&(Sa(e)||"string"==typeof e||"function"==typeof e.splice||Ia(e)||ka(e)||Ta(e)))return!e.length;var t=Oa(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Ma(e))return!Ca(e).length;for(var n in e)if(Da.call(e,n))return!1;return!0}));function Na(e){this._maxSize=e,this.clear()}Na.prototype.clear=function(){this._size=0,this._values=Object.create(null)},Na.prototype.get=function(e){return this._values[e]},Na.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Fa=/[^.^\]^[]+|(?=\[\]|\.\.)/g,$a=/^\d+$/,La=/^\d/,Va=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Pa=/^\s*(['"]?)(.*?)(\1)\s*$/,za=new Na(512),Ba=new Na(512),Ua=new Na(512),qa={Cache:Na,split:Ha,normalizePath:Wa,setter:function(e){var t=Wa(e);return Ba.get(e)||Ba.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=Wa(e);return Ua.get(e)||Ua.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(Xa(t)||$a.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(Ga(r)&&(r='"'+r+'"'),a=!(o=Xa(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:Ha(e),t,n)}};function Wa(e){return za.get(e)||za.set(e,Ha(e).map((function(e){return e.replace(Pa,"$2")})))}function Ha(e){return e.match(Fa)||[""]}function Xa(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function Ga(e){return!Xa(e)&&(function(e){return e.match(La)&&!e.match($a)}(e)||function(e){return Va.test(e)}(e))}const Za=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ka=e=>e.match(Za)||[],Qa=(e,t)=>Ka(e).join(t).toLowerCase(),Ya=e=>Ka(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");var Ja=Ya,eo=e=>Qa(e,"_"),to={exports:{}};function no(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||l(e[a],a,new Set);return r;function l(e,t,a){if(a.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var d=c[--t];l(d,s.get(d),a)}while(t);a.delete(e)}r[--n]=e}}}to.exports=function(e){return no(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},to.exports.array=no;var ro=se(to.exports);const io=Object.prototype.toString,ao=Error.prototype.toString,oo=RegExp.prototype.toString,so="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",lo=/^Symbol\((.*)\)(.*)$/;function uo(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return so.call(e).replace(lo,"Symbol($1)");const r=io.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+ao.call(e)+"]":"RegExp"===r?oo.call(e):null}function co(e,t){let n=uo(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=uo(this[e],t);return null!==r?r:n}),2)}function fo(e){return null==e?[]:[].concat(e)}let po,ho,mo,vo=/\$\{\s*(\w+)\s*\}/g;po=Symbol.toStringTag;class go{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[po]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],fo(e).forEach((e=>{if(bo.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ho=Symbol.hasInstance,mo=Symbol.toStringTag;class bo extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=Object.assign({},t,{path:n})),"string"==typeof e?e.replace(vo,((e,n)=>co(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,i){const a=new go(e,t,n,r);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[mo]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,bo)}static[ho](e){return go[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let yo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=null!=r&&r!==n?` (cast from the value \`${co(r,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${co(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${co(n,!0)}\``+i}},xo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},_o={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},wo={isValue:"${path} field must be ${value}"},jo={noUnknown:"${path} field has unspecified keys: ${unknown}"},Eo={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Co={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${co(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${co(n,!0)}\``}return bo.formatError(yo.notType,e)}};Object.assign(Object.create(null),{mixed:yo,string:xo,number:{min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date:_o,object:jo,array:Eo,boolean:wo,tuple:Co});const Oo=e=>e&&e.__isYupSchema__;class To{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:i}=t,a="function"==typeof n?n:(...e)=>e.every((e=>e===n));return new To(e,((e,t)=>{var n;let o=a(...e)?r:i;return null!=(n=null==o?void 0:o(t))?n:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!Oo(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const So="$",Ao=".";class Io{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===So,this.isValue=this.key[0]===Ao,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?So:this.isValue?Ao:"";this.path=this.key.slice(n.length),this.getter=this.path&&qa.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Io.prototype.__isYupRef=!0;const Mo=e=>null==e;function ko(e){function t({value:t,path:n="",options:r,originalValue:i,schema:a},o,s){const{name:l,test:u,params:c,message:d,skipAbsent:f}=e;let{parent:p,context:h,abortEarly:m=a.spec.abortEarly,disableStackTrace:v=a.spec.disableStackTrace}=r;function g(e){return Io.isRef(e)?e.getValue(t,p,h):e}function b(e={}){const r=Object.assign({value:t,originalValue:i,label:a.spec.label,path:e.path||n,spec:a.spec,disableStackTrace:e.disableStackTrace||v},c,e.params);for(const e of Object.keys(r))r[e]=g(r[e]);const o=new bo(bo.formatError(e.message||d,r),t,r.path,e.type||l,r.disableStackTrace);return o.params=r,o}const y=m?o:s;let x={path:n,parent:p,type:l,from:r.from,createError:b,resolve:g,options:r,originalValue:i,schema:a};const _=e=>{bo.isError(e)?y(e):e?s(null):y(b())},w=e=>{bo.isError(e)?y(e):o(e)};if(f&&Mo(t))return _(!0);let j;try{var E;if(j=u.call(x,t,x),"function"==typeof(null==(E=j)?void 0:E.then)){if(r.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(j).then(_,w)}}catch(e){return void w(e)}_(j)}return t.OPTIONS=e,t}function Do(e,t,n,r=n){let i,a,o;return t?(qa.forEach(t,((s,l,u)=>{let c=l?s.slice(1,s.length-1):s,d="tuple"===(e=e.resolve({context:r,parent:i,value:n})).type,f=u?parseInt(c,10):0;if(e.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=d?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);i=n,n=n&&n[c],e=e.fields[c]}a=c,o=l?"["+s+"]":"."+s})),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}class Ro extends Set{describe(){const e=[];for(const t of this.values())e.push(Io.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Ro(this.values())}merge(e,t){const n=this.clone();return e.forEach((e=>n.add(e))),t.forEach((e=>n.delete(e))),n}}function No(e,t=new Map){if(Oo(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=No(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,No(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(No(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=No(i,t)}return n}class Fo{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ro,this._blacklist=new Ro,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(yo.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=No(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,i;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(i=e.disableStackTrace)?i:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,i=n._cast(e,t);if(!1!==t.assert&&!n.isType(i)){if(r&&Mo(i))return i;let a=co(e),o=co(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${a} \n`+(o!==a?`result of cast: ${o}`:""))}return i}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:i,originalValue:a=e,strict:o=this.spec.strict}=t,s=e;o||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:i,value:s,originalValue:a,options:t,tests:l},n,(e=>{if(e.length)return r(e,s);this.runTests({path:i,value:s,originalValue:a,options:t,tests:this.tests},n,r)}))}runTests(e,t,n){let r=!1,{tests:i,value:a,originalValue:o,path:s,options:l}=e,u=e=>{r||(r=!0,t(e,a))},c=e=>{r||(r=!0,n(e,a))},d=i.length,f=[];if(!d)return c([]);let p={value:a,originalValue:o,path:s,options:l,schema:this};for(let e=0;e<i.length;e++){(0,i[e])(p,u,(function(e){e&&(Array.isArray(e)?f.push(...e):f.push(e)),--d<=0&&c(f)}))}}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:i,options:a}){const o=null!=e?e:t;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const s="number"==typeof o;let l=n[o];const u=Object.assign({},a,{strict:!0,parent:n,value:l,originalValue:i[o],key:void 0,[s?"index":"key"]:o,path:s||o.includes(".")?`${r||""}[${s?o:`"${o}"`}]`:(r?`${r}.`:"")+e});return(e,t,n)=>this.resolve(u)._validate(l,u,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),i=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise(((n,a)=>r._validate(e,t,((e,t)=>{bo.isError(e)&&(e.value=t),a(e)}),((e,t)=>{e.length?a(new bo(e,t,void 0,void 0,i)):n(t)}))))}validateSync(e,t){var n;let r,i=this.resolve(Object.assign({},t,{value:e})),a=null!=(n=null==t?void 0:t.disableStackTrace)?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw bo.isError(e)&&(e.value=t),e}),((t,n)=>{if(t.length)throw new bo(t,e,void 0,void 0,a);r=n})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(bo.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(bo.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):No(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=ko({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=ko({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=yo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=yo.notNull){return this.nullability(!1,e)}required(e=yo.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=yo.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=ko(t),i=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(i)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=fo(e).map((e=>new Io(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"==typeof t?new To(r,t):To.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=ko({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=yo.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=ko({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e,t=yo.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=ko({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:i,nullable:a}=t.spec,o={meta:r,label:n,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))};return o}}Fo.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Fo.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:a,schema:o}=Do(this,t,n,r.context);return o[e](i&&i[a],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Fo.prototype[e]=Fo.prototype.oneOf;for(const e of["not","nope"])Fo.prototype[e]=Fo.prototype.notOneOf;function $o(){return new Lo}class Lo extends Fo{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(e=wo.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>Mo(e)||!0===e})}isFalse(e=wo.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>Mo(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}$o.prototype=Lo.prototype;const Vo=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Po(e){var t,n;const r=Vo.exec(e);return r?{year:zo(r[1]),month:zo(r[2],1)-1,day:zo(r[3],1),hour:zo(r[4]),minute:zo(r[5]),second:zo(r[6]),millisecond:r[7]?zo(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:zo(r[10]),minuteOffset:zo(r[11])}:null}function zo(e,t=0){return Number(e)||t}let Bo=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Uo=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,qo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Wo=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),Ho=e=>Mo(e)||e===e.trim(),Xo={}.toString();function Go(){return new Zo}class Zo extends Fo{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===Xo?e:r}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||yo.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=xo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=xo.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=xo.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,i=!1;return t&&("object"==typeof t?({excludeEmptyString:i=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||xo.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&i||-1!==t.search(e)})}email(e=xo.email){return this.matches(Bo,{name:"email",message:e,excludeEmptyString:!0})}url(e=xo.url){return this.matches(Uo,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=xo.uuid){return this.matches(qo,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"==typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(Wo,{name:"datetime",message:r||xo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||xo.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=Po(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||xo.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||null==n)return!0;const t=Po(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=xo.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:Ho})}lowercase(e=xo.lowercase){return this.transform((e=>Mo(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Mo(e)||e===e.toLowerCase()})}uppercase(e=xo.uppercase){return this.transform((e=>Mo(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Mo(e)||e===e.toUpperCase()})}}Go.prototype=Zo.prototype;let Ko=new Date("");class Qo extends Fo{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=Po(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?Qo.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let n;if(Io.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=_o.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e,t=_o.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function Yo(e,t){let n=1/0;return e.some(((e,r)=>{var i;if(null!=(i=t.path)&&i.includes(e))return n=r,!0})),n}function Jo(e){return(t,n)=>Yo(e,t)-Yo(e,n)}Qo.INVALID_DATE=Ko,Qo.prototype;const es=(e,t,n)=>{if("string"!=typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(e){}return n.isType(r)?r:e};function ts(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=ts(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=ts(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(ts)}):"optional"in e?e.optional():e}let ns=e=>"[object Object]"===Object.prototype.toString.call(e);const rs=Jo([]);function is(e){return new as(e)}class as extends Fo{constructor(e){super({type:"object",check:e=>ns(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=rs,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let i=this.fields,a=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(r).filter((e=>!this._nodes.includes(e)))),s={},l=Object.assign({},t,{parent:s,__validating:t.__validating||!1}),u=!1;for(const e of o){let n=i[e],o=e in r;if(n){let i,a=r[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:a,context:t.context,parent:s});let o=n instanceof Fo?n.spec:void 0,c=null==o?void 0:o.strict;if(null!=o&&o.strip){u=u||e in r;continue}i=t.__validating&&c?r[e]:n.cast(r[e],l),void 0!==i&&(s[e]=i)}else o&&!a&&(s[e]=r[e]);o===e in s&&s[e]===r[e]||(u=!0)}return u?s:r}_validate(e,t={},n,r){let{from:i=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,((e,i)=>{if(!o||!ns(i))return void r(e,i);a=a||i;let s=[];for(let e of this._nodes){let n=this.fields[e];n&&!Io.isRef(n)&&s.push(n.asNestedTest({options:t,key:e,parent:i,parentPath:t.path,originalParent:a}))}this.runTests({tests:s,value:i,originalValue:a,options:t},n,(t=>{r(t.sort(this._sortErrors).concat(e),i)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];n[e]=void 0===r?t:r}return t.withMutation((t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((n=>{var r;const i=this.fields[n];let a=e;null!=(r=a)&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(a):void 0})),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e,t=[]){let n=[],r=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function a(e,t){let a=qa.split(e)[0];r.add(a),i.has(`${t}-${a}`)||n.push([t,a])}for(const t of Object.keys(e)){let n=e[t];r.add(t),Io.isRef(n)&&n.isSibling?a(n.path,t):Oo(n)&&"deps"in n&&n.deps.forEach((e=>a(e,t)))}return ro.array(Array.from(r),n).reverse()}(e,t),n._sortErrors=Jo(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation((n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)}))}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return ts(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter((([t,n])=>e.includes(t)&&e.includes(n))))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let r=qa.getter(e,!0);return this.transform((i=>{if(!i)return i;let a=i;return((e,t)=>{const n=[...qa.normalizePath(t)];if(1===n.length)return n[0]in e;let r=n.pop(),i=qa.getter(qa.join(n),!0)(e);return!(!i||!(r in i))})(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=r(i)),a}))}json(){return this.transform(es)}noUnknown(e=!0,t=jo.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=function(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=jo.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n}))}camelCase(){return this.transformKeys(Ja)}snakeCase(){return this.transformKeys(eo)}constantCase(){return this.transformKeys((e=>eo(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,a]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[i]})),n.fields[i]=a.describe(t)}return n}}function os(e){return new ss(e)}is.prototype=as.prototype;class ss extends Fo{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const i=n.map(((e,n)=>{const i=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${n}]`}));return i!==e&&(r=!0),i}));return r?i:n}_validate(e,t={},n,r){var i;let a=this.innerType,o=null!=(i=t.recursive)?i:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,((i,s)=>{var l;if(!o||!a||!this._typeCheck(s))return void r(i,s);let u=new Array(s.length);for(let n=0;n<s.length;n++){var c;u[n]=a.asNestedTest({options:t,index:n,parent:s,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:s,tests:u,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,(e=>r(e.concat(i),s)))}))}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(es)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Oo(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+co(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=Eo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||Eo.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||Eo.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default((()=>[])).transform(((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t)))}compact(e){let t=e?(t,n,r)=>!e(t,n,r):e=>!!e;return this.transform((e=>null!=e?e.filter(t):e))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var r;let i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=t.innerType.describe(i)}return n}}function ls(e,t,n){if(!e||!Oo(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof t)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n}os.prototype=ss.prototype;const us=e=>e.split("\n").filter((e=>!Ra(e))),cs=e=>{const t=e.split("|").map((e=>e.trim()));return 2!==t.length||Ra(t[0])||Ra(t[1])?null:{label:t[0],value:t[1]}},ds=is().shape({items:Go().test("validate-format",'Incorrect format. Check that all labels and values are filled and separated with "|".',(e=>{if(Ra(e))return!0;return us(e).every((e=>cs(e)))}))}),fs=F.default.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
    text-align: left;
`,ps=F.default(v.Modal)`
    /* increase specificity as the styles are overwritten */
    && {
        height: 100%;
        overflow-y: auto;
    }
    cursor: pointer;
`,hs=F.default.div`
    display: flex;
    justify-content: center;
    margin-top: 2rem;
    gap: 2rem;
`,ms=F.default(b.Button.Default)`
    width: 100%;
`,vs=F.default(d.Text.H3)`
    padding: 2rem 0 1rem 0;
`,gs=({modal:t})=>{const{hideModal:n}=qt(),{type:r,onClickActionButton:i,optionsString:a}=t,o=kr({mode:"onTouched",resolver:$r(ds),defaultValues:{items:a}}),s=o.formState.isValid,l=()=>{n(r)};return e.jsx(Gt,Object.assign({type:null==t?void 0:t.type},{children:e.jsx(_n,Object.assign({},o,{children:e.jsxs("form",Object.assign({onSubmit:o.handleSubmit((e=>{i(e.items),n(r)}))},{children:[e.jsxs(fs,Object.assign({"data-testid":"bulk-edit-modal"},{children:[e.jsx(d.Text.H3,Object.assign({weight:600},{children:"Bulk Edit"})),e.jsx(d.Text.Body,Object.assign({weight:400},{children:"To add multiple entries at once, input each item on a new line, separating the label and value with a bar “|”."})),e.jsxs(d.Text.H6,Object.assign({weight:400},{children:["Example:",e.jsx("br",{}),"Banana | banana",e.jsx("br",{}),"Green Apple | green-apple"]})),e.jsx(Rn,{name:"items",control:o.control,render:({field:t})=>{var n,r;return e.jsx(g.Form.Textarea,Object.assign({},t,{placeholder:"Enter label and value",value:t.value,onChange:e=>t.onChange(e.target.value),errorMessage:null===(r=null===(n=o.formState.errors)||void 0===n?void 0:n.items)||void 0===r?void 0:r.message}))}})]})),e.jsxs(hs,{children:[e.jsx(ms,Object.assign({type:"button",onClick:l,styleType:"light"},{children:"Cancel"})),e.jsx(ms,Object.assign({disabled:!s},{children:"Save"}))]})]}))}))}))},bs=({modal:t})=>{const{hideModal:n}=qt(),{type:r,onClickActionButton:i}=t,a=()=>{n(r)};return e.jsxs(Gt,Object.assign({type:null==t?void 0:t.type},{children:[e.jsx(y.ErrorDisplay,{type:"confirmation",title:e.jsx(vs,Object.assign({weight:"semibold"},{children:"Discard changes?"}))}),e.jsxs(hs,{children:[e.jsx(ms,Object.assign({onClick:i},{children:"Discard changes"})),e.jsx(ms,Object.assign({onClick:a,styleType:"light"},{children:"Keep editing"}))]})]}))},ys=({modal:t})=>{const{onClickActionButton:n,onClose:r}=t;return e.jsxs(Gt,Object.assign({type:null==t?void 0:t.type,onClose:r},{children:[e.jsx(y.ErrorDisplay,{type:"confirmation",description:"You've changed the element type. This will reset all fields to match the new element type.",title:e.jsx(vs,Object.assign({weight:"semibold"},{children:"Reset all fields?"}))}),e.jsxs(hs,{children:[e.jsx(ms,Object.assign({onClick:n},{children:"Reset all fields"})),e.jsx(ms,Object.assign({onClick:r,styleType:"light"},{children:"Return to edit"}))]})]}))},xs=()=>{const{modals:t}=qt();return e.jsx(ps,Object.assign({show:!!(null==t?void 0:t.length)},{children:((t,n)=>{if(null==t?void 0:t.type)switch(null==t?void 0:t.type){case wt.DiscardChanges:return e.jsx(bs,{modal:t});case wt.BulkEdit:return e.jsx(gs,{modal:t});case wt.ResetFields:return e.jsx(ys,{modal:t});default:console.error("type given is not a modal type!")}})(t[0])}))};const _s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function ws(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function js(e){return"nodeType"in e}function Es(e){var t,n;return e?ws(e)?e:js(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Cs(e){const{Document:t}=Es(e);return e instanceof t}function Os(e){return!ws(e)&&e instanceof Es(e).HTMLElement}function Ts(e){return e instanceof Es(e).SVGElement}function Ss(e){return e?ws(e)?e.document:js(e)?Cs(e)?e:Os(e)||Ts(e)?e.ownerDocument:document:document:document}const As=_s?t.useLayoutEffect:t.useEffect;function Is(e){const n=t.useRef(e);return As((()=>{n.current=e})),t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function Ms(e,n){void 0===n&&(n=[e]);const r=t.useRef(e);return As((()=>{r.current!==e&&(r.current=e)}),n),r}function ks(e,n){const r=t.useRef();return t.useMemo((()=>{const t=e(r.current);return r.current=t,t}),[...n])}function Ds(e){const n=Is(e),r=t.useRef(null),i=t.useCallback((e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e}),[]);return[r,i]}function Rs(e){const n=t.useRef();return t.useEffect((()=>{n.current=e}),[e]),n.current}let Ns={};function Fs(e,n){return t.useMemo((()=>{if(n)return n;const t=null==Ns[e]?0:Ns[e]+1;return Ns[e]=t,e+"-"+t}),[e,n])}function $s(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}const Ls=$s(1),Vs=$s(-1);function Ps(e){if(!e)return!1;const{KeyboardEvent:t}=Es(e.target);return t&&e instanceof t}function zs(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Es(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Bs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Bs.Translate.toString(e),Bs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Us="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function qs(e){return e.matches(Us)?e:e.querySelector(Us)}const Ws={display:"none"};function Hs(e){let{id:t,value:n}=e;return N.default.createElement("div",{id:t,style:Ws},n)}function Xs(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return N.default.createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const Gs=t.createContext(null);const Zs={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Ks={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Qs(e){let{announcements:n=Ks,container:r,hiddenTextDescribedById:i,screenReaderInstructions:a=Zs}=e;const{announce:o,announcement:s}=function(){const[e,n]=t.useState("");return{announce:t.useCallback((e=>{null!=e&&n(e)}),[]),announcement:e}}(),l=Fs("DndLiveRegion"),[u,c]=t.useState(!1);if(t.useEffect((()=>{c(!0)}),[]),function(e){const n=t.useContext(Gs);t.useEffect((()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)}),[e,n])}(t.useMemo((()=>({onDragStart(e){let{active:t}=e;o(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&o(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;o(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;o(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;o(n.onDragCancel({active:t,over:r}))}})),[o,n])),!u)return null;const d=N.default.createElement(N.default.Fragment,null,N.default.createElement(Hs,{id:i,value:a.draggable}),N.default.createElement(Xs,{id:l,announcement:s}));return r?x.createPortal(d,r):d}var Ys;function Js(){}function el(e,n){return t.useMemo((()=>({sensor:e,options:null!=n?n:{}})),[e,n])}function tl(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>[...n].filter((e=>null!=e))),[...n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Ys||(Ys={}));const nl=Object.freeze({x:0,y:0});function rl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function il(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function al(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ol(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function sl(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function ll(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const ul=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=ll(t,t.left,t.top),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=rl(ll(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(il)},cl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=ol(t),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=ol(r),o=i.reduce(((e,t,r)=>e+rl(n[r],t)),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(il)};function dl(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const n=t.width*t.height,r=e.width*e.height,i=o*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const fl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const e of r){const{id:r}=e,a=n.get(r);if(a){const n=dl(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(al)};function pl(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:nl}function hl(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const ml=hl(1);const vl={ignoreTransform:!1};function gl(e,t){void 0===t&&(t=vl);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Es(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=e.left-o-(1-i)*parseFloat(n),u=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}(n,t,r))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function bl(e){return gl(e,{ignoreTransform:!0})}function yl(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(Cs(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Os(i)||Ts(i))return n;if(n.includes(i))return n;const a=Es(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=Es(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(i,a)&&n.push(i),function(e,t){return void 0===t&&(t=Es(e).getComputedStyle(e)),"fixed"===t.position}(i,a)?n:r(i.parentNode)}(e):n}function xl(e){const[t]=yl(e,1);return null!=t?t:null}function _l(e){return _s&&e?ws(e)?e:js(e)?Cs(e)||e===Ss(e).scrollingElement?window:Os(e)?e:null:null:null}function wl(e){return ws(e)?e.scrollX:e.scrollLeft}function jl(e){return ws(e)?e.scrollY:e.scrollTop}function El(e){return{x:wl(e),y:jl(e)}}var Cl;function Ol(e){return!(!_s||!e)&&e===document.scrollingElement}function Tl(e){const t={x:0,y:0},n=Ol(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Cl||(Cl={}));const Sl={x:.2,y:.2};function Al(e,t,n,r,i){let{top:a,left:o,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=Sl);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=Tl(e),p={x:0,y:0},h={x:0,y:0},m=t.height*i.y,v=t.width*i.x;return!u&&a<=t.top+m?(p.y=Cl.Backward,h.y=r*Math.abs((t.top+m-a)/m)):!c&&l>=t.bottom-m&&(p.y=Cl.Forward,h.y=r*Math.abs((t.bottom-m-l)/m)),!f&&s>=t.right-v?(p.x=Cl.Forward,h.x=r*Math.abs((t.right-v-s)/v)):!d&&o<=t.left+v&&(p.x=Cl.Backward,h.x=r*Math.abs((t.left+v-o)/v)),{direction:p,speed:h}}function Il(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Ml(e){return e.reduce(((e,t)=>Ls(e,El(t))),nl)}const kl=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+wl(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+jl(t)),0)}]];class Dl{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=yl(t),r=Ml(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of kl)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Rl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Nl(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Fl,$l;function Ll(e){e.preventDefault()}function Vl(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Fl||(Fl={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}($l||($l={}));const Pl={start:[$l.Space,$l.Enter],cancel:[$l.Esc],end:[$l.Space,$l.Enter]},zl=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $l.Right:return{...n,x:n.x+25};case $l.Left:return{...n,x:n.x-25};case $l.Down:return{...n,y:n.y+25};case $l.Up:return{...n,y:n.y-25}}};class Bl{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Rl(Ss(t)),this.windowListeners=new Rl(Es(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Fl.Resize,this.handleCancel),this.windowListeners.add(Fl.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Fl.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=gl),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);xl(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(nl)}handleKeyDown(e){if(Ps(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Pl,coordinateGetter:a=zl,scrollBehavior:o="smooth"}=r,{code:s}=e;if(i.end.includes(s))return void this.handleEnd(e);if(i.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:nl;this.referenceCoordinates||(this.referenceCoordinates=u);const c=a(e,{active:t,context:n.current,currentCoordinates:u});if(c){const t=Vs(c,u),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:a,isRight:s,isLeft:l,isBottom:u,maxScroll:d,minScroll:f}=Tl(n),p=Il(n),h={x:Math.min(i===$l.Right?p.right-p.width/2:p.right,Math.max(i===$l.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(i===$l.Down?p.bottom-p.height/2:p.bottom,Math.max(i===$l.Down?p.top:p.top+p.height/2,c.y))},m=i===$l.Right&&!s||i===$l.Left&&!l,v=i===$l.Down&&!u||i===$l.Up&&!a;if(m&&h.x!==c.x){const e=n.scrollLeft+t.x,a=i===$l.Right&&e<=d.x||i===$l.Left&&e>=f.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=a?n.scrollLeft-e:i===$l.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(v&&h.y!==c.y){const e=n.scrollTop+t.y,a=i===$l.Down&&e<=d.y||i===$l.Up&&e>=f.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=a?n.scrollTop-e:i===$l.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,Ls(Vs(c,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Ul(e){return Boolean(e&&"distance"in e)}function ql(e){return Boolean(e&&"delay"in e)}Bl.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Pl,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class Wl{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Es(e);return e instanceof t?e:Ss(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=Ss(a),this.documentListeners=new Rl(this.document),this.listeners=new Rl(n),this.windowListeners=new Rl(Es(a)),this.initialCoordinates=null!=(r=zs(i))?r:nl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Fl.Resize,this.handleCancel),this.windowListeners.add(Fl.DragStart,Ll),this.windowListeners.add(Fl.VisibilityChange,this.handleCancel),this.windowListeners.add(Fl.ContextMenu,Ll),this.documentListeners.add(Fl.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ql(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(Ul(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Fl.Click,Vl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Fl.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!r)return;const s=null!=(t=zs(e))?t:nl,l=Vs(r,s);if(!n&&o){if(Ul(o)){if(null!=o.tolerance&&Nl(l,o.tolerance))return this.handleCancel();if(Nl(l,o.distance))return this.handleStart()}return ql(o)&&Nl(l,o.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===$l.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Hl={move:{name:"pointermove"},end:{name:"pointerup"}};class Xl extends Wl{constructor(e){const{event:t}=e,n=Ss(t.target);super(e,Hl,n)}}Xl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Gl={move:{name:"mousemove"},end:{name:"mouseup"}};var Zl;!function(e){e[e.RightClick=2]="RightClick"}(Zl||(Zl={}));class Kl extends Wl{constructor(e){super(e,Gl,Ss(e.event.target))}}Kl.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Zl.RightClick&&(null==r||r({event:n}),!0)}}];const Ql={move:{name:"touchmove"},end:{name:"touchend"}};class Yl extends Wl{constructor(e){super(e,Ql)}static setup(){return window.addEventListener(Ql.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ql.move.name,e)};function e(){}}}var Jl,eu;function tu(e){let{acceleration:n,activator:r=Jl.Pointer,canScroll:i,draggingRect:a,enabled:o,interval:s=5,order:l=eu.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:p}=e;const h=function(e){let{delta:t,disabled:n}=e;const r=Rs(t);return ks((e=>{if(n||!r||!e)return nu;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Cl.Backward]:e.x[Cl.Backward]||-1===i.x,[Cl.Forward]:e.x[Cl.Forward]||1===i.x},y:{[Cl.Backward]:e.y[Cl.Backward]||-1===i.y,[Cl.Forward]:e.y[Cl.Forward]||1===i.y}}}),[n,t,r])}({delta:f,disabled:!o}),[m,v]=function(){const e=t.useRef(null);return[t.useCallback(((t,n)=>{e.current=setInterval(t,n)}),[]),t.useCallback((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),g=t.useRef({x:0,y:0}),b=t.useRef({x:0,y:0}),y=t.useMemo((()=>{switch(r){case Jl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Jl.DraggableRect:return a}}),[r,a,u]),x=t.useRef(null),_=t.useCallback((()=>{const e=x.current;if(!e)return;const t=g.current.x*b.current.x,n=g.current.y*b.current.y;e.scrollBy(t,n)}),[]),w=t.useMemo((()=>l===eu.TreeOrder?[...c].reverse():c),[l,c]);t.useEffect((()=>{if(o&&c.length&&y){for(const e of w){if(!1===(null==i?void 0:i(e)))continue;const t=c.indexOf(e),r=d[t];if(!r)continue;const{direction:a,speed:o}=Al(e,r,y,n,p);for(const e of["x","y"])h[e][a[e]]||(o[e]=0,a[e]=0);if(o.x>0||o.y>0)return v(),x.current=e,m(_,s),g.current=o,void(b.current=a)}g.current={x:0,y:0},b.current={x:0,y:0},v()}else v()}),[n,_,i,v,o,s,JSON.stringify(y),JSON.stringify(h),m,c,w,d,JSON.stringify(p)])}Yl.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Jl||(Jl={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(eu||(eu={}));const nu={x:{[Cl.Backward]:!1,[Cl.Forward]:!1},y:{[Cl.Backward]:!1,[Cl.Forward]:!1}};var ru,iu;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(ru||(ru={})),function(e){e.Optimized="optimized"}(iu||(iu={}));const au=new Map;function ou(e,t){return ks((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function su(e){let{callback:n,disabled:r}=e;const i=Is(n),a=t.useMemo((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(i)}),[r]);return t.useEffect((()=>()=>null==a?void 0:a.disconnect()),[a]),a}function lu(e){return new Dl(gl(e),e)}function uu(e,n,r){void 0===n&&(n=lu);const[i,a]=t.useReducer((function(t){if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=t?t:r)?i:null;const a=n(e);if(JSON.stringify(t)===JSON.stringify(a))return t;return a}),null),o=function(e){let{callback:n,disabled:r}=e;const i=Is(n),a=t.useMemo((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(i)}),[i,r]);return t.useEffect((()=>()=>null==a?void 0:a.disconnect()),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),s=su({callback:a});return As((()=>{a(),e?(null==s||s.observe(e),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==o||o.disconnect())}),[e]),i}const cu=[];function du(e,n){void 0===n&&(n=[]);const r=t.useRef(null);return t.useEffect((()=>{r.current=null}),n),t.useEffect((()=>{const t=e!==nl;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)}),[e]),r.current?Vs(e,r.current):nl}function fu(e){return t.useMemo((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const pu=[];function hu(e){let{measure:n}=e;const[r,i]=t.useState(null),a=t.useCallback((e=>{for(const{target:t}of e)if(Os(t)){i((e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r}));break}}),[n]),o=su({callback:a}),s=t.useCallback((e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Os(t)?t:e}(e);null==o||o.disconnect(),t&&(null==o||o.observe(t)),i(t?n(t):null)}),[n,o]),[l,u]=Ds(s);return t.useMemo((()=>({nodeRef:l,rect:r,setRef:u})),[r,l,u])}const mu=[{sensor:Xl,options:{}},{sensor:Bl,options:{}}],vu={current:{}},gu={draggable:{measure:bl},droppable:{measure:bl,strategy:ru.WhileDragging,frequency:iu.Optimized},dragOverlay:{measure:gl}};class bu extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const yu={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Js},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:gu,measureDroppableContainers:Js,windowRect:null,measuringScheduled:!1},xu={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Js,draggableNodes:new Map,over:null,measureDroppableContainers:Js},_u=t.createContext(xu),wu=t.createContext(yu);function ju(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bu}}}function Eu(e,t){switch(t.type){case Ys.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ys.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Ys.DragEnd:case Ys.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ys.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new bu(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Ys.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new bu(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Ys.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new bu(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Cu(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:a}=t.useContext(_u),o=Rs(i),s=Rs(null==r?void 0:r.id);return t.useEffect((()=>{if(!n&&!i&&o&&null!=s){if(!Ps(o))return;if(document.activeElement===o.target)return;const e=a.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=qs(e);if(t){t.focus();break}}}))}}),[i,n,a,s,o]),null}const Ou=t.createContext({...nl,scaleX:1,scaleY:1});var Tu;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Tu||(Tu={}));const Su=t.memo((function(e){var n,r,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:u,sensors:c=mu,collisionDetection:d=fl,measuring:f,modifiers:p,...h}=e;const m=t.useReducer(Eu,void 0,ju),[v,g]=m,[b,y]=function(){const[e]=t.useState((()=>new Set)),n=t.useCallback((t=>(e.add(t),()=>e.delete(t))),[e]);return[t.useCallback((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),n]}(),[_,w]=t.useState(Tu.Uninitialized),j=_===Tu.Initialized,{draggable:{active:E,nodes:C,translate:O},droppable:{containers:T}}=v,S=E?C.get(E):null,A=t.useRef({initial:null,translated:null}),I=t.useMemo((()=>{var e;return null!=E?{id:E,data:null!=(e=null==S?void 0:S.data)?e:vu,rect:A}:null}),[E,S]),M=t.useRef(null),[k,D]=t.useState(null),[R,F]=t.useState(null),$=Ms(h,Object.values(h)),L=Fs("DndDescribedBy",o),V=t.useMemo((()=>T.getEnabled()),[T]),P=(z=f,t.useMemo((()=>({draggable:{...gu.draggable,...null==z?void 0:z.draggable},droppable:{...gu.droppable,...null==z?void 0:z.droppable},dragOverlay:{...gu.dragOverlay,...null==z?void 0:z.dragOverlay}})),[null==z?void 0:z.draggable,null==z?void 0:z.droppable,null==z?void 0:z.dragOverlay]));var z;const{droppableRects:B,measureDroppableContainers:U,measuringScheduled:q}=function(e,n){let{dragging:r,dependencies:i,config:a}=n;const[o,s]=t.useState(null),{frequency:l,measure:u,strategy:c}=a,d=t.useRef(e),f=function(){switch(c){case ru.Always:return!1;case ru.BeforeDragging:return r;default:return!r}}(),p=Ms(f),h=t.useCallback((function(e){void 0===e&&(e=[]),p.current||s((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[p]),m=t.useRef(null),v=ks((t=>{if(f&&!r)return au;if(!t||t===au||d.current!==e||null!=o){const t=new Map;for(let n of e){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Dl(u(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,o,r,f,u]);return t.useEffect((()=>{d.current=e}),[e]),t.useEffect((()=>{f||h()}),[r,f]),t.useEffect((()=>{o&&o.length>0&&s(null)}),[JSON.stringify(o)]),t.useEffect((()=>{f||"number"!=typeof l||null!==m.current||(m.current=setTimeout((()=>{h(),m.current=null}),l))}),[l,f,h,...i]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:null!=o}}(V,{dragging:j,dependencies:[O.x,O.y],config:P.droppable}),W=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return ks((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(C,E),H=t.useMemo((()=>R?zs(R):null),[R]),X=function(){const e=!1===(null==k?void 0:k.autoScrollEnabled),t="object"==typeof l?!1===l.enabled:!1===l,n=j&&!e&&!t;if("object"==typeof l)return{...l,enabled:n};return{enabled:n}}(),G=function(e,t){return ou(e,t)}(W,P.draggable.measure);!function(e){let{activeNode:n,measure:r,initialRect:i,config:a=!0}=e;const o=t.useRef(!1),{x:s,y:l}="boolean"==typeof a?{x:a,y:a}:a;As((()=>{if(!s&&!l||!n)return void(o.current=!1);if(o.current||!i)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=pl(r(e),i);if(s||(t.x=0),l||(t.y=0),o.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=xl(e);n&&n.scrollBy({top:t.y,left:t.x})}}),[n,s,l,i,r])}({activeNode:E?C.get(E):null,config:X.layoutShiftCompensation,initialRect:G,measure:P.draggable.measure});const Z=uu(W,P.draggable.measure,G),K=uu(W?W.parentElement:null),Q=t.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Y=T.getNodeFor(null==(n=Q.current.over)?void 0:n.id),J=hu({measure:P.dragOverlay.measure}),ee=null!=(r=J.nodeRef.current)?r:W,te=j?null!=(i=J.rect)?i:Z:null,ne=Boolean(J.nodeRef.current&&J.rect),re=pl(ie=ne?null:Z,ou(ie));var ie;const ae=fu(ee?Es(ee):null),oe=function(e){const n=t.useRef(e),r=ks((t=>e?t&&t!==cu&&e&&n.current&&e.parentNode===n.current.parentNode?t:yl(e):cu),[e]);return t.useEffect((()=>{n.current=e}),[e]),r}(j?null!=Y?Y:W:null),se=function(e,n){void 0===n&&(n=gl);const[r]=e,i=fu(r?Es(r):null),[a,o]=t.useReducer((function(){return e.length?e.map((e=>Ol(e)?i:new Dl(n(e),e))):pu}),pu),s=su({callback:o});return e.length>0&&a===pu&&o(),As((()=>{e.length?e.forEach((e=>null==s?void 0:s.observe(e))):(null==s||s.disconnect(),o())}),[e]),a}(oe),le=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(p,{transform:{x:O.x-re.x,y:O.y-re.y,scaleX:1,scaleY:1},activatorEvent:R,active:I,activeNodeRect:Z,containerNodeRect:K,draggingNodeRect:te,over:Q.current.over,overlayNodeRect:J.rect,scrollableAncestors:oe,scrollableAncestorRects:se,windowRect:ae}),ue=H?Ls(H,O):null,ce=function(e){const[n,r]=t.useState(null),i=t.useRef(e),a=t.useCallback((e=>{const t=_l(e.target);t&&r((e=>e?(e.set(t,El(t)),new Map(e)):null))}),[]);return t.useEffect((()=>{const t=i.current;if(e!==t){n(t);const o=e.map((e=>{const t=_l(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,El(t)]):null})).filter((e=>null!=e));r(o.length?new Map(o):null),i.current=e}return()=>{n(e),n(t)};function n(e){e.forEach((e=>{const t=_l(e);null==t||t.removeEventListener("scroll",a)}))}}),[a,e]),t.useMemo((()=>e.length?n?Array.from(n.values()).reduce(((e,t)=>Ls(e,t)),nl):Ml(e):nl),[e,n])}(oe),de=du(ce),fe=du(ce,[Z]),pe=Ls(le,de),he=te?ml(te,le):null,me=I&&he?d({active:I,collisionRect:he,droppableRects:B,droppableContainers:V,pointerCoordinates:ue}):null,ve=sl(me,"id"),[ge,be]=t.useState(null),ye=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ne?le:Ls(le,fe),null!=(a=null==ge?void 0:ge.rect)?a:null,Z),xe=t.useCallback(((e,t)=>{let{sensor:n,options:r}=t;if(null==M.current)return;const i=C.get(M.current);if(!i)return;const a=e.nativeEvent,o=new n({active:M.current,activeNode:i,event:a,options:r,context:Q,onStart(e){const t=M.current;if(null==t)return;const n=C.get(t);if(!n)return;const{onDragStart:r}=$.current,i={active:{id:t,data:n.data,rect:A}};x.unstable_batchedUpdates((()=>{null==r||r(i),w(Tu.Initializing),g({type:Ys.DragStart,initialCoordinates:e,active:t}),b({type:"onDragStart",event:i})}))},onMove(e){g({type:Ys.DragMove,coordinates:e})},onEnd:s(Ys.DragEnd),onCancel:s(Ys.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=Q.current;let o=null;if(t&&i){const{cancelDrop:s}=$.current;if(o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===Ys.DragEnd&&"function"==typeof s){await Promise.resolve(s(o))&&(e=Ys.DragCancel)}}M.current=null,x.unstable_batchedUpdates((()=>{g({type:e}),w(Tu.Uninitialized),be(null),D(null),F(null);const t=e===Ys.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=$.current[t];null==e||e(o),b({type:t,event:o})}}))}}x.unstable_batchedUpdates((()=>{D(o),F(e.nativeEvent)}))}),[C]),_e=t.useCallback(((e,t)=>(n,r)=>{const i=n.nativeEvent,a=C.get(r);if(null!==M.current||!a||i.dndKit||i.defaultPrevented)return;const o={active:a};!0===e(n,t.options,o)&&(i.dndKit={capturedBy:t.sensor},M.current=r,xe(n,t))}),[C,xe]),we=function(e,n){return t.useMemo((()=>e.reduce(((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:n(e.handler,t)})))]}),[])),[e,n])}(c,_e);!function(e){t.useEffect((()=>{if(!_s)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(c),As((()=>{Z&&_===Tu.Initializing&&w(Tu.Initialized)}),[Z,_]),t.useEffect((()=>{const{onDragMove:e}=$.current,{active:t,activatorEvent:n,collisions:r,over:i}=Q.current;if(!t||!n)return;const a={active:t,activatorEvent:n,collisions:r,delta:{x:pe.x,y:pe.y},over:i};x.unstable_batchedUpdates((()=>{null==e||e(a),b({type:"onDragMove",event:a})}))}),[pe.x,pe.y]),t.useEffect((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=Q.current;if(!e||null==M.current||!t||!i)return;const{onDragOver:a}=$.current,o=r.get(ve),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};x.unstable_batchedUpdates((()=>{be(s),null==a||a(l),b({type:"onDragOver",event:l})}))}),[ve]),As((()=>{Q.current={activatorEvent:R,active:I,activeNode:W,collisionRect:he,collisions:me,droppableRects:B,draggableNodes:C,draggingNode:ee,draggingNodeRect:te,droppableContainers:T,over:ge,scrollableAncestors:oe,scrollAdjustedTranslate:pe},A.current={initial:te,translated:he}}),[I,W,me,he,C,ee,te,B,T,ge,oe,pe]),tu({...X,delta:O,draggingRect:he,pointerCoordinates:ue,scrollableAncestors:oe,scrollableAncestorRects:se});const je=t.useMemo((()=>({active:I,activeNode:W,activeNodeRect:Z,activatorEvent:R,collisions:me,containerNodeRect:K,dragOverlay:J,draggableNodes:C,droppableContainers:T,droppableRects:B,over:ge,measureDroppableContainers:U,scrollableAncestors:oe,scrollableAncestorRects:se,measuringConfiguration:P,measuringScheduled:q,windowRect:ae})),[I,W,Z,R,me,K,J,C,T,B,ge,U,oe,se,P,q,ae]),Ee=t.useMemo((()=>({activatorEvent:R,activators:we,active:I,activeNodeRect:Z,ariaDescribedById:{draggable:L},dispatch:g,draggableNodes:C,over:ge,measureDroppableContainers:U})),[R,we,I,Z,g,L,C,ge,U]);return N.default.createElement(Gs.Provider,{value:y},N.default.createElement(_u.Provider,{value:Ee},N.default.createElement(wu.Provider,{value:je},N.default.createElement(Ou.Provider,{value:ye},u)),N.default.createElement(Cu,{disabled:!1===(null==s?void 0:s.restoreFocus)})),N.default.createElement(Qs,{...s,hiddenTextDescribedById:L}))})),Au=t.createContext(null),Iu="button",Mu="Droppable";function ku(e){let{id:n,data:r,disabled:i=!1,attributes:a}=e;const o=Fs(Mu),{activators:s,activatorEvent:l,active:u,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:p}=t.useContext(_u),{role:h=Iu,roleDescription:m="draggable",tabIndex:v=0}=null!=a?a:{},g=(null==u?void 0:u.id)===n,b=t.useContext(g?Ou:Au),[y,x]=Ds(),[_,w]=Ds(),j=function(e,n){return t.useMemo((()=>e.reduce(((e,t)=>{let{eventName:r,handler:i}=t;return e[r]=e=>{i(e,n)},e}),{})),[e,n])}(s,n),E=Ms(r);As((()=>(f.set(n,{id:n,key:o,node:y,activatorNode:_,data:E}),()=>{const e=f.get(n);e&&e.key===o&&f.delete(n)})),[f,n]);return{active:u,activatorEvent:l,activeNodeRect:c,attributes:t.useMemo((()=>({role:h,tabIndex:v,"aria-disabled":i,"aria-pressed":!(!g||h!==Iu)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable})),[i,h,v,g,m,d.draggable]),isDragging:g,listeners:i?void 0:j,node:y,over:p,setNodeRef:x,setActivatorNodeRef:w,transform:b}}const Du="Droppable",Ru={timeout:25};function Nu(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:a}=e;const o=Fs(Du),{active:s,dispatch:l,over:u,measureDroppableContainers:c}=t.useContext(_u),d=t.useRef({disabled:r}),f=t.useRef(!1),p=t.useRef(null),h=t.useRef(null),{disabled:m,updateMeasurementsFor:v,timeout:g}={...Ru,...a},b=Ms(null!=v?v:i),y=su({callback:t.useCallback((()=>{f.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{c(Array.isArray(b.current)?b.current:[b.current]),h.current=null}),g)):f.current=!0}),[g]),disabled:m||!s}),x=t.useCallback(((e,t)=>{y&&(t&&(y.unobserve(t),f.current=!1),e&&y.observe(e))}),[y]),[_,w]=Ds(x),j=Ms(n);return t.useEffect((()=>{y&&_.current&&(y.disconnect(),f.current=!1,y.observe(_.current))}),[_,y]),As((()=>(l({type:Ys.RegisterDroppable,element:{id:i,key:o,disabled:r,node:_,rect:p,data:j}}),()=>l({type:Ys.UnregisterDroppable,key:o,id:i}))),[i]),t.useEffect((()=>{r!==d.current.disabled&&(l({type:Ys.SetDroppableDisabled,id:i,key:o,disabled:r}),d.current.disabled=r)}),[i,o,r,l]),{active:s,rect:p,isOver:(null==u?void 0:u.id)===i,node:_,over:u,setNodeRef:w}}function Fu(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function $u(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function Lu(e){return null!==e&&e>=0}const Vu=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=Fu(t,r,n),o=t[i],s=a[i];return s&&o?{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}:null},Pu={scaleX:1,scaleY:1},zu=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=null!=(t=a[n])?t:r;if(!s)return null;if(i===n){const e=a[o];return e?{x:0,y:n<o?e.top+e.height-(s.top+s.height):e.top-s.top,...Pu}:null}const l=function(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0;return a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-l,...Pu}:i<n&&i>=o?{x:0,y:s.height+l,...Pu}:{x:0,y:0,...Pu}};const Bu="Sortable",Uu=N.default.createContext({activeIndex:-1,containerId:Bu,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Vu,disabled:{draggable:!1,droppable:!1}});function qu(e){let{children:n,id:r,items:i,strategy:a=Vu,disabled:o=!1}=e;const{active:s,dragOverlay:l,droppableRects:u,over:c,measureDroppableContainers:d}=t.useContext(wu),f=Fs(Bu,r),p=Boolean(null!==l.rect),h=t.useMemo((()=>i.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[i]),m=null!=s,v=s?h.indexOf(s.id):-1,g=c?h.indexOf(c.id):-1,b=t.useRef(h),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,b.current),x=-1!==g&&-1===v||y,_=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(o);As((()=>{y&&m&&d(h)}),[y,h,m,d]),t.useEffect((()=>{b.current=h}),[h]);const w=t.useMemo((()=>({activeIndex:v,containerId:f,disabled:_,disableTransforms:x,items:h,overIndex:g,useDragOverlay:p,sortedRects:$u(h,u),strategy:a})),[v,f,_.draggable,_.droppable,x,h,g,u,p,a]);return N.default.createElement(Uu.Provider,{value:w},n)}const Wu=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return Fu(n,r,i).indexOf(t)},Hu=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:u}=e;return!(!u||!r)&&((s===a||i!==o)&&(!!n||o!==i&&t===l))},Xu={duration:200,easing:"ease"},Gu="transform",Zu=Bs.Transition.toString({property:Gu,duration:0,easing:"linear"}),Ku={roleDescription:"sortable"};function Qu(e){let{animateLayoutChanges:n=Hu,attributes:r,disabled:i,data:a,getNewIndex:o=Wu,id:s,strategy:l,resizeObserverConfig:u,transition:c=Xu}=e;const{items:d,containerId:f,activeIndex:p,disabled:h,disableTransforms:m,sortedRects:v,overIndex:g,useDragOverlay:b,strategy:y}=t.useContext(Uu),x=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(i,h),_=d.indexOf(s),w=t.useMemo((()=>({sortable:{containerId:f,index:_,items:d},...a})),[f,a,_,d]),j=t.useMemo((()=>d.slice(d.indexOf(s))),[d,s]),{rect:E,node:C,isOver:O,setNodeRef:T}=Nu({id:s,data:w,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...u}}),{active:S,activatorEvent:A,activeNodeRect:I,attributes:M,setNodeRef:k,listeners:D,isDragging:R,over:N,setActivatorNodeRef:F,transform:$}=ku({id:s,data:w,attributes:{...Ku,...r},disabled:x.draggable}),L=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>e=>{n.forEach((t=>t(e)))}),n)}(T,k),V=Boolean(S),P=V&&!m&&Lu(p)&&Lu(g),z=!b&&R,B=z&&P?$:null,U=P?null!=B?B:(null!=l?l:y)({rects:v,activeNodeRect:I,activeIndex:p,overIndex:g,index:_}):null,q=Lu(p)&&Lu(g)?o({id:s,items:d,activeIndex:p,overIndex:g}):_,W=null==S?void 0:S.id,H=t.useRef({activeId:W,items:d,newIndex:q,containerId:f}),X=d!==H.current.items,G=n({active:S,containerId:f,isDragging:R,isSorting:V,id:s,index:_,items:d,newIndex:H.current.newIndex,previousItems:H.current.items,previousContainerId:H.current.containerId,transition:c,wasDragging:null!=H.current.activeId}),Z=function(e){let{disabled:n,index:r,node:i,rect:a}=e;const[o,s]=t.useState(null),l=t.useRef(r);return As((()=>{if(!n&&r!==l.current&&i.current){const e=a.current;if(e){const t=gl(i.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)}),[n,r,i,a]),t.useEffect((()=>{o&&s(null)}),[o]),o}({disabled:!G,index:_,node:C,rect:E});return t.useEffect((()=>{V&&H.current.newIndex!==q&&(H.current.newIndex=q),f!==H.current.containerId&&(H.current.containerId=f),d!==H.current.items&&(H.current.items=d)}),[V,q,f,d]),t.useEffect((()=>{if(W===H.current.activeId)return;if(W&&!H.current.activeId)return void(H.current.activeId=W);const e=setTimeout((()=>{H.current.activeId=W}),50);return()=>clearTimeout(e)}),[W]),{active:S,activeIndex:p,attributes:M,data:w,rect:E,index:_,newIndex:q,items:d,isOver:O,isSorting:V,isDragging:R,listeners:D,node:C,overIndex:g,over:N,setNodeRef:L,setActivatorNodeRef:F,setDroppableNodeRef:T,setDraggableNodeRef:k,transform:null!=Z?Z:U,transition:function(){if(Z||X&&H.current.newIndex===_)return Zu;if(z&&!Ps(A)||!c)return;if(V||G)return Bs.Transition.toString({...c,property:Gu});return}()}}function Yu(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Ju=[$l.Down,$l.Right,$l.Up,$l.Left],ec=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(Ju.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];a.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const a=i.get(n.id);if(a)switch(e.code){case $l.Down:r.top<a.top&&t.push(n);break;case $l.Up:r.top>a.top&&t.push(n);break;case $l.Left:r.left>a.left&&t.push(n);break;case $l.Right:r.left<a.left&&t.push(n)}}));const l=cl({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null});let u=sl(l,"id");if(u===(null==o?void 0:o.id)&&l.length>1&&(u=l[1].id),null!=u){const e=a.get(n.id),t=a.get(u),o=t?i.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&o&&e&&t){const n=yl(l).some(((e,t)=>s[t]!==e)),i=tc(e,t),a=function(e,t){if(!Yu(e)||!Yu(t))return!1;if(!tc(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),u=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},c={x:o.left,y:o.top};return u.x&&u.y?c:Vs(c,u)}}}};function tc(e,t){return!(!Yu(e)||!Yu(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const nc={expanded:{right:{desktop4k:"4 / span 3",desktopL:"5 / span 4",tablet:"4 / span 3"},left:{desktop4k:"1 / span 3",desktopL:"1 / span 4",tablet:"1 / span 3"},full:{desktop4k:"1 / span 6",desktopL:"1 / span 8",tablet:"1 / span 6"}},minimised:{right:{desktop4k:"4 / span 3",tablet:"4 / span 2"},left:{desktop4k:"1 / span 3",tablet:"1 / span 2"},full:{desktop4k:"1 / span 6",tablet:"1 / span 4"}}},rc=(e,t="expanded")=>{return n=nc[t][e],r.css`
    ${Object.entries(n).map((([e,t])=>`${m.MediaQuery.MaxWidth[e]} { grid-column: ${t}; }`))}
`;var n},ic=F.default(_.DragHandleIcon)`
    display: none;
    transition: width 0.1s ease-out;
    min-width: 1.25rem;

    svg {
        height: 1.25rem;
        width: 1.25rem;
    }
`,ac=F.default.div`
    display: flex;
    align-items: center;
    width: 100%;
    gap: 1rem;
    flex: 1;
    height: 3.125rem;
    &:hover ${ic} {
        display: block;
    }
`,oc=F.default.div`
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    gap: 0.25rem;
    overflow: hidden;
`;F.default(d.Text.Body)`
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`;const sc=F.default(d.Text.XSmall)`
    color: ${n.Color.Neutral[3]};
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`,lc=F.default.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,uc=F.default.button`
    background: transparent;
    cursor: pointer;
    padding: 1rem 0;
    border: none;
    gap: 0.25rem;
    display: flex;
    align-items: center;
    ${d.TextStyleHelper.getTextStyle("XSmall","semibold")}

    svg {
        height: 1rem;
        width: 1rem;
    }

    ${({$disabled:e})=>e?r.css`
                color: ${n.Color.Neutral[3]};
                cursor: not-allowed;
            `:r.css`
                color: ${n.Color.Primary};

                :hover {
                    color: ${n.Color.Secondary};
                }
            `}
`,cc=F.default.div`
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: auto;
    width: 100%;
    padding: 0.4rem;
    gap: 0.25rem;
    border: 1px solid transparent;
    z-index: -1;

    ${({$size:e})=>rc(e)}

    ${({isOver:e})=>e&&r.css`
            border: 1px dashed ${n.Color.Primary};
            border-radius: 0.25rem;
            background: ${n.Color.Accent.Light[5]};
        `}

    svg {
        color: ${n.Color.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,dc=F.default(d.Text.Body)`
    color: ${n.Color.Primary};
    text-align: center;
    font-size: 1rem;
`,fc=F.default(L)`
    cursor: ${({$isDragging:e})=>e?"grabbing":"pointer"};
`,pc=F.default.div`
    position: relative;
`,hc=({element:t,onClick:n})=>{const{label:r,id:i,type:a}=t||{},o=dt(i,a),{focusedElement:s,deleteElement:l,duplicateElement:c,orderedIdentifiers:f}=st(),{showToast:p}=xt(),{isDragging:h}=ku({id:null==t?void 0:t.internalId,disabled:o}),{attributes:m,listeners:v,setNodeRef:g,transform:b,transition:y}=Qu({id:null==t?void 0:t.internalId,disabled:o}),{isOver:x,setNodeRef:j}=Nu({id:null==t?void 0:t.internalId}),E=f.find((e=>{if(e.internalId===(null==t?void 0:t.internalId))return e.size})),C=I(),O=I()&&(null==s?void 0:s.isDirty),T={transform:Bs.Translate.toString(b),transition:y,opacity:h?"70%":"100%",background:h?"white":"inherit",gap:h?"1rem":"inherit",width:"100%",position:"relative",zIndex:h?1:"auto"},S=Object.assign(Object.assign({style:T},m),v),A=pt("id",Z[t.type]);function I(){var e;return s&&(null===(e=null==s?void 0:s.element)||void 0===e?void 0:e.internalId)===(null==t?void 0:t.internalId)}const M=x?e.jsxs(cc,Object.assign({isOver:x,$size:null==E?void 0:E.size},{children:[e.jsx(_.PlusCircleIcon,{}),e.jsx(dc,Object.assign({weight:600},{children:"Drop your element here"}))]})):null;return e.jsxs(pc,Object.assign({ref:j},{children:[M,e.jsx("div",Object.assign({ref:g},S,{children:e.jsx(fc,Object.assign({onClick:n,focused:C,id:null==t?void 0:t.internalId,$isDragging:h},{children:e.jsxs(ac,Object.assign({"data-testid":"card"+(null==t?void 0:t.internalId)},{children:[!o&&e.jsx(ic,{"data-testid":"drag-handle"}),e.jsx(It,{elementType:null==t?void 0:t.type}),e.jsxs(oc,{children:[e.jsx(d.Text.Body,Object.assign({weight:"semibold"},{children:r})),A&&e.jsxs(sc,Object.assign({weight:"semibold"},{children:["ID: ",i]}))]}),C&&!o&&e.jsxs(lc,{children:[e.jsxs(uc,Object.assign({"data-testid":"delete-button",type:"button",onClick:e=>{e.stopPropagation();const t={message:"Element duplicated.",type:_t.SUCCESS_TOAST};c(s.element),p(t)},$disabled:O,disabled:O},{children:[e.jsx(w.CopyIcon,{}),"full"===(null==E?void 0:E.size)&&"Duplicate"]})),e.jsxs(uc,Object.assign({"data-testid":"duplicate-button",type:"button",onClick:e=>{e.stopPropagation(),l(t.internalId);const n={message:"Element deleted.",type:_t.DELETE_ELEMENT_TOAST,elementInternalId:t.internalId};p(n)}},{children:[e.jsx(u.BinIcon,{}),"full"===(null==E?void 0:E.size)&&"Delete"]}))]})]}))}))}))]}))},mc=F.default.div`
    padding: 0 1rem 0 1rem;
    margin: 2rem 0 1rem 0;
`,vc=F.default(f.Accordion.Item)`
    border-top: ${({$hideTopBorder:e})=>e?`1px solid ${n.Color.Neutral[6]}`:"0"};

    margin-top: ${({$hideTopBorder:e})=>e?"0":"-1rem"};

    #content-container {
        padding: 0;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hideTopBorder:e})=>e?"1rem 0 1rem 1rem":"0 0 0 1rem"};
    }

    [data-testid="accordion-item-expandable-container"] {
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin: ${({$hideTopBorder:e})=>e?"0 0.1rem 0 1rem":"0 0.1rem 0 0"};
    }
`,gc=F.default(f.Accordion)`
    & > div:first-child {
        display: none;
    }
`,bc=F.default.div`
    background: rgba(248, 248, 248, 1);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    margin-bottom: 2rem;
`,yc=F.default(g.Form.Textarea)`
    min-height: 40px;
    overflow: hidden;
`,xc=()=>{const{control:t,formState:{errors:n}}=xn(),{focusedElement:r}=st(),i=dt(r.element.id,r.element.type),a=ft(r,"description"),o=i||a;return e.jsx(Rn,{name:"description",control:t,render:({field:t})=>{var r;return e.jsx(yc,Object.assign({disabled:o},t,{"data-testid":"description-field",label:{children:"Description text (optional)",subtitle:e.jsx(d.Text.H6,Object.assign({weight:400},{children:"This displays as a description under the label."}))},placeholder:"Enter description text",rows:1,onChange:e=>((e,t)=>{t.onChange(e.target.value),e.target.style.height="auto",e.target.style.height=`${Math.max(40,e.target.scrollHeight)}px`})(e,t),errorMessage:null===(r=n.description)||void 0===r?void 0:r.message,maxLength:180}))}})},_c=()=>{var t,n;const{control:r,formState:{errors:i}}=xn(),{focusedElement:a}=st(),o=dt(null===(t=null==a?void 0:a.element)||void 0===t?void 0:t.id,null===(n=null==a?void 0:a.element)||void 0===n?void 0:n.type),s=ft(a,"id"),l=o||s;return e.jsx(Rn,{name:"id",control:r,render:({field:t})=>{var n;return e.jsx(g.Form.Input,Object.assign({disabled:l},t,{"data-testid":"id-field",label:{children:"ID",subtitle:e.jsx(d.Text.H6,Object.assign({weight:400},{children:"ID is used to differentiate element from the others in the UI schema."}))},placeholder:"Create an ID",value:t.value||"",errorMessage:null===(n=i.id)||void 0===n?void 0:n.message}))}})},wc=()=>{var t,n;const{control:r,formState:{errors:i}}=xn(),{focusedElement:a}=st(),o=dt(null===(t=null==a?void 0:a.element)||void 0===t?void 0:t.id,null===(n=null==a?void 0:a.element)||void 0===n?void 0:n.type),s=ft(a,"label"),l=o||s;return e.jsx(Rn,{name:"label",control:r,render:({field:t})=>{var n;return e.jsx(g.Form.Textarea,Object.assign({disabled:l},t,{"data-testid":"label-field",label:"Element Name",rows:1,placeholder:"Enter element name",errorMessage:null===(n=i.label)||void 0===n?void 0:n.message,maxLength:40}))}})},jc=F.default.div`
    display: flex;
    gap: 2rem;
    justify-content: start;
`,Ec=F.default.div`
    &:not(:last-child) {
        margin-bottom: 2rem;
    }
`,Cc=F.default(j.Toggle)`
    label {
        gap: 0.5rem;
        display: flex;
    }
`,Oc=({onChange:t,value:n,label:r,options:i,disabled:a})=>{var o,s,l,u;const c=e=>{t(e)};return e.jsxs(Ec,{children:[e.jsx(g.Form.Label,Object.assign({subtitle:e.jsx(d.Text.H6,Object.assign({weight:400},{children:null==r?void 0:r.subLabel}))},{children:null==r?void 0:r.mainLabel})),e.jsxs(jc,{children:[e.jsxs(Cc,Object.assign({disabled:a,type:"yes",checked:!0===n,onChange:()=>c(!0),indicator:!i},{children:[null===(o=null==i?void 0:i[0])||void 0===o?void 0:o.icon,(null===(s=null==i?void 0:i[0])||void 0===s?void 0:s.title)||"Yes"]})),e.jsxs(Cc,Object.assign({disabled:a,type:"no",checked:!1===n,onChange:()=>c(!1),indicator:!i},{children:[null===(l=null==i?void 0:i[1])||void 0===l?void 0:l.icon,(null===(u=null==i?void 0:i[1])||void 0===u?void 0:u.title)||"No"]}))]})]})},Tc=()=>{const{focusedElement:t}=st(),{control:n,formState:{errors:r},watch:i,resetField:a}=xn(),o=dt(t.element.id,t.element.type);return e.jsxs(bc,{children:[e.jsx(Rn,{name:"required",control:n,render:({field:n})=>e.jsx(Oc,{disabled:o,label:{mainLabel:"Mandatory field"},value:n.value,onChange:e=>{e&&setTimeout((()=>{a("requiredErrorMsg",{defaultValue:t.element.requiredErrorMsg})})),n.onChange(e)}})}),i("required",!0)&&e.jsx(Rn,{name:"requiredErrorMsg",control:n,render:({field:t})=>{var n;return e.jsx(g.Form.Input,Object.assign({disabled:o},t,{"data-testid":"required-error-message-field",label:"Error message",value:t.value||"",placeholder:"Enter error message",errorMessage:null===(n=r.requiredErrorMsg)||void 0===n?void 0:n.message}))},shouldUnregister:!0})]})},Sc=({fieldName:n})=>{const{control:r,formState:{errors:i},watch:a,setValue:o}=xn(),s=a("preselectedValue"),l=a(n,[]),u=ht(),{focusedElement:c}=st(),f=dt(c.element.id,c.element.type),p=ft(c,"preselectedValue"),h=f||p,m=[{label:"Unselect default value",value:null}];l.forEach((e=>{Ra(e.label)||Ra(e.value)||m.push(e)}));const v=m.find((e=>e.value===s));return t.useEffect((()=>{null===s&&o("preselectedValue","",{shouldDirty:!0})}),[s,o]),t.useEffect((()=>{s&&!l.some((e=>e.value===s))&&o("preselectedValue","")}),[v]),m.length>1&&e.jsx(Rn,{name:"preselectedValue",control:r,render:({field:t})=>{var n;const r=W(t,["ref"]);return e.jsx(g.Form.Select,Object.assign({disabled:h},r,{"data-testid":"preselected-value-field",options:m,valueExtractor:e=>e.value,listExtractor:e=>e.label,displayValueExtractor:e=>e.label,placeholder:"Select default value",label:{children:"Pre-selected value (optional)",subtitle:u?e.jsx(d.Text.H6,Object.assign({weight:400},{children:"Select a value for users. Note that prefill value will replace the pre-selected value, if present."})):null},selectedOption:v,onSelectOption:e=>{t.onChange(e.value)},errorMessage:null===(n=i.preselectedValue)||void 0===n?void 0:n.message}))}})},Ac=is().shape({placeholder:Go().optional(),enableClearButton:$o().optional(),defaultCountryCode:Go().optional(),displayAsFixedCountryCode:$o().optional(),validation:os().of(is().shape({validationType:Go().required("Validation type required.").oneOf([B.CONTACT_NUMBER],"Invalid validation type."),validationRule:Go().when(["defaultCountryCode","displayAsFixedCountryCode"],{is:(e,t)=>"Singapore"===e&&t,then:e=>e.required("Validation rule required when country code is 'Singapore' and display as fixed country code is true."),otherwise:e=>e.optional()}),validationErrorMessage:Go().required("Error message required.")}))}),Ic=/^[a-z]+(?:[A-Z0-9][a-z0-9]*)*(?:[-_][a-z0-9]+)*$/gm,Mc=/^[a-zA-Z0-9_-]+$/,kc=/^[a-zA-Z0-9._-]+$/;ls(Go,"validRegex",(function(e){return this.test("validRegex",e,(function(e){return!!(e=>{try{return new RegExp(e),!0}catch(e){return!1}})(e)}))})),ls(Go,"isNumber",(function(e){return this.test("isNumber",e,(function(e){return!!(!isNaN(Number(e))&&Number.isInteger(Number(e))&&parseInt(e)>=0)}))}));const Dc=(e,t)=>{const n=e.filter((e=>e.label&&e.value)).length,r=e.every((e=>e.label&&e.value||!e.label&&!e.value));if(n>=2&&r)return!0;const i=e.reduce(((e,r,i)=>(!r.label&&!r.value&&n>=2||(r.label||e.push(t.createError({path:`${t.path}[${i}].label`,message:"Option label required."})),r.value||e.push(t.createError({path:`${t.path}[${i}].value`,message:"Option value required."}))),e)),[]);throw new bo(i)},Rc=is().shape({placeholder:Go().optional(),dropdownItems:os().of(is().shape({label:Go().optional(),value:Go().optional()})).test("min-2-valid-items","At least 2 items with valid label and value are required.",(function(e){return Dc(e,this)}))}),Nc=/^@[^\s]+(\.[^\s]+)*(?:\s*,\s*@[^,\s]+(\.[^,\s]+)*)*$/,Fc=is().shape({placeholder:Go().optional(),validation:os().of(is().shape({validationType:Go().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([B.EMAIL_DOMAIN],"Validation type must be EMAIL_DOMAIN"),validationRule:Go().when("validationType",{is:B.EMAIL_DOMAIN,then:e=>e.required("Email domain required.").matches(Nc,"Invalid email domain. Check if email domain is correct with no whitespace between characters. Separate each with a comma if there is more than 1 email."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:Go().required("Error message required.")}))}),$c=is().shape({placeholder:Go().optional(),resizableInput:$o().required(),pills:$o().required(),pillItems:os().of(is().shape({content:Go().optional()})).test("min-2-valid-items","At least 2 items with valid content are required.",(function(e){if((null==e?void 0:e.reduce(((e,t)=>t.content&&""!==t.content.trim()?e+1:e),0))>=2)return!0;const t=null==e?void 0:e.reduce(((e,t,n)=>(t.content&&""!==t.content.trim()||e.push(this.createError({path:`${this.path}[${n}].content`,message:"Pill item content is required."})),e)),[]);if((null==t?void 0:t.length)>0)throw new bo(t);return!0})),pillPosition:Go().oneOf(["top","bottom"]),validation:os().of(is().shape({validationType:Go().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([B.MAX_LENGTH],"Validation type must be MAX_LENGTH"),validationRule:Go().when("validationType",{is:B.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only.")}),validationErrorMessage:Go().required("Error message required.")}))}),Lc=is().shape({placeholder:Go().optional(),validation:os().of(is().shape({validationType:Go().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([B.WHOLE_NUMBERS,B.MAX_VALUE,B.MAX_VALUE],"Validation type not supported"),validationRule:Go().when("validationType",{is:B.WHOLE_NUMBERS,then:e=>e.optional(),otherwise:e=>e.when("validationType",{is:B.MIN_VALUE||B.MAX_VALUE,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")})}),validationErrorMessage:Go().required("Error message required.")}))}),Vc=is().shape({placeholder:Go().optional(),validation:os().of(is().shape({validationType:Go().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([B.CUSTOM_REGEX,B.MIN_LENGTH,B.MAX_LENGTH],"Validation type not supported"),validationRule:Go().when("validationType",{is:B.CUSTOM_REGEX,then:e=>e.required("Custom regex required.").validRegex("Regex not valid.")}).when("validationType",{is:e=>e===B.MIN_LENGTH||e===B.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:Go().required("Error message required.")}))}),Pc=is().shape({placeholder:Go().optional(),radioItems:os().of(is().shape({label:Go().optional(),value:Go().optional()})).test("min-2-valid-items","At least 2 items with valid label and value are required.",(function(e){return Dc(e,this)}))});var zc;!function(e){e.buildYupSchema=e=>{try{const{elements:t,focusedElement:n}=st(),r=((e,t)=>is().shape({internalId:Go().required("Internal ID required."),type:Go().oneOf(Object.values(V)).required("Element type required."),label:Go().required("Label required."),required:$o().required().default(!0),requiredErrorMsg:Go().when("required",{is:!0,then:e=>e.required("Error message required."),otherwise:e=>e.optional()}),description:Go().optional(),id:Go().required("ID required.").matches(Ic,{message:"ID must be camelCase."}).notOneOf(Object.values(e).map((e=>e.id)).filter((e=>e!==(null==t?void 0:t.element.id))),"ID must not be duplicated."),preselectedValue:Go().optional(),prefill:os().of(is().shape({prefillMode:Go().required("Source required."),actionId:Go().when("prefillMode",{is:"Previous source",then:e=>e.required("Action ID required.").matches(Mc,"Invalid action ID."),otherwise:e=>e.optional()}),path:Go().required("Path required.").matches(kc,"Invalid path.")})),conditionalRendering:os().of(is().shape({fieldKey:Go().required("Reference required."),comparator:Go().required("Comparator required."),value:Go().required("Reference value required."),internalId:Go()}))}))(t,n);switch(e){case V.EMAIL:return is().concat(r).concat(Fc);case V.TEXT:return is().concat(r).concat(Vc);case V.NUMERIC:return is().concat(r).concat(Lc);case V.TEXTAREA:return is().concat(r).concat($c);case V.CONTACT:return is().concat(r).concat(Ac);case V.DROPDOWN:return is().concat(r).concat(Rc);case V.RADIO:return is().concat(r).concat(Pc)}}catch(e){console.error("Error in schema helper:",e)}}}(zc||(zc={}));const Bc=F.default.div`
    margin-bottom: 2rem;
`,Uc=F.default.div`
    display: flex;
    gap: 1rem;
`,qc=F.default(p.ButtonWithIcon.Small)`
    flex: 1;
`,Wc=F.default.div`
    position: relative;
`,Hc=F.default.div`
    display: flex;
    align-items: start;
    justify-content: center;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }

    & > *:nth-child(2) {
        margin-right: 1rem;
    }

    & > *:nth-child(3) {
        margin-right: 1rem;
    }

    & > * {
        margin-bottom: 0 !important;
    }
`,Xc=F.default.div`
    margin-top: 0.875rem;
    svg {
        color: ${n.Color.Accent.Light[1]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,Gc=F.default.div`
    border: 1px dashed ${n.Color.Primary};
    border-radius: 0.25rem;
    background: ${n.Color.Accent.Light[5]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${n.Color.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,Zc=({onDelete:t,id:n,index:r,fieldName:i})=>{var a,o;const{control:s,formState:{errors:l},watch:u}=xn(),{focusedElement:c}=st(),f=dt(null===(a=null==c?void 0:c.element)||void 0===a?void 0:a.id,null===(o=null==c?void 0:c.element)||void 0===o?void 0:o.type),{attributes:p,listeners:h,setNodeRef:m,transform:v,transition:b,isDragging:y,isOver:x}=Qu({id:n,disabled:f}),w={transform:Bs.Translate.toString(v),transition:b,opacity:y?"70%":"100%",position:"relative",zIndex:y?1:"auto"},j=u(i),E=x?e.jsx(Gc,Object.assign({isOver:x},{children:e.jsx(_.PlusCircleIcon,{})})):null;return e.jsxs(Wc,{children:[E,e.jsxs(Hc,Object.assign({"data-testid":"option-child",ref:m,style:w},p,{children:[e.jsx(Xc,Object.assign({},h,{children:e.jsx(_.DragHandleIcon,{})})),e.jsx(Rn,{name:`${i}.${r}.label`,control:s,render:({field:t})=>{var n,a,o;return e.jsx(g.Form.Input,Object.assign({disabled:f,"data-testid":"option-label",placeholder:"Enter label"},t,{errorMessage:null===(o=null===(a=null===(n=l[i])||void 0===n?void 0:n[r])||void 0===a?void 0:a.label)||void 0===o?void 0:o.message}))}}),e.jsx(Rn,{name:`${i}.${r}.value`,control:s,render:({field:t})=>{var n,a,o;return e.jsx(g.Form.Input,Object.assign({disabled:f,"data-testid":"option-value",placeholder:"Enter value"},t,{errorMessage:null===(o=null===(a=null===(n=l[i])||void 0===n?void 0:n[r])||void 0===a?void 0:a.value)||void 0===o?void 0:o.message}))}}),e.jsx(Dt,{onClick:t,popoverMessage:e.jsx(d.Text.Body,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:f||j.length<3})]}))]})},Kc=({label:n,description:r,fieldName:i})=>{var a,o;const{control:s,getValues:l,trigger:u}=xn(),{fields:f,append:p,remove:h,move:m,replace:v}=dr({control:s,name:i,shouldUnregister:!0}),{showModal:b}=qt(),y=tl(el(Xl),el(Bl,{coordinateGetter:ec})),{focusedElement:x}=st();dt(null===(a=null==x?void 0:x.element)||void 0===a?void 0:a.id,null===(o=null==x?void 0:x.element)||void 0===o?void 0:o.type),t.useEffect((()=>{f.length<2&&p([{label:"",value:""},{label:"",value:""}],{shouldFocus:!1})}),[f]);return e.jsxs(Bc,{children:[e.jsxs(g.Form.Label,{children:[n,e.jsx(d.Text.H6,Object.assign({weight:400},{children:r}))]}),e.jsx(Su,Object.assign({sensors:y,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=f.findIndex((e=>e.id===t.id)),r=f.findIndex((e=>e.id===n.id));m(e,r)}},collisionDetection:ul},{children:e.jsx(qu,Object.assign({items:f,strategy:zu},{children:f.map(((t,n)=>e.jsx(Zc,{id:t.id,index:n,onDelete:()=>h(n),fieldName:i},t.id)))}))})),e.jsxs(Uc,{children:[e.jsx(qc,Object.assign({onClick:()=>{p({label:"",value:""},{shouldFocus:!1})},icon:e.jsx(c.PlusIcon,{}),styleType:"secondary",type:"button"},{children:"Add Option"})),e.jsx(qc,Object.assign({onClick:()=>{const e=l(i),t={type:wt.BulkEdit,optionsString:(n=e,n.filter((e=>!Ra(e.label)||!Ra(e.value))).map((e=>`${e.label} | ${e.value}`)).join("\n")),onClickActionButton:e=>(e=>{const t=us(e).map((e=>cs(e)));for(;t.length<2;)t.push({label:"",value:""});v(t),u(i)})(e)};var n;b(t)},icon:e.jsx(E.PencilIcon,{}),styleType:"secondary",type:"button"},{children:"Bulk Edit"}))]})]})},Qc=()=>{const{control:t,formState:{errors:n}}=xn(),{focusedElement:r}=st(),i=dt(r.element.id,r.element.type),a=ft(r,"placeholder"),o=i||a;return e.jsx(Rn,{name:"placeholder",control:t,render:({field:t})=>{var r;return e.jsx(g.Form.Input,Object.assign({disabled:o},t,{"data-testid":"placeholder-field",label:"Placeholder text (optional)",placeholder:"Enter placeholder text",value:t.value||"",errorMessage:null===(r=n.placeholder)||void 0===r?void 0:r.message}))}})},Yc=()=>{const{control:t,formState:{errors:n}}=xn(),r=ht(),{focusedElement:i}=st(),a=dt(i.element.id,i.element.type),o=ft(i,"preselectedValue"),s=a||o;return e.jsx(Rn,{name:"preselectedValue",control:t,render:({field:t})=>{var i;return e.jsx(g.Form.Input,Object.assign({disabled:s},t,{"data-testid":"preselected-value-field",label:{children:"Pre-selected value (optional)",subtitle:r?e.jsx(d.Text.H6,Object.assign({weight:400},{children:"Note that prefill value will replace the pre-selected value, if present."})):null},placeholder:"Enter pre-selected value",value:t.value||"",errorMessage:null===(i=n.preselectedValue)||void 0===i?void 0:i.message}))}})},Jc=F.default.div`
    display: flex;
    align-items: center;
    gap: 1rem;

    svg {
        color: ${n.Color.Accent.Light[2]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,ed=({type:t,onChange:n,onBlur:r,errorMessage:i})=>{const{focusedElement:a}=st(),o=dt(null==a?void 0:a.element.id,null==a?void 0:a.element.type),s=ft(a,"type"),l=o||s;return e.jsx(C.Form.Select,{"data-testid":"type-field",disabled:l,label:"Element type",options:X.flatMap((e=>e.elementTypes)),renderCustomSelectedOption:t=>e.jsxs(Jc,{children:[e.jsx(It,{elementType:t}),e.jsx(C.Text.Body,{children:Z[t]})]}),selectedOption:t,renderListItem:t=>e.jsxs(Jc,{children:[e.jsx(It,{elementType:t}),e.jsx(C.Text.Body,{children:Z[t]})]}),onSelectOption:e=>n(e),errorMessage:i&&i,onBlur:r})},td=()=>{const{selectElementType:n,selectedElementType:r}=st(),{showModal:i,hideModal:a}=qt(),{control:o,formState:{errors:s}}=xn(),[l,u]=t.useState(r);return e.jsx(Rn,{name:"type",control:o,render:({field:t})=>{var o;return e.jsx(ed,{onBlur:t.onBlur,type:l,onChange:e=>{((e,t)=>{if(e===t.value)return;u(e);const o={type:wt.ResetFields,onClickActionButton:()=>{a(wt.ResetFields),n(e),t.onChange(e)},onClose:()=>{a(wt.ResetFields),u(r)}};i(o)})(e,t)},errorMessage:null===(o=s.type)||void 0===o?void 0:o.message})}})},nd=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........"],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ...."],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ... ...."],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599",""],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86",".. ........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506",".... ...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599",""],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1",""],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503",".... ...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502",".... ...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509",".... ...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91","..... ....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... ......."],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ... .. .."],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60",".. .... ...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ...."],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) .. .. .."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","... ... ...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","... ......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","... ... ..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1",""],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ... .. .."],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65",".... ...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ... ..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ... ...."],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ...."],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],rd=F.default.span`
    color: ${n.Color.Neutral[3]};
`,id=[{name:"type",component:td},{name:"label",component:wc},{name:"required",component:Tc},{name:"id",component:_c},{name:"enableClearButton",component:()=>{const{control:t}=xn();return e.jsx(Rn,{name:"enableClearButton",control:t,defaultValue:!1,render:({field:t})=>{const n=W(t,["ref"]);return e.jsx(Oc,Object.assign({},n,{label:{mainLabel:"Enable clear button",subLabel:"This enables form participant to remove contact number input with a click on a clear button."}}))},shouldUnregister:!0})}},{name:"defaultCountryCode",component:()=>{const{control:n,watch:r,unregister:i,setValue:a}=xn(),o=r("defaultCountryCode",""),s=r("displayAsFixedCountryCode"),l=[["No default country code","","",""],...nd],u=l.find((e=>e[0]===o))||l[0];t.useEffect((()=>{""===o&&a("defaultCountryCode","",{shouldDirty:!0})}),[o,a]);const c=t=>e.jsxs(d.Text.Body,{children:[t[0]," ",e.jsx(rd,{children:t[3]?`+${t[3]}`:""})]});return e.jsxs(bc,{children:[e.jsx(Rn,{name:"defaultCountryCode",control:n,render:({field:t})=>{const n=W(t,["ref"]);return e.jsx(g.Form.Select,Object.assign({},n,{"data-testid":"default-country-code",label:"Default country code",renderCustomSelectedOption:c,renderListItem:c,options:l,selectedOption:u,onSelectOption:e=>{"No default country code"!==e[0]?t.onChange(e[0]):t.onChange("")},enableSearch:!0}))},shouldUnregister:!0}),o&&e.jsx(Rn,{name:"displayAsFixedCountryCode",control:n,defaultValue:!1,render:({field:t})=>{const n=W(t,["ref"]);return e.jsx(Oc,Object.assign({},n,{label:{mainLabel:"Display as fixed country code",subLabel:"This will disable selection of country code."},onChange:e=>{e||i("validation.0.validationRule"),t.onChange(e)}}))},shouldUnregister:!0}),e.jsx(O.Alert,Object.assign({type:"info",showIcon:!0},{children:"Singapore"===o&&s?"Field will validate in Singapore format. This enables selection of SG landline or mobile contact number validation under Additional Validation.":"Field will validate in international format."}))]})}},{name:"description",component:xc},{name:"placeholder",component:Qc},{name:"preselectedValue",component:Yc}],ad=()=>e.jsx("div",Object.assign({"data-testid":"contact-basic-details"},{children:id.map((({name:t,component:n})=>pt(t,G.CONTACT)&&e.jsx(n,{},t)))})),od=[{name:"type",component:td},{name:"label",component:wc},{name:"required",component:Tc},{name:"id",component:_c},{name:"dropdownItems",fieldName:"dropdownItems",label:"Dropdown items",description:"Label is the item displayed to the users in the dropdown menu. Value is used to differentiate the dropdown items in the backend.",component:Kc},{name:"description",component:xc},{name:"placeholder",component:Qc},{name:"preselectedValue",fieldName:"dropdownItems",component:Sc}],sd=()=>e.jsx("div",Object.assign({"data-testid":"dropdown-basic-details"},{children:od.map((t=>{var{name:n,component:r}=t,i=W(t,["name","component"]);const a=r;return pt(n,G.DROPDOWN)&&e.jsx(a,Object.assign({},i),n)}))})),ld=[{name:"type",component:td},{name:"label",component:wc},{name:"required",component:Tc},{name:"id",component:_c},{name:"description",component:xc},{name:"placeholder",component:Qc},{name:"preselectedValue",component:Yc}],ud=()=>e.jsx("div",Object.assign({"data-testid":"email-basic-details"},{children:ld.map((({name:t,component:n})=>pt(t,G.EMAIL)&&e.jsx(n,{},t)))})),cd=F.default.div`
    position: relative;
`,dd=F.default.div`
    border: 1px dashed ${n.Color.Primary};
    border-radius: 0.25rem;
    background: ${n.Color.Accent.Light[5]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${n.Color.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,fd=F.default.div`
    display: flex;
    align-items: start;
    justify-content: center;
    width: 100%;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }
    & > *:nth-child(2) {
        width: 100%;
        margin-right: 1rem;
    }
    & > * {
        margin-bottom: 0 !important;
    }
`,pd=F.default.div`
    margin-top: 0.875rem;
    svg {
        color: ${n.Color.Accent.Light[1]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,hd=({id:t,index:n,onDelete:r,disableDelete:i})=>{const{control:a,formState:{errors:o}}=xn(),{attributes:s,listeners:l,setNodeRef:u,transform:c,transition:f,isDragging:p,isOver:h}=Qu({id:t}),m={transform:Bs.Transform.toString(c),transition:f,position:"relative",opacity:p?"70%":"100%",zIndex:p?1:"auto"},v=h?e.jsx(dd,Object.assign({isOver:h},{children:e.jsx(_.PlusCircleIcon,{})})):null;return e.jsxs(cd,{children:[v,e.jsx("div",Object.assign({ref:u,style:m},s,{children:e.jsxs(fd,{children:[e.jsx(pd,Object.assign({},l,{children:e.jsx(_.DragHandleIcon,{"data-testid":"drag-handle"})})),e.jsx(Rn,{name:`pillItems.${n}.content`,control:a,render:({field:t})=>{var r,i,a;return e.jsx(g.Form.Input,Object.assign({},t,{placeholder:"Enter short text",errorMessage:null===(a=null===(i=null===(r=null==o?void 0:o.pillItems)||void 0===r?void 0:r[n])||void 0===i?void 0:i.content)||void 0===a?void 0:a.message}))}}),e.jsx(Dt,{onClick:r,popoverMessage:e.jsx(d.Text.Body,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:i})]})}))]})},md=F.default.div`
    margin-bottom: 2rem;
`,vd=F.default(p.ButtonWithIcon.Default)`
    width: 100%;
`,gd=()=>{const{focusedElement:n}=st(),{control:r,resetField:i}=xn(),{fields:a,append:o,remove:s,move:l}=dr({control:r,name:"pillItems",shouldUnregister:!0}),u=null==n?void 0:n.element,d=tl(el(Xl),el(Bl,{coordinateGetter:ec})),f=a.length<=2;t.useEffect((()=>{(null==u?void 0:u.pillItems)&&i("pillItems",{defaultValue:u.pillItems})}),[]);return e.jsxs(md,{children:[e.jsx(g.Form.Label,{children:"Pill items"}),e.jsx(Su,Object.assign({sensors:d,collisionDetection:ul,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=a.findIndex((e=>e.id===t.id)),r=a.findIndex((e=>e.id===n.id));l(e,r)}}},{children:e.jsx(qu,Object.assign({items:a,strategy:zu},{children:a.map(((t,n)=>e.jsx(hd,{id:t.id,index:n,onDelete:()=>(e=>{s(e)})(n),disableDelete:f},t.id)))}))})),e.jsx(vd,Object.assign({icon:e.jsx(c.PlusIcon,{}),styleType:"light",onClick:()=>{o({content:""},{shouldFocus:!1})},role:"button",type:"button"},{children:"Add option"}))]})},bd=[{name:"type",component:td},{name:"label",component:wc},{name:"required",component:Tc},{name:"id",component:_c},{name:"description",component:xc},{name:"resizable",component:()=>{const{control:t}=xn();return e.jsx(Rn,{name:"resizableInput",control:t,defaultValue:!1,render:({field:t})=>{const n=W(t,["ref"]);return e.jsx(Oc,Object.assign({},n,{label:{mainLabel:"Resizable area input",subLabel:"This allows participant to resize text area."}}))},shouldUnregister:!0})}},{name:"pills",component:()=>{const{control:n,unregister:r,setValue:i,watch:a,resetField:o}=xn(),{focusedElement:s}=st(),l=null==s?void 0:s.element,u=a("pills");t.useEffect((()=>{u&&(null==l?void 0:l.pillItems)&&o("pillPosition",{defaultValue:l.pillPosition})}),[u]);return e.jsxs(bc,{children:[e.jsx(Rn,{name:"pills",control:n,defaultValue:!1,render:({field:t})=>e.jsx(Oc,{label:{mainLabel:"Pills",subLabel:"This allows a list of selectable short texts to display in pill form. This helps participant to fill up text area fast with less typing."},value:t.value,onChange:e=>{e?(i("pillItems",[{content:""},{content:""}],{shouldDirty:!0}),i("pillPosition","top",{shouldDirty:!0})):r(["pillItems","pillPosition"]),t.onChange(e)}}),shouldUnregister:!0}),a("pills",l.pills)&&e.jsxs(e.Fragment,{children:[e.jsx(gd,{}),e.jsx(Rn,{name:"pillPosition",control:n,render:({field:t})=>e.jsx(Oc,{label:{mainLabel:"List position",subLabel:"This displays pills on top or bottom of the text area."},value:"top"===t.value,options:[{icon:e.jsx(St,{}),title:"Top"},{icon:e.jsx(Et,{}),title:"Bottom"}],onChange:e=>t.onChange(e?"top":"bottom")}),shouldUnregister:!0})]})]})}},{name:"placeholder",component:Qc},{name:"preselectedValue",component:Yc}],yd=()=>e.jsx("div",Object.assign({"data-testid":"long-text-basic-details"},{children:bd.map((({name:t,component:n})=>pt(t,G.TEXTAREA)&&e.jsx(n,{},t)))})),xd=[{name:"type",component:td},{name:"label",component:wc},{name:"required",component:Tc},{name:"id",component:_c},{name:"description",component:xc},{name:"placeholder",component:Qc},{name:"preselectedValue",component:Yc}],_d=()=>e.jsx("div",Object.assign({"data-testid":"numeric-basic-details"},{children:xd.map((({name:t,component:n})=>pt(t,G.NUMERIC)&&e.jsx(n,{},t)))})),wd=()=>e.jsxs("div",Object.assign({"data-testid":"dropdown-basic-details"},{children:[e.jsx(td,{}),e.jsx(wc,{}),e.jsx(Tc,{}),e.jsx(Kc,{label:"List items",description:"Label is the item displayed to the users in the dropdown menu. Value is used to differentiate the dropdown items in the backend.",fieldName:"radioItems"}),e.jsx(_c,{}),e.jsx(xc,{}),e.jsx(Qc,{}),e.jsx(Sc,{fieldName:"radioItems"})]})),jd=[{name:"type",component:td},{name:"label",component:wc},{name:"required",component:Tc},{name:"id",component:_c},{name:"description",component:xc},{name:"placeholder",component:Qc},{name:"preselectedValue",component:Yc}],Ed=()=>e.jsx("div",Object.assign({"data-testid":"text-basic-details"},{children:jd.map((({name:t,component:n})=>pt(t,G.TEXT)&&e.jsx(n,{},t)))})),Cd=()=>{var n;const{focusedElement:r,orderedIdentifiers:i,elements:a}=st(),{watch:o,reset:s,formState:{isDirty:l}}=xn(),u=o("type",null===(n=null==r?void 0:r.element)||void 0===n?void 0:n.type),c=dt(r.element.id,r.element.type);t.useEffect((()=>{if(!l)return;const e=i.filter((e=>e.internalId!==r.element.internalId)).map((e=>e.internalId)),t=Object.values(a).filter((e=>e.id!==r.element.id)).map((e=>e.id)),n=re.generate(u,e,t);s(n,{keepDefaultValues:!0})}),[u]);return e.jsx(gc,{children:e.jsx(vc,Object.assign({type:"default",expanded:!0,title:"Basic",$hideTopBorder:r.isDirty||c},{children:e.jsx(mc,{children:(()=>{switch(u){case V.EMAIL:return e.jsx(ud,{});case V.TEXT:return e.jsx(Ed,{});case V.TEXTAREA:return e.jsx(yd,{});case V.NUMERIC:return e.jsx(_d,{});case V.CONTACT:return e.jsx(ad,{});case V.DROPDOWN:return e.jsx(sd,{});case V.RADIO:return e.jsx(wd,{});default:return null}})()})}))})},Od=F.default.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,Td=F.default.div`
    display: grid;
    grid-template-columns: 5fr 4.5fr;
    gap: 1rem;
`,Sd=F.default(g.Form.Select)`
    [data-testid="dropdown-list"] {
        max-height: 10rem;
    }
`,Ad=F.default(d.Text.XSmall)`
    text-align: left;
`,Id=({onDelete:t,options:n,index:r})=>{const i=[z.EQUALS,z.MORE_THAN,z.LESS_THAN,z.NOT_EQUALS],{formState:{errors:a},control:o,setValue:s}=xn();return e.jsx(Ft,Object.assign({onDelete:t},{children:e.jsxs(Od,{children:[e.jsxs(Td,{children:[e.jsx("div",{children:e.jsx(Rn,{name:`conditionalRendering.${r}.fieldKey`,control:o,render:({field:t})=>{var i,o;const l=W(t,["ref"]);return e.jsx(Sd,Object.assign({},l,{placeholder:"Select",selectedOption:l.value?n.find((e=>e.id===l.value)):null,onSelectOption:e=>{l.onChange(null==e?void 0:e.id),s(`conditionalRendering.${r}.internalId`,e.internalId)},options:n,renderCustomSelectedOption:t=>e.jsx(d.Text.Body,{children:null==t?void 0:t.label}),renderListItem:t=>{const n=pt("id",Z[t.elementType]);return e.jsxs("div",{children:[e.jsx(d.Text.Body,{children:null==t?void 0:t.label}),n&&e.jsxs(Ad,{children:["ID: ",null==t?void 0:t.id]})]})},errorMessage:a&&a.conditionalRendering&&(null===(o=null===(i=null==a?void 0:a.conditionalRendering[r])||void 0===i?void 0:i.fieldKey)||void 0===o?void 0:o.message)||""}))}})}),e.jsx("div",{children:e.jsx(Rn,{name:`conditionalRendering.${r}.comparator`,control:o,render:({field:t})=>{var n,o;const s=W(t,["ref"]);return e.jsx(Sd,Object.assign({},s,{selectedOption:s.value,onSelectOption:e=>{s.onChange(e)},options:i,errorMessage:a&&a.conditionalRendering&&(null===(o=null===(n=null==a?void 0:a.conditionalRendering[r])||void 0===n?void 0:n.comparator)||void 0===o?void 0:o.message)||""}))}})})]}),e.jsx("div",{children:e.jsx(Rn,{name:`conditionalRendering.${r}.value`,control:o,render:({field:t})=>{var n,i;const o=W(t,["ref"]);return e.jsx(g.Form.Input,Object.assign({},o,{placeholder:"Set value",value:o.value,onChange:e=>{o.onChange(e.target.value)},errorMessage:a&&(null==a?void 0:a.conditionalRendering)&&(null===(i=null===(n=null==a?void 0:a.conditionalRendering[r])||void 0===n?void 0:n.value)||void 0===i?void 0:i.message)}))}})})]})}))},Md=()=>{const{watch:n,control:r}=xn(),{fields:i,append:a,remove:o}=dr({control:r,name:"conditionalRendering",shouldUnregister:!0}),{focusedElement:s,elements:l,selectedElementType:u}=st(),c=null==s?void 0:s.element,f=zc.buildYupSchema(u),p=n("conditionalRendering"),h=()=>{const e=[];return Object.entries(l).forEach((([t,n])=>{if(t!==(null==c?void 0:c.internalId)){const t={label:null==n?void 0:n.label,id:null==n?void 0:n.id,internalId:null==n?void 0:n.internalId,elementType:null==n?void 0:n.type};e.push(t)}})),e},m=()=>{try{return f.pick(["conditionalRendering"]).validateSync({conditionalRendering:p,abortEarly:!1}),!1}catch(e){return bo.isError(e)}},v=t.useCallback((()=>{var t;return m()?e.jsx(d.Text.Body,{children:"To add a new condition, fill up the existing condition first."}):0===(null===(t=h())||void 0===t?void 0:t.length)?e.jsx(d.Text.Body,{children:"No conditional rendering available."}):null}),[m,h]);return e.jsx(Pt,Object.assign({onAdd:()=>{const e={fieldKey:"",comparator:z.EQUALS,value:"",internalId:""};a(e)},title:"Conditional Rendering",buttonLabel:"condition",disabledButton:0===h().length||m(),popoverMessage:v()},{children:i.map(((t,n)=>e.jsx(Id,{onDelete:()=>(e=>{o(e)})(n),options:h(),index:n},t.id)))}))},kd=F.default(O.Alert)``,Dd=F.default.div`
    ${kd} {
        margin-bottom: 1rem;
    }
    margin-bottom: 8rem;
`,Rd=F.default.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,Nd=({onDelete:t,index:n})=>{const r=["Myinfo","Previous source"],{formState:{errors:i},control:a,watch:o}=xn();return e.jsx(Ft,Object.assign({onDelete:t},{children:e.jsxs(Rd,{children:[e.jsx("div",{children:e.jsx(Rn,{name:`prefill.${n}.prefillMode`,control:a,defaultValue:"Myinfo",render:({field:t})=>{var a,o,s;const l=W(t,["ref"]);return e.jsx(g.Form.Select,Object.assign({},l,{placeholder:"Select",selectedOption:l.value,options:r,disabled:1===r.length,onSelectOption:e=>{l.onChange(e)},errorMessage:null===(s=null===(o=null===(a=null==i?void 0:i.prefill)||void 0===a?void 0:a[n])||void 0===o?void 0:o.prefillMode)||void 0===s?void 0:s.message}))}})}),"Previous source"===o(`prefill.${n}.prefillMode`)&&e.jsx("div",{children:e.jsx(Rn,{name:`prefill.${n}.actionId`,control:a,render:({field:t})=>{var r,a,o;const s=W(t,["ref"]);return e.jsx(g.Form.Input,Object.assign({},s,{placeholder:"Enter an action ID",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(a=null===(r=null==i?void 0:i.prefill)||void 0===r?void 0:r[n])||void 0===a?void 0:a.actionId)||void 0===o?void 0:o.message}))}})}),e.jsx("div",{children:e.jsx(Rn,{name:`prefill.${n}.path`,control:a,render:({field:t})=>{var r,a,o;const s=W(t,["ref"]);return e.jsx(g.Form.Input,Object.assign({},s,{placeholder:"Enter a path",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(a=null===(r=null==i?void 0:i.prefill)||void 0===r?void 0:r[n])||void 0===a?void 0:a.path)||void 0===o?void 0:o.message}))}})})]})}))},Fd=()=>{const{selectedElementType:t}=st(),{watch:n,control:r}=xn(),{fields:i,append:a,remove:o}=dr({control:r,name:"prefill",shouldUnregister:!0}),s=n("prefill"),l=zc.buildYupSchema(t),u=()=>{try{return l.pick(["prefill"]).validateSync({prefill:s,abortEarly:!1}),!1}catch(e){return bo.isError(e)}};return e.jsx(Pt,Object.assign({onAdd:()=>{a({prefillMode:null,path:""})},title:"Prefill",buttonLabel:"prefill",subtitle:"Prefill information from various data sources, for example Myinfo.",disabledButton:u(),popoverMessage:(()=>{if(u())return e.jsx(d.Text.Body,{children:"To add new prefill, fill up existing prefill first."})})()},{children:0===(null==s?void 0:s.length)?void 0:i.map(((t,n)=>e.jsx(Nd,{onDelete:()=>(e=>{o(e)})(n),index:n},t.id)))}))},$d=(e,t,n)=>t.filter((t=>!(t=>e.some((e=>e.validationType===t)))(t)||(null==n?void 0:n.includes(t)))),Ld=({options:t,index:n,disabled:r})=>{const{formState:{errors:i},control:a}=xn();return e.jsx(Rn,{name:`validation.${n}.validationType`,control:a,render:({field:a})=>{var o,s,l;const u=W(a,["ref"]);return e.jsx(g.Form.Select,Object.assign({},u,{"data-testid":"validation-type",placeholder:"Select",selectedOption:u.value,options:t,disabled:r,onSelectOption:a.onChange,errorMessage:null===(l=null===(s=null===(o=null==i?void 0:i.validation)||void 0===o?void 0:o[n])||void 0===s?void 0:s.validationType)||void 0===l?void 0:l.message}))}})},Vd=({index:t})=>{const{formState:{errors:n},control:r}=xn();return e.jsx(Rn,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;const s=W(r,["ref"]);return e.jsx(g.Form.Input,Object.assign({},s,{placeholder:"Enter rule",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},Pd=({index:t})=>{const{formState:{errors:n},control:r}=xn();return e.jsx(Rn,{name:`validation.${t}.validationErrorMessage`,control:r,render:({field:r})=>{var i,a,o;const s=W(r,["ref"]);return e.jsx(g.Form.Input,Object.assign({},s,{"data-testid":"validation-error-message",placeholder:"Set error message",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationErrorMessage)||void 0===o?void 0:o.message}))}})},zd=F.default.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;

    & > * {
        margin-bottom: 0 !important;
    }
`,Bd=F.default.div`
    background: ${n.Color.Neutral[7]};
    padding: 1rem;
    margin-bottom: 2rem;
`,Ud=F.default(d.Text.BodySmall)`
    color: ${n.Color.Neutral[4]};
`,qd=({index:n})=>{const{formState:{errors:r},control:i,resetField:a}=xn(),{focusedElement:o}=st(),s=null==o?void 0:o.element,l=[{title:"All",label:"First digit of 3, 6, 8 or 9 allowed with correct length.",value:q.DEFAULT},{title:"Landline contact number only",label:"First digit of 3 or 6 allowed with correct length.",value:q.HOUSE},{title:"Mobile contact number only",label:"First digit of 8 or 9 allowed with correct length.",value:q.MOBILE}];return t.useEffect((()=>{var e;a("validation.0.validationRule",{defaultValue:(null===(e=null==s?void 0:s.validation[0])||void 0===e?void 0:e.validationRule)||q.DEFAULT})}),[]),e.jsx(Rn,{name:`validation.${n}.validationRule`,control:i,render:({field:t})=>{var i,a,o;const s=W(t,["ref"]);return e.jsx(g.Form.Select,Object.assign({},s,{"data-testid":"contact-validation-rule",placeholder:"Select",selectedOption:null==l?void 0:l.find((e=>e.value===t.value)),options:l,renderListItem:t=>e.jsxs("div",{children:[e.jsx(d.Text.Body,{children:t.title}),e.jsx(Ud,Object.assign({weight:"semibold"},{children:t.label}))]}),displayValueExtractor:e=>`${e.title} (${e.label})`,onSelectOption:e=>t.onChange(e.value),errorMessage:null===(o=null===(a=null===(i=null==r?void 0:r.validation)||void 0===i?void 0:i[n])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))},shouldUnregister:!0})},Wd=({index:t,options:n,disabled:r})=>{const{watch:i}=xn(),[a,o]=i(["defaultCountryCode","displayAsFixedCountryCode"]);return e.jsx(Bd,{children:e.jsxs(zd,Object.assign({"data-testid":"contact-validation-child"},{children:[e.jsx(Ld,{index:t,options:n,disabled:r}),"Singapore"===a&&o&&e.jsx(qd,{index:t}),e.jsx(Pd,{index:t})]}))})},Hd=({index:t})=>{const{formState:{errors:n},control:r}=xn();return e.jsx(Rn,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;return e.jsx(g.Form.Textarea,Object.assign({},r,{placeholder:"Enter email domain, separating with a comma",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},Xd=({onDelete:t,index:n,options:r})=>e.jsx(Ft,Object.assign({onDelete:t},{children:e.jsxs(zd,Object.assign({"data-testid":"email-validation-child"},{children:[e.jsx(Ld,{index:n,options:r,disabled:1===r.length}),e.jsx(Hd,{index:n}),e.jsx(Pd,{index:n})]}))})),Gd=({onDelete:t,index:n,options:r,disabled:i})=>e.jsx(Ft,Object.assign({onDelete:t},{children:e.jsxs(zd,Object.assign({"data-testid":"long-text-validation-child"},{children:[e.jsx(Ld,{index:n,options:r,disabled:i}),e.jsx(Vd,{index:n}),e.jsx(Pd,{index:n}),e.jsx(O.Alert,Object.assign({type:"info",showIcon:!0},{children:"Adding of this validation will result in character counter displayed under the textarea."}))]}))})),Zd=({onDelete:t,index:n,options:r,disabled:i})=>{const{watch:a}=xn(),o=a(`validation.${n}.validationType`);return e.jsx(Ft,Object.assign({onDelete:t},{children:e.jsxs(zd,Object.assign({"data-testid":"numeric-validation-child"},{children:[e.jsx(Ld,{index:n,options:r,disabled:i}),o!==B.WHOLE_NUMBERS&&e.jsx(Vd,{index:n}),e.jsx(Pd,{index:n})]}))}))},Kd=({onDelete:t,index:n,options:r,disabled:i})=>e.jsx(Ft,Object.assign({onDelete:t},{children:e.jsxs(zd,Object.assign({"data-testid":"text-validation-child"},{children:[e.jsx(Ld,{index:n,options:r,disabled:i}),e.jsx(Vd,{index:n}),e.jsx(Pd,{index:n})]}))})),Qd=()=>{var t;const{selectedElementType:n,focusedElement:r}=st(),{watch:i,control:a}=xn(),{fields:o,append:s,remove:l}=dr({control:a,name:"validation",shouldUnregister:!0}),u=zc.buildYupSchema(n),c=i("validation",[]),f=i("type",null===(t=null==r?void 0:r.element)||void 0===t?void 0:t.type),p=()=>{switch(f){case V.EMAIL:case V.TEXT:case V.NUMERIC:case V.TEXTAREA:return(null==c?void 0:c.length)===Q["Text field"][f].maxEntries;default:return 6===(null==c?void 0:c.length)}},h=()=>{try{return u.pick(["validation"]).validateSync({validation:c,abortEarly:!1}),!1}catch(e){return bo.isError(e)}},m=()=>{switch(f){case V.EMAIL:case V.TEXTAREA:return Q["Text field"][f].validationTypes[0]}},v=e=>{l(e)};return e.jsx(Pt,Object.assign({onAdd:()=>{const e={validationType:m(),validationRule:"",validationErrorMessage:""};s(e)},title:"Additional Validation",buttonLabel:"validation",disabledButton:p()||h(),popoverMessage:h()?e.jsx(d.Text.Body,{children:"To add new validation, fill up existing validation first."}):p()?e.jsx(d.Text.Body,{children:"Limit reached. To add new validation, remove existing ones first."}):void 0,expanded:n===V.CONTACT,hideAddButton:n===V.CONTACT},{children:(()=>{const t=((e,t)=>{switch(t){case V.EMAIL:case V.TEXTAREA:return Q["Text field"][t].validationTypes;case V.TEXT:{const t=[...Q["Text field"][V.TEXT].validationTypes];return $d(e,t,[B.CUSTOM_REGEX])}case V.NUMERIC:const n=[...Q["Text field"][V.NUMERIC].validationTypes];return $d(e,n);case V.CONTACT:return Q["Text field"][V.CONTACT].validationTypes;default:return["Select","Type 1"]}})(c,f);return o.map(((n,r)=>{switch(f){case V.EMAIL:return e.jsx(Xd,{index:r,options:t,disabled:1===t.length,onDelete:()=>v(r)},n.id);case V.TEXTAREA:return e.jsx(Gd,{index:r,options:t,disabled:1===t.length,onDelete:()=>v(r)},n.id);case V.NUMERIC:return e.jsx(Zd,{index:r,options:t,onDelete:()=>v(r)},n.id);case V.TEXT:return e.jsx(Kd,{index:r,options:t,onDelete:()=>v(r)},n.id);case V.CONTACT:return e.jsx(Wd,{index:r,options:t,disabled:1===t.length},n.id);default:return null}}))})()}))},Yd=()=>{const{focusedElement:n,updateFocusedElement:r,selectedElementType:i}=st(),{formState:{isDirty:a},getFieldState:o}=xn(),{isTouched:s}=o("type"),l=ht(),u=dt(n.element.id,n.element.type);return t.useEffect((()=>{r(!!s||!!a)}),[a,r]),e.jsxs(Dd,Object.assign({"data-testid":"element-editor"},{children:[u&&e.jsx(kd,Object.assign({type:"warning",showIcon:!0},{children:"Changes is not allowed for this field"})),n.isDirty&&e.jsx(kd,Object.assign({type:"warning",showIcon:!0},{children:"To reflect changes on preview, save changes first."})),e.jsx(Cd,{}),(c=i,P.has(c)&&e.jsx(Qd,{})),e.jsx(Md,{}),l&&e.jsx(Fd,{})]}));var c},Jd=F.default.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,ef=({type:t,onClick:n})=>e.jsx(L,Object.assign({onClick:n},{children:e.jsxs(Jd,{children:[e.jsx(It,{elementType:t}),e.jsx(d.Text.Body,{children:Z[t]})]})})),tf=F.default.div`
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;

    ${m.MediaQuery.MaxWidth.mobileL} {
        width: auto;
        padding: 0 2.375rem 0 2.375rem;
    }
`,nf=()=>e.jsx(tf,{children:e.jsx(y.ErrorDisplay,{type:"warning",title:"Screen size not supported",description:"Expand to a bigger screen size or switch to desktop view to use the form builder."})});var rf=Gr,af=/\s/;var of=function(e){for(var t=e.length;t--&&af.test(e.charAt(t)););return t},sf=of,lf=/^\s+/;var uf=function(e){return e?e.slice(0,sf(e)+1).replace(lf,""):e},cf=oi,df=Ki;var ff=uf,pf=si,hf=function(e){return"symbol"==typeof e||df(e)&&"[object Symbol]"==cf(e)},mf=/^[-+]0x[0-9a-f]+$/i,vf=/^0b[01]+$/i,gf=/^0o[0-7]+$/i,bf=parseInt;var yf=si,xf=function(){return rf.Date.now()},_f=function(e){if("number"==typeof e)return e;if(hf(e))return NaN;if(pf(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=pf(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ff(e);var n=vf.test(e);return n||gf.test(e)?bf(e.slice(2),n?2:8):mf.test(e)?NaN:+e},wf=Math.max,jf=Math.min;var Ef=se((function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function h(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=xf();if(h(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?jf(n,a-(e-u)):n}(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function g(){var e=xf(),n=h(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?p(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=_f(t)||0,yf(n)&&(c=!!n.leading,a=(d="maxWait"in n)?wf(_f(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},g.flush=function(){return void 0===s?o:v(xf())},g}));const Cf=F.default.div`
    position: relative;
    padding-bottom: 8rem;

    ${({$mode:e})=>{switch(e){case"expanded":return r.css`
                    ${m.MediaQuery.MaxWidth.desktop4k} {
                        grid-column: 4 / span 6;
                    }
                    ${m.MediaQuery.MaxWidth.desktopL} {
                        grid-column: 3 / span 8;
                    }
                    ${m.MediaQuery.MaxWidth.desktopM} {
                        grid-column: 3 / span 8;
                    }
                    ${m.MediaQuery.MaxWidth.tablet} {
                        grid-column: 2 / span 6;
                    }
                `;case"minimised":return r.css`
                    ${m.MediaQuery.MaxWidth.desktop4k} {
                        grid-column: 5 / span 6;
                    }
                    ${m.MediaQuery.MaxWidth.desktopL} {
                        grid-column: 6 / span 6;
                    }
                    ${m.MediaQuery.MaxWidth.desktopM} {
                        grid-column: 6 / span 6;
                    }
                    ${m.MediaQuery.MaxWidth.tablet} {
                        grid-column: 5 / span 4;
                    }
                `}}}
`,Of=F.default.div`
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    height: 100%;

    ${({$mode:e})=>{switch(e){case"expanded":return r.css`
                    ${m.MediaQuery.MaxWidth.desktop4k} {
                        grid-column: 4 / span 6;
                    }
                    ${m.MediaQuery.MaxWidth.desktopL} {
                        grid-column: 3 / span 9;
                    }
                    ${m.MediaQuery.MaxWidth.desktopM} {
                        grid-column: 3 / span 9;
                    }
                    ${m.MediaQuery.MaxWidth.tablet} {
                        grid-column: 2 / span 7;
                    }
                `;case"minimised":return r.css`
                    ${m.MediaQuery.MaxWidth.desktop4k} {
                        grid-column: 5 / span 7;
                    }
                    ${m.MediaQuery.MaxWidth.desktopL} {
                        grid-column: 6 / span 7;
                    }
                    ${m.MediaQuery.MaxWidth.desktopM} {
                        grid-column: 6 / span 7;
                    }
                    ${m.MediaQuery.MaxWidth.tablet} {
                        grid-column: 5 / span 4;
                    }
                `}}}
`,Tf=F.default(d.Text.H3)`
    margin-top: 2rem;
`,Sf=F.default(d.Text.Body)`
    margin-top: 1rem;
`,Af=F.default.ul`
    list-style-type: none;
    display: grid;
    row-gap: 2rem;

    ${({$mode:e})=>{switch(e){case"expanded":return r.css`
                    ${m.MediaQuery.MaxWidth.desktop4k} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${m.MediaQuery.MaxWidth.desktopL} {
                        grid-template-columns: repeat(8, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${m.MediaQuery.MaxWidth.tablet} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 1.5rem;
                    }
                `;case"minimised":return r.css`
                    ${m.MediaQuery.MaxWidth.desktop4k} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${m.MediaQuery.MaxWidth.tablet} {
                        grid-template-columns: repeat(4, minmax(0, 1fr));
                        column-gap: 1.5rem;
                    }
                `}}}
`,If=F.default.li`
    ${({$mode:e,$size:t})=>rc(t,e)}
`,Mf=()=>{const{showSidePanel:n,orderedIdentifiers:r,elements:i,focusElement:a,focusedElement:o,updateOrderedIdentifiers:s,removeFocusedElement:l}=st(),u=t.useRef(null),c=t.useRef([]),d=t.useRef([]),{isDirty:f}=o||{},p=!!o||n?"minimised":"expanded",h=t.useRef(-1),m=[],{showModal:v,discardChanges:g}=qt();for(const e of r)"internalId"in e&&m.push({id:e.internalId});const b=tl(el(Kl,{activationConstraint:{distance:8}}),el(Yl,{activationConstraint:{delay:150,tolerance:5}}),el(Bl,{coordinateGetter:ec})),x=e=>()=>{var t,n;if(f&&(null==e?void 0:e.internalId)!==(null===(t=null==o?void 0:o.element)||void 0===t?void 0:t.internalId)){const t={type:wt.DiscardChanges,onClickActionButton:()=>(e=>{l(),a(e),g()})(e)};v(t)}else f||(null==e?void 0:e.internalId)===(null===(n=null==o?void 0:o.element)||void 0===n?void 0:n.internalId)||a(e)},_=Ef((e=>{var t,n;const{active:i}=e,a=null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect(),o=a.left+a.width/3,l=a.left+2*a.width/3-a.width/9,c=r.findIndex((e=>e.internalId===i.id)),f=(null===(n=i.rect.current.translated)||void 0===n?void 0:n.left)+e.activatorEvent.layerX;let p=c,m="full";if(f<=o?m="left":f>=l&&(m="right"),i.rect.current.translated.top>h.current)p=d.current.findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));else{const e=[...d.current].reverse().findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));p=d.current.length-1-e}const v=Fu(r,c,p);v[p]=Object.assign(Object.assign({},v[p]),{size:m}),s(v)}),10);t.useEffect((()=>{const e=new Set(r.map((e=>e.internalId)));c.current=c.current.filter((t=>e.has(t.internalId)&&t.element))}),[r]);return 0===r.length?e.jsxs(Of,Object.assign({$mode:p,"data-testid":"empty-content"},{children:[e.jsx(y.ErrorDisplay,{type:"no-item-found",imageOnly:!0}),e.jsx(Tf,Object.assign({weight:"semibold"},{children:"Form is empty"})),e.jsx(Sf,{children:"Add an element to start building your form!"})]})):e.jsx(Cf,Object.assign({$mode:p,ref:u},{children:e.jsx(Su,Object.assign({sensors:b,onDragMove:_,onDragStart:e=>{var t;h.current=null===(t=e.active.rect.current.initial)||void 0===t?void 0:t.top,c.current.forEach(((e,t)=>{d.current[t]=e.element.getBoundingClientRect()}))},onDragEnd:()=>{d.current=[]},collisionDetection:cl},{children:e.jsx(qu,Object.assign({items:m},{children:e.jsx(Af,Object.assign({$mode:p},{children:r.map(((t,n)=>{const r=i[t.internalId];return e.jsx(If,Object.assign({$mode:p,$size:null==t?void 0:t.size,"data-testid":"element-content",ref:e=>c.current[n]={internalId:t.internalId,element:e}},{children:e.jsx(hc,{element:r,onClick:x(r)})}),t.internalId)}))}))}))}))}))},kf=F.default.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin-bottom: 8rem;
`,Df=F.default.li`
    display: flex;
    flex-direction: column;
`,Rf=F.default.div`
    border-bottom: 1px solid ${n.Color.Neutral[5]};
    margin-bottom: 1rem;
    padding-bottom: 0.375rem;
`,Nf=F.default.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,Ff=F.default(S.InputGroup)`
    background: ${n.Color.Neutral[7]};
    color: ${n.Color.Neutral[4]};
    border: none;

    svg {
        color: ${n.Color.Neutral[4]};
    }
`,$f=F.default.div`
    display: flex;
    align-items: center;
    gap: 0.6rem;
`,Lf=F.default(_.ICircleFillIcon)`
    color: ${n.Color.Validation.Red.Icon};
    height: 1.125rem;
    width: 1.125rem;
`,Vf=()=>{const{addElement:n}=st(),[r,i]=t.useState(X),[a,o]=t.useState("");return e.jsxs(kf,Object.assign({"data-testid":"add-elements-panel"},{children:[e.jsx("label",{children:e.jsx(Ff,{placeholder:"Search",addon:{type:"custom",attributes:{children:e.jsx(T.MagnifierIcon,{"data-testid":"maginfying-glass"})},position:"left"},allowClear:!0,value:a,onClear:()=>{o(""),i(X)},onChange:e=>(e=>{const t=new RegExp(e,"i"),n=[];o(e),X.forEach((e=>{const r=e.elementTypes.filter((e=>t.test(Z[e])));r.length>0&&n.push({categoryTitle:e.categoryTitle,elementTypes:r})})),i(n)})(e.target.value)})}),r.length>0?r.map(((t,r)=>{return e.jsxs(Df,{children:[e.jsx(Rf,{children:e.jsx(d.Text.H6,Object.assign({weight:"semibold"},{children:t.categoryTitle}))}),e.jsx(Nf,{children:(i=t.elementTypes,i.map((t=>{return e.jsx("li",{children:e.jsx(ef,{type:t,onClick:(r=t,()=>{n(r,!0)})})},t);var r})))})]},r);var i})):e.jsxs($f,{children:[e.jsx(Lf,{}),e.jsx(d.Text.Body,{children:"No results found."})]})]}))},Pf=F.default.div`
    height: 5.75rem;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem 1rem 2rem 2rem;
    border-bottom: ${({$showDivider:e})=>e?r.css`1px solid ${n.Color.Neutral[5]}`:"none"};
`,zf=F.default(I.ChevronRightIcon)`
    transform: ${({$isCollapsed:e})=>e?"rotate(-180deg)":"rotate(0)"};
    transition: transform 350ms ease-in-out;
`,Bf=F.default(d.Text.H3)`
    margin-right: 1rem;
`,Uf=F.default(b.Button.Small)`
    margin-left: auto;
    margin-right: 1rem;
`,qf=({showDivider:t})=>{const{showSidePanel:r,currentMode:i,togglePanel:a,removeFocusedElement:o,focusedElement:s,isSubmitting:l}=st(),{isDirty:u}=s||{},{showModal:c,discardChanges:d}=qt(),{reset:f}=xn(),p=()=>{o(),d(),f()},h=()=>{if(u){const e={type:wt.DiscardChanges,onClickActionButton:p};c(e)}else o()};return e.jsxs(Pf,Object.assign({$showDivider:t},{children:[e.jsx(Bf,Object.assign({weight:"semibold","data-testid":"header-label"},{children:(()=>{if(s)return"Edit details";switch(i){case Ye.ADD_ELEMENT:return"Add elements";case Ye.EDIT_PAGES:return"Add pages"}})()})),(()=>{if(s)return e.jsxs(e.Fragment,{children:[e.jsx(Uf,Object.assign({"data-testid":"save-changes-button",disabled:l,loading:l},{children:l?"Saving":u?"Save Changes":"Saved"})),e.jsx(Mt,Object.assign({$iconSize:"1.5rem",$iconColor:n.Color.Neutral[3],onClick:h,type:"button"},{children:e.jsx(A.CrossIcon,{"data-testid":"cross-button"})}))]});switch(i){case Ye.ADD_ELEMENT:case Ye.EDIT_PAGES:return e.jsx(Mt,Object.assign({$iconSize:"1.5rem",$iconColor:n.Color.Neutral[3],onClick:()=>a(!r)},{children:e.jsx(zf,{$isCollapsed:r})}))}})()]}))},Wf=F.default.div`
    display: flex;
    flex-direction: column;
    height: calc(100% - ${e=>e.$offset}rem);
    width: ${({$narrow:e})=>e?"31.2rem":"36.8rem"};
    transition: ${M.Transition.Base};
    background: ${n.Color.Neutral[8]};
    border-left: 1px solid ${n.Color.Neutral[5]};
    margin-left: auto;
    box-shadow: 0px 2px 12px 0px rgba(104, 104, 104, 0.25);
    position: fixed;
    top: ${e=>e.$offset}rem;
    left: 0;
    transform: translateX(0);

    ${m.MediaQuery.MaxWidth.desktopM} {
        width: ${({$narrow:e})=>e?"24.4rem":"30rem"};
    }

    ${e=>{if(e.$minimised)return r.css`
                transform: translateX(calc(-100% + 5.5rem));
            `}}
`,Hf=F.default.div`
    display: flex;
    height: 100%;
    overflow: hidden;
`,Xf=F.default.div`
    padding: ${({$isFocusedElement:e,$minimised:t})=>e?"1rem":t?"2rem 6rem 2rem 2rem":"2rem"};

    flex: 1;
    overflow-y: ${({$minimised:e})=>e?"hidden":"auto"};
    display: flex;
    flex-direction: column;
    height: 100%;
`,Gf=F.default.div`
    height: 100%;
    background: ${n.Color.Neutral[8]};
    display: flex;
    flex-direction: column;
    align-items: center;
    width: fit-content;
    padding: 2rem 1rem;
    border-left: 1px solid ${n.Color.Neutral[5]};
    gap: 2rem;
`,Zf=F.default.button`
    background: ${({$active:e})=>e?n.Color.Accent.Light[4]:"transparent"};
    color: ${n.Color.Primary};
    display: grid;
    cursor: pointer;
    border: none;
    border-radius: 0.25rem;
    padding: 1rem;

    :hover {
        background: ${n.Color.Accent.Light[4]};
    }

    :focus {
        outline-color: ${n.Color.Primary};
    }

    svg {
        width: 1.625rem;
        height: 1.625rem;
    }
`,Kf=()=>{const{currentMode:t,toggleMode:n,togglePanel:r,showSidePanel:i}=st(),a=e=>()=>{n(e),i||r(!0)};return e.jsxs(Gf,Object.assign({"data-testid":"toolbar"},{children:[e.jsx(Zf,Object.assign({type:"button","data-testid":"add-element",$active:t===Ye.ADD_ELEMENT,onClick:a(Ye.ADD_ELEMENT)},{children:e.jsx(jt,{})})),e.jsx(Zf,Object.assign({type:"button",$active:t===Ye.EDIT_PAGES,onClick:a(Ye.EDIT_PAGES)},{children:e.jsx(k.DocIcon,{})}))]}))},Qf=({offset:n,onSubmit:r})=>{const{showSidePanel:i,currentMode:a,focusedElement:o,updateElement:s,updateFocusedElement:l,selectedElementType:u,toggleSubmitting:c}=st(),d=(e=>{var t,n;const{panels:r}=ct();return null===(n=null===(t=null==r?void 0:r[e])||void 0===t?void 0:t.shouldShow)||void 0===n||n})("pages"),{showToast:f}=xt(),p=kr({mode:"onTouched",resolver:$r(zc.buildYupSchema(u||V.EMAIL)),defaultValues:null==o?void 0:o.element}),{getValues:h,formState:{isSubmitSuccessful:m}}=p,v=t.useCallback((e=>H(void 0,void 0,void 0,(function*(){r&&(c(!0),yield r(e),c(!1));const t={message:"Changes are saved successfully.",type:_t.SUCCESS_TOAST};if("dropdownItems"in e){const t=h("dropdownItems").filter((e=>e.label.length>0||e.value.length>0));e.dropdownItems=t}if("pillItems"in e){const t=h("pillItems").filter((e=>e.content.length>0));e.pillItems=t}s(e),l(!1,e),f(t)}))),[s,l,r]);t.useEffect((()=>{m&&setTimeout((()=>p.reset()))}),[m,p.reset]),t.useEffect((()=>{o&&p.reset(o.element)}),[null==o?void 0:o.element,p.reset]);const g=null===o&&d,b=!o&&!i,y=g||!b;return e.jsx(_n,Object.assign({},p,{children:e.jsx("form",Object.assign({onSubmit:p.handleSubmit(v)},{children:e.jsxs(Wf,Object.assign({$minimised:b,$offset:n||0,$narrow:!d},{children:[e.jsx(qf,{showDivider:y}),e.jsxs(Hf,{children:[e.jsx(Xf,Object.assign({$minimised:b,$isFocusedElement:!!o},{children:o?e.jsx(Yd,{}):a===Ye.ADD_ELEMENT?e.jsx(Vf,{}):e.jsx("div",Object.assign({"data-testid":"default-content"},{children:"Some content here..."}))})),g&&e.jsx(Kf,{})]})]}))}))}))},Yf=F.default(D.Layout.Section)`
    cursor: ${({$disabled:e})=>e?"not-allowed":"auto"};
    height: 100%;
    overflow-x: hidden;
    padding-left: 0 !important;
    padding-right: 0 !important;
`,Jf=F.default(D.Layout.Container)`
    position: relative;
    height: 100%;
    padding: 2rem 3rem;
    display: ${({$isLargeScreen:e})=>e?"grid":"none"};
    ${m.MediaQuery.MaxWidth.tablet} {
        max-width: unset;
        width: 100%;
    }
`,ep=e=>{const t=(e=>{if(!e||0===e.length)return;const t=e.reduce(((e,t)=>{const n=t.comparator===z.LESS_THAN||t.comparator===z.MORE_THAN?parseInt(t.value):t.value;return e[t.fieldKey]||(e[t.fieldKey]=[{filled:!0}]),e[t.fieldKey].push({[Y[t.comparator]]:n}),e}),{});return 0===Object.keys(t).length?[]:[t]})(null==e?void 0:e.conditionalRendering);return Object.assign(Object.assign({label:Object.assign({mainLabel:e.label},e.description&&{subLabel:e.description}),uiType:e.type,columns:{desktop:e.columns.desktop,tablet:e.columns.tablet,mobile:e.columns.mobile}},e.required&&{validation:[Object.assign({required:!0},e.requiredErrorMsg&&{errorMessage:e.requiredErrorMsg})]}),t&&{showIf:t})},tp=e=>({max:parseInt(e.validationRule),errorMessage:e.validationErrorMessage}),np=e=>({min:parseInt(e.validationRule),errorMessage:e.validationErrorMessage});var rp,ip,ap,op,sp,lp,up;!function(e){e.elementToSchema=e=>{const t=ep(e),n=(e=>{const{defaultCountryCode:t,displayAsFixedCountryCode:n,validation:r}=e,{validationRule:i,validationErrorMessage:a}=r[0],o={contactNumber:{internationalNumber:!0},errorMessage:a};return n&&(o.contactNumber="Singapore"===t?{singaporeNumber:i}:{internationalNumber:t}),o})(e),{placeholder:r,enableClearButton:i,defaultCountryCode:a,displayAsFixedCountryCode:o}=e;return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),r&&{placeholder:r}),i&&{allowClear:!0}),!o&&a&&{defaultCountry:e.defaultCountryCode}),{validation:[...t.validation||[],n]})}}}(rp||(rp={})),function(e){e.elementToSchema=e=>{const t=ep(e);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),e.dropdownItems&&{options:e.dropdownItems})}}}(ip||(ip={})),function(e){e.elementToSchema=e=>{const t=ep(e),n=(e=>{if(0===e.length)return;return{matches:(e=>{if(e){const t=null==e?void 0:e.validationRule.split(","),n=`^[a-zA-Z0-9._%+-]+@(${(null==t?void 0:t.map((e=>e.trim().replace(/^@/,"").replace(/\./g,"\\.")))).join("|")})$`;return new RegExp(n)}})(e[0]).toString(),errorMessage:e[0].validationErrorMessage}})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],n]})}}}(ap||(ap={})),function(e){e.elementToSchema=e=>{var t;const n=ep(e),r=(e=>{if(0!==e.length)return tp(e[0])})(e.validation),i=e.resizableInput,a=null===(t=e.pillItems)||void 0===t?void 0:t.map((e=>e.content));return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e.placeholder&&{placeholder:e.placeholder}),r&&{validation:[...n.validation||[],r]}),i&&{resizable:!0}),e.pills&&{chipTexts:a}),e.pills&&"bottom"===e.pillPosition&&{chipPosition:e.pillPosition})}}}(op||(op={})),function(e){e.elementToSchema=e=>{const t=ep(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case B.MAX_VALUE:e.push(tp(t));break;case B.MIN_VALUE:e.push(np(t));break;case B.WHOLE_NUMBERS:e.push((e=>({integer:!0,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(sp||(sp={})),function(e){e.elementToSchema=e=>{const t=ep(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case B.MAX_LENGTH:e.push(tp(t));break;case B.MIN_LENGTH:e.push(np(t));break;case B.CUSTOM_REGEX:e.push((e=>({matches:e.validationRule,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(lp||(lp={})),function(e){e.elementToSchema=e=>{const t=ep(e);return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign({},t),{customOptions:{indicator:!0,styleType:"toggle"}}),e.placeholder&&{placeholder:e.placeholder}),e.radioItems&&{options:e.radioItems})}}}(up||(up={}));const cp=e=>(null==e?void 0:e.filter((e=>!Object.prototype.hasOwnProperty.call(e,"required"))))||[],dp=(e,t)=>{const n=e[t];return null==n?void 0:n.filter((e=>!(null===ae.exec(null==e?void 0:e.path)||(null==e?void 0:e.actionId)&&null===ie.exec(null==e?void 0:e.actionId)||"Myinfo"!==(null==e?void 0:e.prefillMode)&&"Previous source"!==(null==e?void 0:e.prefillMode))))},fp=(e,t,n,r)=>{const{showIf:i,uiType:a,validation:o,label:s}=e;let l="",u="";"string"==typeof s?l=s:s&&"mainLabel"in s&&(l=s.mainLabel,u=s.subLabel||"");const c=null==o?void 0:o.find((e=>Object.prototype.hasOwnProperty.call(e,"required"))),d=ee.generate();var f;return{columns:{desktop:12,tablet:8,mobile:4},label:l,description:u,type:a,required:!!(null==c?void 0:c.required),requiredErrorMsg:(null==c?void 0:c.errorMessage)||"",id:t,internalId:d,conditionalRendering:i?(f=i,f.reduce(((e,t)=>(Object.entries(t).forEach((([t,n])=>{n.filter((e=>!("filled"in e))).forEach((n=>{const[r,i]=Object.entries(n)[0];e.push({fieldKey:t,comparator:J[r],value:i,internalId:""})}))})),e)),[])):[],prefill:dp(n,t)||[],preselectedValue:r||""}},pp=e=>({validationType:B.MAX_LENGTH,validationRule:e.max.toString(),validationErrorMessage:e.errorMessage});var hp,mp,vp,gp,bp,yp,xp,_p;!function(e){e.schemaToElement=(e,t,n,r)=>{const i=fp(e,t,n,r),{placeholder:a,allowClear:o,defaultCountry:s,validation:l}=e,u=(e=>{if(!e)throw new Error("Contact schema must have additional validation.");const t=e.filter((e=>Object.prototype.hasOwnProperty.call(e,"contactNumber")));if(0===t.length||t.length>1)throw new Error("Contact schema must define exactly one contactNumber validation.");const n=t[0];if(!n||!("singaporeNumber"in n.contactNumber)&&!("internationalNumber"in n.contactNumber))throw new Error("Contact schema must have contactNumber validation with either singaporeNumber or internationalNumber.");const{contactNumber:r,errorMessage:i}=n;if("singaporeNumber"in r)return{defaultCountryCode:"Singapore",displayAsFixedCountryCode:!0,validation:[{validationType:B.CONTACT_NUMBER,validationRule:r.singaporeNumber,validationErrorMessage:i}]};if(!1===r.internationalNumber)throw new Error("Contact schema must set internationalNumber to true if it is defined.");return!0===r.internationalNumber?{displayAsFixedCountryCode:!1,validation:[{validationType:B.CONTACT_NUMBER,validationErrorMessage:i}]}:{defaultCountryCode:r.internationalNumber,displayAsFixedCountryCode:!0,validation:[{validationType:B.CONTACT_NUMBER,validationErrorMessage:i}]}})(l);return Object.assign(Object.assign(Object.assign({},i),{placeholder:a||"",enableClearButton:o||!1,defaultCountryCode:s||""}),u)}}(hp||(hp={})),function(e){e.schemaToElement=(e,t,n,r)=>{const i=fp(e,t,n,r),{options:a,placeholder:o}=e;if(Ra(a)||a.length<2)throw new Error("Dropdown schema must have at least 2 options");return Object.assign(Object.assign({},i),{placeholder:o||"",dropdownItems:a})}}(mp||(mp={})),function(e){const t=e=>{const t=e.find((e=>Object.prototype.hasOwnProperty.call(e,U.MATCHES)));if(!t)return;const n=t.matches.toString().match(/@\((.*?)\)\$/)[1].split("|").map((e=>e.replace(/\\./g,"."))).map((e=>"@"+e)).join(", ");return/@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}/.exec(n)?[{validationType:B.EMAIL_DOMAIN,validationRule:n,validationErrorMessage:t.errorMessage}]:void 0};e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s}=e,l=cp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(vp||(vp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{if(n===U.MAX)e.push(pp(t))})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s,resizable:l,chipTexts:u,chipPosition:c}=e,d=null==u?void 0:u.map((e=>({content:e})));if(d&&d.length<2)throw new Error("Long text area schema must have at least 2 chip texts if chipTexts is defined");const f=cp(o);return Object.assign(Object.assign(Object.assign(Object.assign({},a),{placeholder:s||"",validation:f.length>0&&t(f)||[],resizableInput:!!l}),d?{pills:!0,pillItems:d}:{pills:!1}),d&&{pillPosition:c||"top"})}}(gp||(gp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case U.MAX:e.push((r=t,{validationType:B.MAX_VALUE,validationRule:r.max.toString(),validationErrorMessage:r.errorMessage}));break;case U.MIN:e.push((e=>({validationType:B.MIN_VALUE,validationRule:e.min.toString(),validationErrorMessage:e.errorMessage}))(t));break;case U.INTEGER:e.push((e=>({validationType:B.WHOLE_NUMBERS,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s}=e,l=cp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(bp||(bp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case U.MAX:e.push(pp(t));break;case U.MIN:e.push((r=t,{validationType:B.MIN_LENGTH,validationRule:r.min.toString(),validationErrorMessage:r.errorMessage}));break;case U.MATCHES:e.push((e=>({validationType:B.CUSTOM_REGEX,validationRule:e.matches,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s}=e,l=cp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(yp||(yp={})),function(e){e.schemaToElement=(e,t,n,r)=>{const i=fp(e,t,n,r),{options:a,placeholder:o}=e;if(Ra(a)||a.length<2)throw new Error("Radio button schema must have at least 2 options");return Object.assign(Object.assign({},i),{placeholder:o||"",radioItems:a})}}(xp||(xp={})),function(e){e.generateSchema=(e,t,n)=>{var r;const i=null===(r=null==n?void 0:n.shouldShowPrefill)||void 0===r||r,a=i?(e=>Object.values(e).reduce(((e,t)=>(t.prefill&&t.prefill.length>0&&(e[t.id]=t.prefill),e)),{}))(e):{},o=(e=>Object.values(e).reduce(((e,t)=>("preselectedValue"in t&&t.preselectedValue&&(e[t.id]=t.preselectedValue),e)),{}))(e),s=t.reduce(((t,n)=>(t[n.internalId]=e[n.internalId],t)),{}),l=Object.values(s).reduce(((e,t)=>{let n;switch(t.type){case V.EMAIL:n=ap.elementToSchema(t);break;case V.TEXT:n=lp.elementToSchema(t);break;case V.TEXTAREA:n=op.elementToSchema(t);break;case V.CONTACT:n=rp.elementToSchema(t);break;case V.NUMERIC:n=sp.elementToSchema(t);break;case V.DROPDOWN:n=ip.elementToSchema(t);break;case V.RADIO:n=up.elementToSchema(t)}return Object.assign(Object.assign({},e),n)}),{}),u={defaultValues:o,sections:{section:{children:{grid:{children:Object.assign({},l),uiType:"grid"},"submit-button":{disabled:"invalid-form",label:"Submit",uiType:"submit"}},uiType:"section"}}};return Object.assign({schema:u},i&&{prefill:a})},e.parseSchema=(e,t)=>{var n,r,i,a,o,s,l;const u=null===(o=null===(a=null===(i=null===(r=null===(n=null==e?void 0:e.schema)||void 0===n?void 0:n.sections)||void 0===r?void 0:r.section)||void 0===i?void 0:i.children)||void 0===a?void 0:a.grid)||void 0===o?void 0:o.children,c=null===(s=null==t?void 0:t.shouldShowPrefill)||void 0===s||s;if(!u)throw new Error("Element schemas are missing");if(0===Object.keys(u).length)return null;const d=null===(l=null==e?void 0:e.schema)||void 0===l?void 0:l.defaultValues,f=[];return 0!==Object.values(u).length?(Object.entries(u).forEach((([t,n])=>{const{uiType:r}=n;if(!r)throw new Error("UI type is missing");let i;const a=d[t];switch(r){case V.EMAIL:i=vp.schemaToElement(n,t,c?e.prefill:{},a);break;case V.TEXT:i=yp.schemaToElement(n,t,c?e.prefill:{},a);break;case V.TEXTAREA:i=gp.schemaToElement(n,t,c?e.prefill:{},a);break;case V.NUMERIC:i=bp.schemaToElement(n,t,c?e.prefill:{},a);break;case V.CONTACT:i=hp.schemaToElement(n,t,c?e.prefill:{},a);break;case V.DROPDOWN:i=mp.schemaToElement(n,t,c?e.prefill:{},a);break;case V.RADIO:i=xp.schemaToElement(n,t,e.prefill,a);break;default:throw new Error("Invalid element type")}f.push(i)})),(e=>{const t={},n=[];return Object.values(e).forEach((r=>{var i;t[r.internalId]=r,n.push({internalId:r.internalId,size:"full"}),(null===(i=null==r?void 0:r.conditionalRendering)||void 0===i?void 0:i.length)>0&&r.conditionalRendering.forEach(((t,n)=>{const i=Object.values(e).find((e=>(null==e?void 0:e.id)===t.fieldKey));i?r.conditionalRendering[n]=Object.assign(Object.assign({},t),{internalId:i.internalId}):r.conditionalRendering.splice(n,1)}))})),{newElements:t,newOrderedIdentifiers:n}})(f)):null}}(_p||(_p={}));const wp=t.forwardRef((({offset:n,onSubmit:r},i)=>{const[a,o]=t.useState(window.innerWidth>=1200),{elements:s,updateElementSchema:l,orderedIdentifiers:u,isSubmitting:c,removeFocusedElement:d,focusedElement:f}=st(),p=ht(),h=(()=>{const{presetForm:e}=ct();return e})();return t.useImperativeHandle(i,(()=>({generateSchema:()=>_p.generateSchema(s,u,{shouldShowPrefill:p}),parseSchema:e=>{const{newOrderedIdentifiers:t,newElements:n}=_p.parseSchema(e,{shouldShowPrefill:p})||{};if(!t||!n)return l({},[]),void d();const r=Object.values(n).find((e=>{var t;return e.id===(null===(t=null==f?void 0:f.element)||void 0===t?void 0:t.id)}));l(n,t,r)}})),[s,u]),t.useEffect((()=>{if(window){const e=()=>{o(window.innerWidth>=1200)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[]),t.useEffect((()=>{if(h){const e=Object.keys(h).reduce(((e,t)=>(e[t]=h[t].schema,e)),{}),t={schema:{defaultValues:{},sections:{section:{children:{grid:{children:Object.assign({},e),uiType:"grid"},"submit-button":{disabled:"invalid-form",label:"Submit",uiType:"submit"}},uiType:"section"}}},prefill:{}},{newOrderedIdentifiers:n,newElements:r}=_p.parseSchema(t,{shouldShowPrefill:p})||{};l(r,n)}}),[]),e.jsxs(Yf,Object.assign({$disabled:c},{children:[!a&&e.jsx(nf,{}),e.jsxs(Jf,Object.assign({type:"grid",stretch:!0,$isLargeScreen:a},{inert:c?"":void 0},{children:[e.jsx(Ut,{}),e.jsx(xs,{}),e.jsx(Mf,{}),e.jsx(Qf,{offset:n,onSubmit:r})]}))]}))})),jp=t.forwardRef(((t,n)=>e.jsx(ut,Object.assign({value:t.config},{children:e.jsx(ot,{children:e.jsx(yt,{children:e.jsx(wp,Object.assign({ref:n},t))})})}))));exports.FormBuilder=jp;
//# sourceMappingURL=index.js.map
