import{jsx as e,jsxs as t,Fragment as n}from"react/jsx-runtime";import r,{useMemo as i,useReducer as a,createContext as o,useContext as s,useCallback as l,useLayoutEffect as u,useEffect as c,useRef as d,useState as f,memo as p,forwardRef as h,useImperativeHandle as m}from"react";import{Border as v,Colour as g,Radius as b,MediaQuery as y,Motion as _,Font as w}from"@lifesg/react-design-system/theme";import x,{css as E}from"styled-components";import{ChevronDownIcon as O}from"@lifesg/react-icons/chevron-down";import{CircleDotIcon as T}from"@lifesg/react-icons/circle-dot";import{EnvelopeIcon as C}from"@lifesg/react-icons/envelope";import{PhoneIcon as S}from"@lifesg/react-icons/phone";import{PopoverTrigger as A}from"@lifesg/react-design-system/popover-v2";import{BinIcon as j}from"@lifesg/react-icons/bin";import{PlusIcon as D}from"@lifesg/react-icons/plus";import{Typography as I}from"@lifesg/react-design-system/typography";import{Accordion as M}from"@lifesg/react-design-system/accordion";import{ButtonWithIcon as k}from"@lifesg/react-design-system/button-with-icon";import{Toast as N}from"@lifesg/react-design-system/toast";import{Modal as $}from"@lifesg/react-design-system/modal";import{Form as R}from"@lifesg/react-design-system/form";import{Button as F}from"@lifesg/react-design-system/button";import{ErrorDisplay as L}from"@lifesg/react-design-system/error-display";import{unstable_batchedUpdates as V,createPortal as z}from"react-dom";import{DragHandleIcon as B,PlusCircleIcon as P,ICircleFillIcon as U}from"@lifesg/react-icons";import{CopyIcon as q}from"@lifesg/react-icons/copy";import{Toggle as H}from"@lifesg/react-design-system/toggle";import{PencilIcon as W}from"@lifesg/react-icons/pencil";import{Form as X}from"@lifesg/react-design-system";import{Alert as G}from"@lifesg/react-design-system/alert";import{MagnifierIcon as Z}from"@lifesg/react-icons/magnifier";import{InputGroup as K}from"@lifesg/react-design-system/input-group";import{CrossIcon as Y}from"@lifesg/react-icons/cross";import{ChevronRightIcon as J}from"@lifesg/react-icons/chevron-right";import{DocIcon as Q}from"@lifesg/react-icons/doc";import{Layout as ee}from"@lifesg/react-design-system/layout";const te=x.div`
    padding: 1rem;
    cursor: pointer;
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    box-shadow: 0px 2px 8px 0px rgba(104, 104, 104, 0.24);

    ${({$focused:e})=>e?E`
                  ${v.Util.solid({thickness:v["width-010"],colour:g["border-focus-strong"]})};
                  background: ${g["bg-primary-subtlest"]};
              `:E`
                  ${v.Util.solid({thickness:v["width-010"],colour:"transparent"})};
              `}

    border-radius: ${b.md};

    :hover {
        border-color: ${g["border-primary"]};
        box-shadow: 0px 2px 8px 0px ${g["border-selected-subtle"]};
    }

    :focus {
        outline-color: ${g["border-primary"]};
    }
`,ne=({id:t,children:n,focused:r,onClick:i,className:a="pointer"})=>e(te,Object.assign({tabIndex:0,$focused:r,onClick:i,id:t,role:"button",className:a},{children:n}));var re;!function(e){e.CONTACT="contact-field",e.EMAIL="email-field",e.NUMERIC="numeric-field",e.RADIO="radio",e.DROPDOWN="select",e.TEXT="text-field",e.TEXTAREA="textarea"}(re||(re={}));const ie=new Set([re.CONTACT,re.EMAIL,re.NUMERIC,re.TEXT,re.TEXTAREA]);var ae,oe,se,le;function ue(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ce(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}new Set([re.DROPDOWN]),function(e){e.MORE_THAN="More than",e.LESS_THAN="Less than",e.EQUALS="Equals",e.NOT_EQUALS="Not equals"}(ae||(ae={})),function(e){e.EMAIL_DOMAIN="Email domain",e.WHOLE_NUMBERS="Whole numbers",e.CUSTOM_REGEX="Custom regex",e.MIN_VALUE="Minimum value",e.MAX_VALUE="Maximum value",e.MIN_LENGTH="Minimum length",e.MAX_LENGTH="Maximum length",e.CONTACT_NUMBER="Contact number format"}(oe||(oe={})),function(e){e.MIN="min",e.MAX="max",e.INTEGER="integer",e.MATCHES="matches"}(se||(se={})),function(e){e.DEFAULT="default",e.MOBILE="mobile",e.HOUSE="house"}(le||(le={})),"function"==typeof SuppressedError&&SuppressedError;const de=[{categoryTitle:"Text field",elementTypes:[re.EMAIL,re.TEXT,re.TEXTAREA,re.NUMERIC,re.CONTACT]},{categoryTitle:"Option group",elementTypes:[re.DROPDOWN,re.RADIO]}];var fe;!function(e){e.EMAIL="Email address",e.NUMERIC="Numbers",e.TEXT="Short text",e.TEXTAREA="Long text",e.CONTACT="Contact number",e.DROPDOWN="Dropdown",e.CHECKBOX="Checkbox",e.RADIO="Radio Button"}(fe||(fe={}));const pe={[re.EMAIL]:fe.EMAIL,[re.NUMERIC]:fe.NUMERIC,[re.TEXT]:fe.TEXT,[re.TEXTAREA]:fe.TEXTAREA,[re.CONTACT]:fe.CONTACT,[re.DROPDOWN]:fe.DROPDOWN,[re.RADIO]:fe.RADIO},he={[re.EMAIL]:"email-field",[re.NUMERIC]:"numeric-field",[re.CONTACT]:"contact-field",[re.TEXT]:"short-text-field",[re.TEXTAREA]:"long-text-field",[re.DROPDOWN]:"select",[re.RADIO]:"radio-field"},me={"Text field":{[re.EMAIL]:{maxEntries:1,validationTypes:[oe.EMAIL_DOMAIN]},[re.NUMERIC]:{maxEntries:3,validationTypes:[oe.WHOLE_NUMBERS,oe.MIN_VALUE,oe.MAX_VALUE]},[re.TEXT]:{maxEntries:-1,validationTypes:[oe.CUSTOM_REGEX,oe.MIN_LENGTH,oe.MAX_LENGTH]},[re.TEXTAREA]:{maxEntries:1,validationTypes:[oe.MAX_LENGTH]},[re.CONTACT]:{maxEntries:1,validationTypes:[oe.CONTACT_NUMBER]}}},ve={[ae.MORE_THAN]:"moreThan",[ae.LESS_THAN]:"lessThan",[ae.EQUALS]:"equals",[ae.NOT_EQUALS]:"notEquals"},ge={moreThan:ae.MORE_THAN,lessThan:ae.LESS_THAN,equals:ae.EQUALS,notEquals:ae.NOT_EQUALS},be={"2xl":"@media screen and (max-width: 1920px)"};var ye;!function(e){e.generate=()=>Math.random().toString(36).substring(2,9)}(ye||(ye={}));const _e=(e,t,n)=>{const r=new RegExp(n?`^${e}-copy(?:-(\\d+))?$`:`^${e}(?:-(\\d+))?$`);let i=n?0:-1;return t.forEach((e=>{const t=null==e?void 0:e.match(r);if(t){const e=t[1]?parseInt(t[1],10):n?1:0;i=Math.max(i,e)}})),n?`${e}-copy${i+1>1?`-${i+1}`:""}`:`${e}${i+1>0?`-${i+1}`:""}`},we=e=>{let t;for(;!t||e.includes(t);)t=ye.generate();return t};var xe;!function(e){e.generate=(e,t,n)=>{const r={internalId:we(t),type:e,id:_e(he[e],n,!1),required:!0,requiredErrorMsg:"This is a required field.",preselectedValue:"",description:"",label:pe[e],columns:{desktop:12,tablet:8,mobile:4},conditionalRendering:[],prefill:[]};switch(e){case re.EMAIL:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case re.NUMERIC:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case re.TEXT:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case re.TEXTAREA:return Object.assign(Object.assign({},r),{placeholder:"",resizableInput:!1,pills:!1,validation:[]});case re.DROPDOWN:return Object.assign(Object.assign({},r),{placeholder:"",dropdownItems:[{label:"",value:""},{label:"",value:""}]});case re.CONTACT:return Object.assign(Object.assign({},r),{placeholder:"",enableClearButton:!0,defaultCountryCode:"",validation:[{validationType:oe.CONTACT_NUMBER,validationErrorMessage:"Invalid contact number."}]});case re.RADIO:return Object.assign(Object.assign({},r),{placeholder:"",radioItems:[{label:"",value:""},{label:"",value:""}]});default:return null}},e.duplicate=(e,t,n)=>{const r=(e=>{const t=e.match(/^(.*?)(-copy(?:-\d+)?)?$/);return t?t[1]:e})(e.id),i=_e(r,n,!0);return Object.assign(Object.assign({},e),{internalId:we(t),id:i})}}(xe||(xe={}));const Ee=/^[a-zA-Z0-9_-]+$/,Oe=/^[a-zA-Z0-9._-]+$/;var Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Se,Ae,je={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Se=je,Ae=je.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",r="__lodash_placeholder__",i=16,a=32,o=64,s=128,l=256,u=1/0,c=9007199254740991,d=NaN,f=4294967295,p=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",i],["flip",512],["partial",a],["partialRight",o],["rearg",l]],h="[object Arguments]",m="[object Array]",v="[object Boolean]",g="[object Date]",b="[object Error]",y="[object Function]",_="[object GeneratorFunction]",w="[object Map]",x="[object Number]",E="[object Object]",O="[object Promise]",T="[object RegExp]",C="[object Set]",S="[object String]",A="[object Symbol]",j="[object WeakMap]",D="[object ArrayBuffer]",I="[object DataView]",M="[object Float32Array]",k="[object Float64Array]",N="[object Int8Array]",$="[object Int16Array]",R="[object Int32Array]",F="[object Uint8Array]",L="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]",B=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,W=RegExp(q.source),X=RegExp(H.source),G=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ne=/^\s+/,re=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['’]",Ie="["+_e+"]",Me="["+je+"]",ke="["+we+"]",Ne="\\d+",$e="["+xe+"]",Re="["+Ee+"]",Fe="[^"+_e+je+Ne+xe+Ee+Oe+"]",Le="\\ud83c[\\udffb-\\udfff]",Ve="[^"+_e+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+Oe+"]",Ue="\\u200d",qe="(?:"+Re+"|"+Fe+")",He="(?:"+Pe+"|"+Fe+")",We="(?:['’](?:d|ll|m|re|s|t|ve))?",Xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+ke+"|"+Le+")?",Ze="["+Ce+"]?",Ke=Ze+Ge+"(?:"+Ue+"(?:"+[Ve,ze,Be].join("|")+")"+Ze+Ge+")*",Ye="(?:"+[$e,ze,Be].join("|")+")"+Ke,Je="(?:"+[Ve+ke+"?",ke,ze,Be,Ie].join("|")+")",Qe=RegExp(De,"g"),et=RegExp(ke,"g"),tt=RegExp(Le+"(?="+Le+")|"+Je+Ke,"g"),nt=RegExp([Pe+"?"+Re+"+"+We+"(?="+[Me,Pe,"$"].join("|")+")",He+"+"+Xe+"(?="+[Me,Pe+qe,"$"].join("|")+")",Pe+"?"+qe+"+"+We,Pe+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ye].join("|"),"g"),rt=RegExp("["+Ue+_e+we+Ce+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,st={};st[M]=st[k]=st[N]=st[$]=st[R]=st[F]=st[L]=st[V]=st[z]=!0,st[h]=st[m]=st[D]=st[v]=st[I]=st[g]=st[b]=st[y]=st[w]=st[x]=st[E]=st[T]=st[C]=st[S]=st[j]=!1;var lt={};lt[h]=lt[m]=lt[D]=lt[I]=lt[v]=lt[g]=lt[M]=lt[k]=lt[N]=lt[$]=lt[R]=lt[w]=lt[x]=lt[E]=lt[T]=lt[C]=lt[S]=lt[A]=lt[F]=lt[L]=lt[V]=lt[z]=!0,lt[b]=lt[y]=lt[j]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,dt=parseInt,ft="object"==typeof Te&&Te&&Te.Object===Object&&Te,pt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||pt||Function("return this")(),mt=Ae&&!Ae.nodeType&&Ae,vt=mt&&Se&&!Se.nodeType&&Se,gt=vt&&vt.exports===mt,bt=gt&&ft.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,xt=yt&&yt.isMap,Et=yt&&yt.isRegExp,Ot=yt&&yt.isSet,Tt=yt&&yt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function jt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Mt(e,t){return!(null==e||!e.length)&&Pt(e,t,0)>-1}function kt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function $t(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Wt("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Bt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Pt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,qt,n)}function Ut(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function qt(e){return e!=e}function Ht(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:d}function Wt(t){return function(n){return null==n?e:n[t]}}function Xt(t){return function(n){return null==t?e:t[n]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Zt(t,n){for(var r,i=-1,a=t.length;++i<a;){var o=n(t[i]);o!==e&&(r=r===e?o:r+o)}return r}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,mn(e)+1).replace(ne,""):e}function Jt(e){return function(t){return e(t)}}function Qt(e,t){return Nt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Pt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Pt(t,e[n],0)>-1;);return n}var rn=Xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function sn(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,i=e.length,a=0,o=[];++n<i;){var s=e[n];s!==t&&s!==r||(e[n]=r,o[a++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){for(var t=tt.lastIndex=0;tt.test(e);)++t;return t}(e):Vt(e)}function hn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var vn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function re(_e){var we,xe=(_e=null==_e?ht:gn.defaults(ht.Object(),_e,gn.pick(ht,at))).Array,Ee=_e.Date,Oe=_e.Error,Te=_e.Function,Ce=_e.Math,Se=_e.Object,Ae=_e.RegExp,je=_e.String,De=_e.TypeError,Ie=xe.prototype,Me=Te.prototype,ke=Se.prototype,Ne=_e["__core-js_shared__"],$e=Me.toString,Re=ke.hasOwnProperty,Fe=0,Le=(we=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+we:"",Ve=ke.toString,ze=$e.call(Se),Be=ht._,Pe=Ae("^"+$e.call(Re).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=gt?_e.Buffer:e,qe=_e.Symbol,He=_e.Uint8Array,We=Ue?Ue.allocUnsafe:e,Xe=un(Se.getPrototypeOf,Se),Ge=Se.create,Ze=ke.propertyIsEnumerable,Ke=Ie.splice,Ye=qe?qe.isConcatSpreadable:e,Je=qe?qe.iterator:e,tt=qe?qe.toStringTag:e,rt=function(){try{var e=fa(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=_e.clearTimeout!==ht.clearTimeout&&_e.clearTimeout,ft=Ee&&Ee.now!==ht.Date.now&&Ee.now,pt=_e.setTimeout!==ht.setTimeout&&_e.setTimeout,mt=Ce.ceil,vt=Ce.floor,bt=Se.getOwnPropertySymbols,yt=Ue?Ue.isBuffer:e,Vt=_e.isFinite,Xt=Ie.join,bn=un(Se.keys,Se),yn=Ce.max,_n=Ce.min,wn=Ee.now,xn=_e.parseInt,En=Ce.random,On=Ie.reverse,Tn=fa(_e,"DataView"),Cn=fa(_e,"Map"),Sn=fa(_e,"Promise"),An=fa(_e,"Set"),jn=fa(_e,"WeakMap"),Dn=fa(Se,"create"),In=jn&&new jn,Mn={},kn=La(Tn),Nn=La(Cn),$n=La(Sn),Rn=La(An),Fn=La(jn),Ln=qe?qe.prototype:e,Vn=Ln?Ln.valueOf:e,zn=Ln?Ln.toString:e;function Bn(e){if(ns(e)&&!Ho(e)&&!(e instanceof Hn)){if(e instanceof qn)return e;if(Re.call(e,"__wrapped__"))return Va(e)}return new qn(e)}var Pn=function(){function t(){}return function(n){if(!ts(n))return{};if(Ge)return Ge(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function Un(){}function qn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Yn(e,t){var n=Ho(e),r=!n&&qo(e),i=!n&&!r&&Zo(e),a=!n&&!r&&!i&&cs(e),o=n||r||i||a,s=o?Kt(e.length,je):[],l=s.length;for(var u in e)!t&&!Re.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ya(u,l))||s.push(u);return s}function Jn(t){var n=t.length;return n?t[Zr(0,n-1)]:e}function Qn(e,t){return $a(Di(e),lr(t,0,e.length))}function er(e){return $a(Di(e))}function tr(t,n,r){(r!==e&&!Bo(t[n],r)||r===e&&!(n in t))&&or(t,n,r)}function nr(t,n,r){var i=t[n];Re.call(t,n)&&Bo(i,r)&&(r!==e||n in t)||or(t,n,r)}function rr(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Ii(t,Ms(t),e)}function or(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(t,n){for(var r=-1,i=n.length,a=xe(i),o=null==t;++r<i;)a[r]=o?e:Ss(t,n[r]);return a}function lr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function ur(t,n,r,i,a,o){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),s!==e)return s;if(!ts(t))return t;var d=Ho(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Di(t,s)}else{var f=ma(t),p=f==y||f==_;if(Zo(t))return Oi(t,l);if(f==E||f==h||p&&!a){if(s=u||p?{}:ga(t),!l)return u?function(e,t){return Ii(e,ha(e),t)}(t,function(e,t){return e&&Ii(t,ks(t),e)}(s,t)):function(e,t){return Ii(e,pa(e),t)}(t,ar(s,t))}else{if(!lt[f])return a?t:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case D:return Ti(e);case v:case g:return new i(+e);case I:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case k:case N:case $:case R:case F:case L:case V:case z:return Ci(e,n);case w:return new i;case x:case S:return new i(e);case T:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new i;case A:return r=e,Vn?Se(Vn.call(r)):{}}}(t,f,l)}}o||(o=new Kn);var m=o.get(t);if(m)return m;o.set(t,s),ss(t)?t.forEach((function(e){s.add(ur(e,n,r,e,t,o))})):rs(t)&&t.forEach((function(e,i){s.set(i,ur(e,n,r,i,t,o))}));var b=d?e:(c?u?aa:ia:u?ks:Ms)(t);return At(b||t,(function(e,i){b&&(e=t[i=e]),nr(s,i,ur(e,n,r,i,t,o))})),s}function cr(t,n,r){var i=r.length;if(null==t)return!i;for(t=Se(t);i--;){var a=r[i],o=n[a],s=t[a];if(s===e&&!(a in t)||!o(s))return!1}return!0}function dr(n,r,i){if("function"!=typeof n)throw new De(t);return Ia((function(){n.apply(e,i)}),r)}function fr(e,t,n,r){var i=-1,a=Mt,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Nt(t,Jt(n))),r?(a=kt,o=!1):t.length>=200&&(a=en,o=!1,t=new Zn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}Bn.templateSettings={escape:G,evaluate:Z,interpolate:K,variable:"",imports:{_:Bn}},Bn.prototype=Un.prototype,Bn.prototype.constructor=Bn,qn.prototype=Pn(Un.prototype),qn.prototype.constructor=qn,Hn.prototype=Pn(Un.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(t){var r=this.__data__;if(Dn){var i=r[t];return i===n?e:i}return Re.call(r,t)?r[t]:e},Wn.prototype.has=function(t){var n=this.__data__;return Dn?n[t]!==e:Re.call(n,t)},Wn.prototype.set=function(t,r){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Dn&&r===e?n:r,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Xn.prototype.get=function(t){var n=this.__data__,r=rr(n,t);return r<0?e:n[r][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Cn||Xn),string:new Wn}},Gn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ca(this,e).get(e)},Gn.prototype.has=function(e){return ca(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,n),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ni(wr),hr=Ni(xr,!0);function mr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(t,n,r){for(var i=-1,a=t.length;++i<a;){var o=t[i],s=n(o);if(null!=s&&(l===e?s==s&&!us(s):r(s,l)))var l=s,u=o}return u}function gr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?br(s,t-1,n,r,i):$t(i,s):r||(i[i.length]=s)}return i}var yr=$i(),_r=$i(!0);function wr(e,t){return e&&yr(e,t,Ms)}function xr(e,t){return e&&_r(e,t,Ms)}function Er(e,t){return It(t,(function(t){return Jo(e[t])}))}function Or(t,n){for(var r=0,i=(n=_i(n,t)).length;null!=t&&r<i;)t=t[Fa(n[r++])];return r&&r==i?t:e}function Tr(e,t,n){var r=t(e);return Ho(e)?r:$t(r,n(e))}function Cr(t){return null==t?t===e?"[object Undefined]":"[object Null]":tt&&tt in Se(t)?function(t){var n=Re.call(t,tt),r=t[tt];try{t[tt]=e;var i=!0}catch(e){}var a=Ve.call(t);return i&&(n?t[tt]=r:delete t[tt]),a}(t):function(e){return Ve.call(e)}(t)}function Sr(e,t){return e>t}function Ar(e,t){return null!=e&&Re.call(e,t)}function jr(e,t){return null!=e&&t in Se(e)}function Dr(t,n,r){for(var i=r?kt:Mt,a=t[0].length,o=t.length,s=o,l=xe(o),u=1/0,c=[];s--;){var d=t[s];s&&n&&(d=Nt(d,Jt(n))),u=_n(d.length,u),l[s]=!r&&(n||a>=120&&d.length>=120)?new Zn(s&&d):e}d=t[0];var f=-1,p=l[0];e:for(;++f<a&&c.length<u;){var h=d[f],m=n?n(h):h;if(h=r||0!==h?h:0,!(p?en(p,m):i(c,m,r))){for(s=o;--s;){var v=l[s];if(!(v?en(v,m):i(t[s],m,r)))continue e}p&&p.push(m),c.push(h)}}return c}function Ir(t,n,r){var i=null==(t=Aa(t,n=_i(n,t)))?t:t[Fa(Ka(n))];return null==i?e:Ct(i,t,r)}function Mr(e){return ns(e)&&Cr(e)==h}function kr(t,n,r,i,a){return t===n||(null==t||null==n||!ns(t)&&!ns(n)?t!=t&&n!=n:function(t,n,r,i,a,o){var s=Ho(t),l=Ho(n),u=s?m:ma(t),c=l?m:ma(n),d=(u=u==h?E:u)==E,f=(c=c==h?E:c)==E,p=u==c;if(p&&Zo(t)){if(!Zo(n))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Kn),s||cs(t)?na(t,n,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!a(new He(e),new He(t)));case v:case g:case x:return Bo(+e,+t);case b:return e.name==t.name&&e.message==t.message;case T:case S:return e==t+"";case w:var s=ln;case C:var l=1&r;if(s||(s=dn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=na(s(e),s(t),r,i,a,o);return o.delete(e),c;case A:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}(t,n,u,r,i,a,o);if(!(1&r)){var y=d&&Re.call(t,"__wrapped__"),_=f&&Re.call(n,"__wrapped__");if(y||_){var O=y?t.value():t,j=_?n.value():n;return o||(o=new Kn),a(O,j,r,i,o)}}return!!p&&(o||(o=new Kn),function(t,n,r,i,a,o){var s=1&r,l=ia(t),u=l.length,c=ia(n),d=c.length;if(u!=d&&!s)return!1;for(var f=u;f--;){var p=l[f];if(!(s?p in n:Re.call(n,p)))return!1}var h=o.get(t),m=o.get(n);if(h&&m)return h==n&&m==t;var v=!0;o.set(t,n),o.set(n,t);for(var g=s;++f<u;){var b=t[p=l[f]],y=n[p];if(i)var _=s?i(y,b,p,n,t,o):i(b,y,p,t,n,o);if(!(_===e?b===y||a(b,y,r,i,o):_)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var w=t.constructor,x=n.constructor;w==x||!("constructor"in t)||!("constructor"in n)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return o.delete(t),o.delete(n),v}(t,n,r,i,a,o))}(t,n,r,i,kr,a))}function Nr(t,n,r,i){var a=r.length,o=a,s=!i;if(null==t)return!o;for(t=Se(t);a--;){var l=r[a];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<o;){var u=(l=r[a])[0],c=t[u],d=l[1];if(s&&l[2]){if(c===e&&!(u in t))return!1}else{var f=new Kn;if(i)var p=i(c,d,u,t,n,f);if(!(p===e?kr(d,c,3,i,f):p))return!1}}return!0}function $r(e){return!(!ts(e)||(t=e,Le&&Le in t))&&(Jo(e)?Pe:he).test(La(e));var t}function Rr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Ho(e)?Pr(e[0],e[1]):Br(e):pl(e)}function Fr(e){if(!Oa(e))return bn(e);var t=[];for(var n in Se(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Oa(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Vr(e,t){return e<t}function zr(e,t){var n=-1,r=Xo(e)?xe(e.length):[];return pr(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Br(e){var t=da(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Pr(t,n){return wa(t)&&Ta(n)?Ca(Fa(t),n):function(r){var i=Ss(r,t);return i===e&&i===n?As(r,t):kr(n,i,3)}}function Ur(t,n,r,i,a){t!==n&&yr(n,(function(o,s){if(a||(a=new Kn),ts(o))!function(t,n,r,i,a,o,s){var l=ja(t,r),u=ja(n,r),c=s.get(u);if(c)tr(t,r,c);else{var d=o?o(l,u,r+"",t,n,s):e,f=d===e;if(f){var p=Ho(u),h=!p&&Zo(u),m=!p&&!h&&cs(u);d=u,p||h||m?Ho(l)?d=l:Go(l)?d=Di(l):h?(f=!1,d=Oi(u,!0)):m?(f=!1,d=Ci(u,!0)):d=[]:as(u)||qo(u)?(d=l,qo(l)?d=bs(l):ts(l)&&!Jo(l)||(d=ga(u))):f=!1}f&&(s.set(u,d),a(d,u,i,o,s),s.delete(u)),tr(t,r,d)}}(t,n,s,r,Ur,i,a);else{var l=i?i(ja(t,s),o,s+"",t,n,a):e;l===e&&(l=o),tr(t,s,l)}}),ks)}function qr(t,n){var r=t.length;if(r)return ya(n+=n<0?r:0,r)?t[n]:e}function Hr(e,t,n){t=t.length?Nt(t,(function(e){return Ho(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=Nt(t,Jt(ua()));var i=zr(e,(function(e,n,i){var a=Nt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Si(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Or(e,o);n(s,o)&&ei(a,_i(o,e),s)}return a}function Xr(e,t,n,r){var i=r?Ut:Pt,a=-1,o=t.length,s=e;for(e===t&&(t=Di(t)),n&&(s=Nt(e,Jt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Zr(e,t){return e+vt(En()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>c)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ma(Sa(e,t,il),e+"")}function Jr(e){return Jn(Bs(e))}function Qr(e,t){var n=Bs(e);return $a(n,lr(t,0,n.length))}function ei(t,n,r,i){if(!ts(t))return t;for(var a=-1,o=(n=_i(n,t)).length,s=o-1,l=t;null!=l&&++a<o;){var u=Fa(n[a]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(a!=s){var d=l[u];(c=i?i(d,u,l):e)===e&&(c=ts(d)?d:ya(n[a+1])?[]:{})}nr(l,u,c),l=l[u]}return t}var ti=In?function(e,t){return In.set(e,t),e}:il,ni=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return $a(Bs(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=xe(i);++r<i;)a[r]=e[r+t];return a}function ai(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!us(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return si(e,t,il,n)}function si(t,n,r,i){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(n=r(n))!=n,l=null===n,u=us(n),c=n===e;a<o;){var d=vt((a+o)/2),f=r(t[d]),p=f!==e,h=null===f,m=f==f,v=us(f);if(s)var g=i||m;else g=c?m&&(i||p):l?m&&p&&(i||!h):u?m&&p&&!h&&(i||!v):!h&&!v&&(i?f<=n:f<n);g?a=d+1:o=d}return _n(o,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Bo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:us(e)?d:+e}function ci(e){if("string"==typeof e)return e;if(Ho(e))return Nt(e,ci)+"";if(us(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Mt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=kt;else if(a>=200){var u=t?null:Ki(e);if(u)return dn(u);o=!1,i=en,l=new Zn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function fi(e,t){return null==(e=Aa(e,t=_i(t,e)))||delete e[Fa(Ka(t))]}function pi(e,t,n,r){return ei(e,t,n(Or(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function mi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,$t([e],t.args))}),n)}function vi(e,t,n){var r=e.length;if(r<2)return r?di(e[0]):[];for(var i=-1,a=xe(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=fr(a[i]||o,e[s],t,n));return di(br(a,1),t,n)}function gi(t,n,r){for(var i=-1,a=t.length,o=n.length,s={};++i<a;){var l=i<o?n[i]:e;r(s,t[i],l)}return s}function bi(e){return Go(e)?e:[]}function yi(e){return"function"==typeof e?e:il}function _i(e,t){return Ho(e)?e:wa(e,t)?[e]:Ra(ys(e))}var wi=Yr;function xi(t,n,r){var i=t.length;return r=r===e?i:r,!n&&r>=i?t:ii(t,n,r)}var Ei=ut||function(e){return ht.clearTimeout(e)};function Oi(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Ci(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(t,n){if(t!==n){var r=t!==e,i=null===t,a=t==t,o=us(t),s=n!==e,l=null===n,u=n==n,c=us(n);if(!l&&!c&&!o&&t>n||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&t<n||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}function Ai(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=yn(a-o,0),c=xe(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<o;)(d||i<a)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function ji(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=yn(a-s,0),d=xe(c+u),f=!r;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++o<s;)(f||i<a)&&(d[p+n[o]]=e[i++]);return d}function Di(e,t){var n=-1,r=e.length;for(t||(t=xe(r));++n<r;)t[n]=e[n];return t}function Ii(t,n,r,i){var a=!r;r||(r={});for(var o=-1,s=n.length;++o<s;){var l=n[o],u=i?i(r[l],t[l],l,r,t):e;u===e&&(u=t[l]),a?or(r,l,u):nr(r,l,u)}return r}function Mi(e,t){return function(n,r){var i=Ho(n)?St:ir,a=t?t():{};return i(n,e,ua(r,2),a)}}function ki(t){return Yr((function(n,r){var i=-1,a=r.length,o=a>1?r[a-1]:e,s=a>2?r[2]:e;for(o=t.length>3&&"function"==typeof o?(a--,o):e,s&&_a(r[0],r[1],s)&&(o=a<3?e:o,a=1),n=Se(n);++i<a;){var l=r[i];l&&t(n,l,i,o)}return n}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Xo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Se(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function $i(e){return function(t,n,r){for(var i=-1,a=Se(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Ri(t){return function(n){var r=sn(n=ys(n))?hn(n):e,i=r?r[0]:n.charAt(0),a=r?xi(r,1).join(""):n.slice(1);return i[t]()+a}}function Fi(e){return function(t){return Rt(Js(qs(t).replace(Qe,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Vi(t){return function(n,r,i){var a=Se(n);if(!Xo(n)){var o=ua(r,3);n=Ms(n),r=function(e){return o(a[e],e,a)}}var s=t(n,r,i);return s>-1?a[o?n[s]:s]:e}}function zi(n){return ra((function(r){var i=r.length,a=i,o=qn.prototype.thru;for(n&&r.reverse();a--;){var s=r[a];if("function"!=typeof s)throw new De(t);if(o&&!l&&"wrapper"==sa(s))var l=new qn([],!0)}for(a=l?a:i;++a<i;){var u=sa(s=r[a]),c="wrapper"==u?oa(s):e;l=c&&xa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[sa(c[0])].apply(l,c[3]):1==s.length&&xa(s)?l[u]():l.thru(s)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Ho(t))return l.plant(t).value();for(var n=0,a=i?r[n].apply(this,e):t;++n<i;)a=r[n].call(this,a);return a}}))}function Bi(t,n,r,i,a,o,l,u,c,d){var f=n&s,p=1&n,h=2&n,m=24&n,v=512&n,g=h?e:Li(t);return function s(){for(var b=arguments.length,y=xe(b),_=b;_--;)y[_]=arguments[_];if(m)var w=la(s),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,w);if(i&&(y=Ai(y,i,a,m)),o&&(y=ji(y,o,l,m)),b-=x,m&&b<d){var E=cn(y,w);return Gi(t,n,Bi,s.placeholder,r,y,E,u,c,d-b)}var O=p?r:this,T=h?O[t]:t;return b=y.length,u?y=function(t,n){for(var r=t.length,i=_n(n.length,r),a=Di(t);i--;){var o=n[i];t[i]=ya(o,r)?a[o]:e}return t}(y,u):v&&b>1&&y.reverse(),f&&c<b&&(y.length=c),this&&this!==ht&&this instanceof s&&(T=g||Li(T)),T.apply(O,y)}}function Pi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Ui(t,n){return function(r,i){var a;if(r===e&&i===e)return n;if(r!==e&&(a=r),i!==e){if(a===e)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=ui(r),i=ui(i)),a=t(r,i)}return a}}function qi(e){return ra((function(t){return t=Nt(t,Jt(ua())),Yr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function Hi(t,n){var r=(n=n===e?" ":ci(n)).length;if(r<2)return r?Kr(n,t):n;var i=Kr(n,mt(t/pn(n)));return sn(n)?xi(hn(i),0,t).join(""):i.slice(0,t)}function Wi(t){return function(n,r,i){return i&&"number"!=typeof i&&_a(n,r,i)&&(r=i=e),n=hs(n),r===e?(r=n,n=0):r=hs(r),function(e,t,n,r){for(var i=-1,a=yn(mt((t-e)/(n||1)),0),o=xe(a);a--;)o[r?a:++i]=e,e+=n;return o}(n,r,i=i===e?n<r?1:-1:hs(i),t)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Gi(t,n,r,i,s,l,u,c,d,f){var p=8&n;n|=p?a:o,4&(n&=~(p?o:a))||(n&=-4);var h=[t,n,s,p?l:e,p?u:e,p?e:l,p?e:u,c,d,f],m=r.apply(e,h);return xa(t)&&Da(m,h),m.placeholder=i,ka(m,t,n)}function Zi(e){var t=Ce[e];return function(e,n){if(e=gs(e),(n=null==n?0:_n(ms(n),292))&&Vt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=An&&1/dn(new An([,-0]))[1]==u?function(e){return new An(e)}:ul;function Yi(e){return function(t){var n=ma(t);return n==w?ln(t):n==C?fn(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(n,u,c,d,f,p,h,m){var v=2&u;if(!v&&"function"!=typeof n)throw new De(t);var g=d?d.length:0;if(g||(u&=-97,d=f=e),h=h===e?h:yn(ms(h),0),m=m===e?m:ms(m),g-=f?f.length:0,u&o){var b=d,y=f;d=f=e}var _=v?e:oa(n),w=[n,u,c,d,f,b,y,p,h,m];if(_&&function(e,t){var n=e[1],i=t[1],a=n|i,o=a<131,u=i==s&&8==n||i==s&&n==l&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!u)return e;1&i&&(e[2]=t[2],a|=1&n?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?Ai(d,c,t[4]):c,e[4]=d?cn(e[3],r):t[4]}(c=t[5])&&(d=e[5],e[5]=d?ji(d,c,t[6]):c,e[6]=d?cn(e[5],r):t[6]),(c=t[7])&&(e[7]=c),i&s&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(w,_),n=w[0],u=w[1],c=w[2],d=w[3],f=w[4],!(m=w[9]=w[9]===e?v?0:n.length:yn(w[9]-g,0))&&24&u&&(u&=-25),u&&1!=u)x=8==u||u==i?function(t,n,r){var i=Li(t);return function a(){for(var o=arguments.length,s=xe(o),l=o,u=la(a);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:cn(s,u);return(o-=c.length)<r?Gi(t,n,Bi,a.placeholder,e,s,c,e,e,r-o):Ct(this&&this!==ht&&this instanceof a?i:t,this,s)}}(n,u,m):u!=a&&33!=u||f.length?Bi.apply(e,w):function(e,t,n,r){var i=1&t,a=Li(e);return function t(){for(var o=-1,s=arguments.length,l=-1,u=r.length,c=xe(u+s),d=this&&this!==ht&&this instanceof t?a:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++o];return Ct(d,i?n:this,c)}}(n,u,c,d);else var x=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(n,u,c);return ka((_?ti:Da)(x,w),n,u)}function Qi(t,n,r,i){return t===e||Bo(t,ke[r])&&!Re.call(i,r)?n:t}function ea(t,n,r,i,a,o){return ts(t)&&ts(n)&&(o.set(n,t),Ur(t,n,e,ea,o),o.delete(n)),t}function ta(t){return as(t)?e:t}function na(t,n,r,i,a,o){var s=1&r,l=t.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(t),d=o.get(n);if(c&&d)return c==n&&d==t;var f=-1,p=!0,h=2&r?new Zn:e;for(o.set(t,n),o.set(n,t);++f<l;){var m=t[f],v=n[f];if(i)var g=s?i(v,m,f,n,t,o):i(m,v,f,t,n,o);if(g!==e){if(g)continue;p=!1;break}if(h){if(!Lt(n,(function(e,t){if(!en(h,t)&&(m===e||a(m,e,r,i,o)))return h.push(t)}))){p=!1;break}}else if(m!==v&&!a(m,v,r,i,o)){p=!1;break}}return o.delete(t),o.delete(n),p}function ra(t){return Ma(Sa(t,e,Ha),t+"")}function ia(e){return Tr(e,Ms,pa)}function aa(e){return Tr(e,ks,ha)}var oa=In?function(e){return In.get(e)}:ul;function sa(e){for(var t=e.name+"",n=Mn[t],r=Re.call(Mn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Re.call(Bn,"placeholder")?Bn:e).placeholder}function ua(){var e=Bn.iteratee||al;return e=e===al?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function da(e){for(var t=Ms(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ta(i)]}return t}function fa(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return $r(r)?r:e}var pa=bt?function(e){return null==e?[]:(e=Se(e),It(bt(e),(function(t){return Ze.call(e,t)})))}:vl,ha=bt?function(e){for(var t=[];e;)$t(t,pa(e)),e=Xe(e);return t}:vl,ma=Cr;function va(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&es(i)&&ya(o,i)&&(Ho(e)||qo(e))}function ga(e){return"function"!=typeof e.constructor||Oa(e)?{}:Pn(Xe(e))}function ba(e){return Ho(e)||qo(e)||!!(Ye&&e&&e[Ye])}function ya(e,t){var n=typeof e;return!!(t=null==t?c:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function _a(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Xo(n)&&ya(t,n.length):"string"==r&&t in n)&&Bo(n[t],e)}function wa(e,t){if(Ho(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||J.test(e)||!Y.test(e)||null!=t&&e in Se(t)}function xa(e){var t=sa(e),n=Bn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(Tn&&ma(new Tn(new ArrayBuffer(1)))!=I||Cn&&ma(new Cn)!=w||Sn&&ma(Sn.resolve())!=O||An&&ma(new An)!=C||jn&&ma(new jn)!=j)&&(ma=function(t){var n=Cr(t),r=n==E?t.constructor:e,i=r?La(r):"";if(i)switch(i){case kn:return I;case Nn:return w;case $n:return O;case Rn:return C;case Fn:return j}return n});var Ea=Ne?Jo:gl;function Oa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)}function Ta(e){return e==e&&!ts(e)}function Ca(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in Se(r))}}function Sa(t,n,r){return n=yn(n===e?t.length-1:n,0),function(){for(var e=arguments,i=-1,a=yn(e.length-n,0),o=xe(a);++i<a;)o[i]=e[n+i];i=-1;for(var s=xe(n+1);++i<n;)s[i]=e[i];return s[n]=r(o),Ct(t,this,s)}}function Aa(e,t){return t.length<2?e:Or(e,ii(t,0,-1))}function ja(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Da=Na(ti),Ia=pt||function(e,t){return ht.setTimeout(e,t)},Ma=Na(ni);function ka(e,t,n){var r=t+"";return Ma(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(p,(function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(oe):[]}(r),n)))}function Na(t){var n=0,r=0;return function(){var i=wn(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function $a(t,n){var r=-1,i=t.length,a=i-1;for(n=n===e?i:n;++r<n;){var o=Zr(r,a),s=t[o];t[o]=t[r],t[r]=s}return t.length=n,t}var Ra=function(e){var t=$o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t}));function Fa(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function La(e){if(null!=e){try{return $e.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Va(e){if(e instanceof Hn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Yr((function(e,t){return Go(e)?fr(e,br(t,1,Go,!0)):[]})),Ba=Yr((function(t,n){var r=Ka(n);return Go(r)&&(r=e),Go(t)?fr(t,br(n,1,Go,!0),ua(r,2)):[]})),Pa=Yr((function(t,n){var r=Ka(n);return Go(r)&&(r=e),Go(t)?fr(t,br(n,1,Go,!0),e,r):[]}));function Ua(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Bt(e,ua(t,3),i)}function qa(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return r!==e&&(a=ms(r),a=r<0?yn(i+a,0):_n(a,i-1)),Bt(t,ua(n,3),a,!0)}function Ha(e){return null!=e&&e.length?br(e,1):[]}function Wa(t){return t&&t.length?t[0]:e}var Xa=Yr((function(e){var t=Nt(e,bi);return t.length&&t[0]===e[0]?Dr(t):[]})),Ga=Yr((function(t){var n=Ka(t),r=Nt(t,bi);return n===Ka(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Dr(r,ua(n,2)):[]})),Za=Yr((function(t){var n=Ka(t),r=Nt(t,bi);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?Dr(r,e,n):[]}));function Ka(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Ya=Yr(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var Qa=ra((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Nt(t,(function(e){return ya(e,n)?+e:e})).sort(Si)),r}));function eo(e){return null==e?e:On.call(e)}var to=Yr((function(e){return di(br(e,1,Go,!0))})),no=Yr((function(t){var n=Ka(t);return Go(n)&&(n=e),di(br(t,1,Go,!0),ua(n,2))})),ro=Yr((function(t){var n=Ka(t);return n="function"==typeof n?n:e,di(br(t,1,Go,!0),e,n)}));function io(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Go(e))return t=yn(e.length,t),!0})),Kt(t,(function(t){return Nt(e,Wt(t))}))}function ao(t,n){if(!t||!t.length)return[];var r=io(t);return null==n?r:Nt(r,(function(t){return Ct(n,e,t)}))}var oo=Yr((function(e,t){return Go(e)?fr(e,t):[]})),so=Yr((function(e){return vi(It(e,Go))})),lo=Yr((function(t){var n=Ka(t);return Go(n)&&(n=e),vi(It(t,Go),ua(n,2))})),uo=Yr((function(t){var n=Ka(t);return n="function"==typeof n?n:e,vi(It(t,Go),e,n)})),co=Yr(io),fo=Yr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,ao(t,r)}));function po(e){var t=Bn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var mo=ra((function(t){var n=t.length,r=n?t[0]:0,i=this.__wrapped__,a=function(e){return sr(e,t)};return!(n>1||this.__actions__.length)&&i instanceof Hn&&ya(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:ho,args:[a],thisArg:e}),new qn(i,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(a)})),vo=Mi((function(e,t,n){Re.call(e,n)?++e[n]:or(e,n,1)})),go=Vi(Ua),bo=Vi(qa);function yo(e,t){return(Ho(e)?At:pr)(e,ua(t,3))}function _o(e,t){return(Ho(e)?jt:hr)(e,ua(t,3))}var wo=Mi((function(e,t,n){Re.call(e,n)?e[n].push(t):or(e,n,[t])})),xo=Yr((function(e,t,n){var r=-1,i="function"==typeof t,a=Xo(e)?xe(e.length):[];return pr(e,(function(e){a[++r]=i?Ct(t,e,n):Ir(e,t,n)})),a})),Eo=Mi((function(e,t,n){or(e,n,t)}));function Oo(e,t){return(Ho(e)?Nt:zr)(e,ua(t,3))}var To=Mi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Co=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_a(e,t[0],t[1])?t=[]:n>2&&_a(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,br(t,1),[])})),So=ft||function(){return ht.Date.now()};function Ao(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Ji(t,s,e,e,e,e,n)}function jo(n,r){var i;if("function"!=typeof r)throw new De(t);return n=ms(n),function(){return--n>0&&(i=r.apply(this,arguments)),n<=1&&(r=e),i}}var Do=Yr((function(e,t,n){var r=1;if(n.length){var i=cn(n,la(Do));r|=a}return Ji(e,r,t,n,i)})),Io=Yr((function(e,t,n){var r=3;if(n.length){var i=cn(n,la(Io));r|=a}return Ji(t,r,e,n,i)}));function Mo(n,r,i){var a,o,s,l,u,c,d=0,f=!1,p=!1,h=!0;if("function"!=typeof n)throw new De(t);function m(t){var r=a,i=o;return a=o=e,d=t,l=n.apply(i,r)}function v(t){var n=t-c;return c===e||n>=r||n<0||p&&t-d>=s}function g(){var e=So();if(v(e))return b(e);u=Ia(g,function(e){var t=r-(e-c);return p?_n(t,s-(e-d)):t}(e))}function b(t){return u=e,h&&a?m(t):(a=o=e,l)}function y(){var t=So(),n=v(t);if(a=arguments,o=this,c=t,n){if(u===e)return function(e){return d=e,u=Ia(g,r),f?m(e):l}(c);if(p)return Ei(u),u=Ia(g,r),m(c)}return u===e&&(u=Ia(g,r)),l}return r=gs(r)||0,ts(i)&&(f=!!i.leading,s=(p="maxWait"in i)?yn(gs(i.maxWait)||0,r):s,h="trailing"in i?!!i.trailing:h),y.cancel=function(){u!==e&&Ei(u),d=0,a=c=o=u=e},y.flush=function(){return u===e?l:b(So())},y}var ko=Yr((function(e,t){return dr(e,1,t)})),No=Yr((function(e,t,n){return dr(e,gs(t)||0,n)}));function $o(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new De(t);var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,t);return r.cache=a.set(i,o)||a,o};return r.cache=new($o.Cache||Gn),r}function Ro(e){if("function"!=typeof e)throw new De(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}$o.Cache=Gn;var Fo=wi((function(e,t){var n=(t=1==t.length&&Ho(t[0])?Nt(t[0],Jt(ua())):Nt(br(t,1),Jt(ua()))).length;return Yr((function(r){for(var i=-1,a=_n(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)}))})),Lo=Yr((function(t,n){var r=cn(n,la(Lo));return Ji(t,a,e,n,r)})),Vo=Yr((function(t,n){var r=cn(n,la(Vo));return Ji(t,o,e,n,r)})),zo=ra((function(t,n){return Ji(t,l,e,e,e,n)}));function Bo(e,t){return e===t||e!=e&&t!=t}var Po=Xi(Sr),Uo=Xi((function(e,t){return e>=t})),qo=Mr(function(){return arguments}())?Mr:function(e){return ns(e)&&Re.call(e,"callee")&&!Ze.call(e,"callee")},Ho=xe.isArray,Wo=_t?Jt(_t):function(e){return ns(e)&&Cr(e)==D};function Xo(e){return null!=e&&es(e.length)&&!Jo(e)}function Go(e){return ns(e)&&Xo(e)}var Zo=yt||gl,Ko=wt?Jt(wt):function(e){return ns(e)&&Cr(e)==g};function Yo(e){if(!ns(e))return!1;var t=Cr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Jo(e){if(!ts(e))return!1;var t=Cr(e);return t==y||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qo(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=xt?Jt(xt):function(e){return ns(e)&&ma(e)==w};function is(e){return"number"==typeof e||ns(e)&&Cr(e)==x}function as(e){if(!ns(e)||Cr(e)!=E)return!1;var t=Xe(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$e.call(n)==ze}var os=Et?Jt(Et):function(e){return ns(e)&&Cr(e)==T},ss=Ot?Jt(Ot):function(e){return ns(e)&&ma(e)==C};function ls(e){return"string"==typeof e||!Ho(e)&&ns(e)&&Cr(e)==S}function us(e){return"symbol"==typeof e||ns(e)&&Cr(e)==A}var cs=Tt?Jt(Tt):function(e){return ns(e)&&es(e.length)&&!!st[Cr(e)]},ds=Xi(Vr),fs=Xi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xo(e))return ls(e)?hn(e):Di(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=ma(e);return(t==w?ln:t==C?dn:Bs)(e)}function hs(e){return e?(e=gs(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?lr(ms(e),0,f):0}function gs(e){if("number"==typeof e)return e;if(us(e))return d;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=pe.test(e);return n||me.test(e)?dt(e.slice(2),n?2:8):fe.test(e)?d:+e}function bs(e){return Ii(e,ks(e))}function ys(e){return null==e?"":ci(e)}var _s=ki((function(e,t){if(Oa(t)||Xo(t))Ii(t,Ms(t),e);else for(var n in t)Re.call(t,n)&&nr(e,n,t[n])})),ws=ki((function(e,t){Ii(t,ks(t),e)})),xs=ki((function(e,t,n,r){Ii(t,ks(t),e,r)})),Es=ki((function(e,t,n,r){Ii(t,Ms(t),e,r)})),Os=ra(sr),Ts=Yr((function(t,n){t=Se(t);var r=-1,i=n.length,a=i>2?n[2]:e;for(a&&_a(n[0],n[1],a)&&(i=1);++r<i;)for(var o=n[r],s=ks(o),l=-1,u=s.length;++l<u;){var c=s[l],d=t[c];(d===e||Bo(d,ke[c])&&!Re.call(t,c))&&(t[c]=o[c])}return t})),Cs=Yr((function(t){return t.push(e,ea),Ct($s,e,t)}));function Ss(t,n,r){var i=null==t?e:Or(t,n);return i===e?r:i}function As(e,t){return null!=e&&va(e,t,jr)}var js=Pi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),e[t]=n}),tl(il)),Ds=Pi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Is=Yr(Ir);function Ms(e){return Xo(e)?Yn(e):Fr(e)}function ks(e){return Xo(e)?Yn(e,!0):Lr(e)}var Ns=ki((function(e,t,n){Ur(e,t,n)})),$s=ki((function(e,t,n,r){Ur(e,t,n,r)})),Rs=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Ii(e,aa(e),n),r&&(n=ur(n,7,ta));for(var i=t.length;i--;)fi(n,t[i]);return n})),Fs=ra((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var n=Nt(aa(e),(function(e){return[e]}));return t=ua(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Vs=Yi(Ms),zs=Yi(ks);function Bs(e){return null==e?[]:Qt(e,Ms(e))}var Ps=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return Ys(ys(e).toLowerCase())}function qs(e){return(e=ys(e))&&e.replace(ge,rn).replace(et,"")}var Hs=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ws=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=Ri("toLowerCase"),Gs=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Zs=Fi((function(e,t,n){return e+(n?" ":"")+Ys(t)})),Ks=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=Ri("toUpperCase");function Js(t,n,r){return t=ys(t),(n=r?e:n)===e?function(e){return it.test(e)}(t)?function(e){return e.match(nt)||[]}(t):function(e){return e.match(se)||[]}(t):t.match(n)||[]}var Qs=Yr((function(t,n){try{return Ct(t,e,n)}catch(e){return Yo(e)?e:new Oe(e)}})),el=ra((function(e,t){return At(t,(function(t){t=Fa(t),or(e,t,Do(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=zi(),rl=zi(!0);function il(e){return e}function al(e){return Rr("function"==typeof e?e:ur(e,1))}var ol=Yr((function(e,t){return function(n){return Ir(n,e,t)}})),sl=Yr((function(e,t){return function(n){return Ir(e,n,t)}}));function ll(e,t,n){var r=Ms(t),i=Er(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Ms(t)));var a=!(ts(n)&&"chain"in n&&!n.chain),o=Jo(e);return At(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,$t([this.value()],arguments))})})),e}function ul(){}var cl=qi(Nt),dl=qi(Dt),fl=qi(Lt);function pl(e){return wa(e)?Wt(Fa(e)):function(e){return function(t){return Or(t,e)}}(e)}var hl=Wi(),ml=Wi(!0);function vl(){return[]}function gl(){return!1}var bl,yl=Ui((function(e,t){return e+t}),0),_l=Zi("ceil"),wl=Ui((function(e,t){return e/t}),1),xl=Zi("floor"),El=Ui((function(e,t){return e*t}),1),Ol=Zi("round"),Tl=Ui((function(e,t){return e-t}),0);return Bn.after=function(e,n){if("function"!=typeof n)throw new De(t);return e=ms(e),function(){if(--e<1)return n.apply(this,arguments)}},Bn.ary=Ao,Bn.assign=_s,Bn.assignIn=ws,Bn.assignInWith=xs,Bn.assignWith=Es,Bn.at=Os,Bn.before=jo,Bn.bind=Do,Bn.bindAll=el,Bn.bindKey=Io,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ho(e)?e:[e]},Bn.chain=po,Bn.chunk=function(t,n,r){n=(r?_a(t,n,r):n===e)?1:yn(ms(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,o=0,s=xe(mt(i/n));a<i;)s[o++]=ii(t,a,a+=n);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=xe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return $t(Ho(n)?Di(n):[n],br(t,1))},Bn.cond=function(e){var n=null==e?0:e.length,r=ua();return e=n?Nt(e,(function(e){if("function"!=typeof e[1])throw new De(t);return[r(e[0]),e[1]]})):[],Yr((function(t){for(var r=-1;++r<n;){var i=e[r];if(Ct(i[0],this,t))return Ct(i[1],this,t)}}))},Bn.conforms=function(e){return function(e){var t=Ms(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Bn.constant=tl,Bn.countBy=vo,Bn.create=function(e,t){var n=Pn(e);return null==t?n:ar(n,t)},Bn.curry=function t(n,r,i){var a=Ji(n,8,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},Bn.curryRight=function t(n,r,a){var o=Ji(n,i,e,e,e,e,e,r=a?e:r);return o.placeholder=t.placeholder,o},Bn.debounce=Mo,Bn.defaults=Ts,Bn.defaultsDeep=Cs,Bn.defer=ko,Bn.delay=No,Bn.difference=za,Bn.differenceBy=Ba,Bn.differenceWith=Pa,Bn.drop=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,(n=r||n===e?1:ms(n))<0?0:n,i):[]},Bn.dropRight=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,0,(n=i-(n=r||n===e?1:ms(n)))<0?0:n):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0):[]},Bn.fill=function(t,n,r,i){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&_a(t,n,r)&&(r=0,i=a),function(t,n,r,i){var a=t.length;for((r=ms(r))<0&&(r=-r>a?0:a+r),(i=i===e||i>a?a:ms(i))<0&&(i+=a),i=r>i?0:vs(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},Bn.filter=function(e,t){return(Ho(e)?It:gr)(e,ua(t,3))},Bn.flatMap=function(e,t){return br(Oo(e,t),1)},Bn.flatMapDeep=function(e,t){return br(Oo(e,t),u)},Bn.flatMapDepth=function(t,n,r){return r=r===e?1:ms(r),br(Oo(t,n),r)},Bn.flatten=Ha,Bn.flattenDeep=function(e){return null!=e&&e.length?br(e,u):[]},Bn.flattenDepth=function(t,n){return null!=t&&t.length?br(t,n=n===e?1:ms(n)):[]},Bn.flip=function(e){return Ji(e,512)},Bn.flow=nl,Bn.flowRight=rl,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:Er(e,Ms(e))},Bn.functionsIn=function(e){return null==e?[]:Er(e,ks(e))},Bn.groupBy=wo,Bn.initial=function(e){return null!=e&&e.length?ii(e,0,-1):[]},Bn.intersection=Xa,Bn.intersectionBy=Ga,Bn.intersectionWith=Za,Bn.invert=js,Bn.invertBy=Ds,Bn.invokeMap=xo,Bn.iteratee=al,Bn.keyBy=Eo,Bn.keys=Ms,Bn.keysIn=ks,Bn.map=Oo,Bn.mapKeys=function(e,t){var n={};return t=ua(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ua(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(ur(e,1))},Bn.matchesProperty=function(e,t){return Pr(e,ur(t,1))},Bn.memoize=$o,Bn.merge=Ns,Bn.mergeWith=$s,Bn.method=ol,Bn.methodOf=sl,Bn.mixin=ll,Bn.negate=Ro,Bn.nthArg=function(e){return e=ms(e),Yr((function(t){return qr(t,e)}))},Bn.omit=Rs,Bn.omitBy=function(e,t){return Ls(e,Ro(ua(t)))},Bn.once=function(e){return jo(2,e)},Bn.orderBy=function(t,n,r,i){return null==t?[]:(Ho(n)||(n=null==n?[]:[n]),Ho(r=i?e:r)||(r=null==r?[]:[r]),Hr(t,n,r))},Bn.over=cl,Bn.overArgs=Fo,Bn.overEvery=dl,Bn.overSome=fl,Bn.partial=Lo,Bn.partialRight=Vo,Bn.partition=To,Bn.pick=Fs,Bn.pickBy=Ls,Bn.property=pl,Bn.propertyOf=function(t){return function(n){return null==t?e:Or(t,n)}},Bn.pull=Ya,Bn.pullAll=Ja,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,ua(n,2)):e},Bn.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Xr(t,n,e,r):t},Bn.pullAt=Qa,Bn.range=hl,Bn.rangeRight=ml,Bn.rearg=zo,Bn.reject=function(e,t){return(Ho(e)?It:gr)(e,Ro(ua(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ua(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Gr(e,i),n},Bn.rest=function(n,r){if("function"!=typeof n)throw new De(t);return Yr(n,r=r===e?r:ms(r))},Bn.reverse=eo,Bn.sampleSize=function(t,n,r){return n=(r?_a(t,n,r):n===e)?1:ms(n),(Ho(t)?Qn:Qr)(t,n)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:ei(t,n,r,i)},Bn.shuffle=function(e){return(Ho(e)?er:ri)(e)},Bn.slice=function(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&_a(t,n,r)?(n=0,r=i):(n=null==n?0:ms(n),r=r===e?i:ms(r)),ii(t,n,r)):[]},Bn.sortBy=Co,Bn.sortedUniq=function(e){return e&&e.length?li(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?li(e,ua(t,2)):[]},Bn.split=function(t,n,r){return r&&"number"!=typeof r&&_a(t,n,r)&&(n=r=e),(r=r===e?f:r>>>0)?(t=ys(t))&&("string"==typeof n||null!=n&&!os(n))&&!(n=ci(n))&&sn(t)?xi(hn(t),0,r):t.split(n,r):[]},Bn.spread=function(e,n){if("function"!=typeof e)throw new De(t);return n=null==n?0:yn(ms(n),0),Yr((function(t){var r=t[n],i=xi(t,0,n);return r&&$t(i,r),Ct(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(t,n,r){return t&&t.length?ii(t,0,(n=r||n===e?1:ms(n))<0?0:n):[]},Bn.takeRight=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,(n=i-(n=r||n===e?1:ms(n)))<0?0:n,i):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?hi(e,ua(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,n,r){var i=!0,a=!0;if("function"!=typeof e)throw new De(t);return ts(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),Mo(e,n,{leading:i,maxWait:n,trailing:a})},Bn.thru=ho,Bn.toArray=ps,Bn.toPairs=Vs,Bn.toPairsIn=zs,Bn.toPath=function(e){return Ho(e)?Nt(e,Fa):us(e)?[e]:Di(Ra(ys(e)))},Bn.toPlainObject=bs,Bn.transform=function(e,t,n){var r=Ho(e),i=r||Zo(e)||cs(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ts(e)&&Jo(a)?Pn(Xe(e)):{}}return(i?At:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Ao(e,1)},Bn.union=to,Bn.unionBy=no,Bn.unionWith=ro,Bn.uniq=function(e){return e&&e.length?di(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?di(e,ua(t,2)):[]},Bn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?di(t,e,n):[]},Bn.unset=function(e,t){return null==e||fi(e,t)},Bn.unzip=io,Bn.unzipWith=ao,Bn.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Bn.updateWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:pi(t,n,yi(r),i)},Bn.values=Bs,Bn.valuesIn=function(e){return null==e?[]:Qt(e,ks(e))},Bn.without=oo,Bn.words=Js,Bn.wrap=function(e,t){return Lo(yi(t),e)},Bn.xor=so,Bn.xorBy=lo,Bn.xorWith=uo,Bn.zip=co,Bn.zipObject=function(e,t){return gi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},Bn.zipWith=fo,Bn.entries=Vs,Bn.entriesIn=zs,Bn.extend=ws,Bn.extendWith=xs,ll(Bn,Bn),Bn.add=yl,Bn.attempt=Qs,Bn.camelCase=Ps,Bn.capitalize=Us,Bn.ceil=_l,Bn.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=gs(r))==r?r:0),n!==e&&(n=(n=gs(n))==n?n:0),lr(gs(t),n,r)},Bn.clone=function(e){return ur(e,4)},Bn.cloneDeep=function(e){return ur(e,5)},Bn.cloneDeepWith=function(t,n){return ur(t,5,n="function"==typeof n?n:e)},Bn.cloneWith=function(t,n){return ur(t,4,n="function"==typeof n?n:e)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,Ms(t))},Bn.deburr=qs,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=wl,Bn.endsWith=function(t,n,r){t=ys(t),n=ci(n);var i=t.length,a=r=r===e?i:lr(ms(r),0,i);return(r-=n.length)>=0&&t.slice(r,a)==n},Bn.eq=Bo,Bn.escape=function(e){return(e=ys(e))&&X.test(e)?e.replace(H,an):e},Bn.escapeRegExp=function(e){return(e=ys(e))&&te.test(e)?e.replace(ee,"\\$&"):e},Bn.every=function(t,n,r){var i=Ho(t)?Dt:mr;return r&&_a(t,n,r)&&(n=e),i(t,ua(n,3))},Bn.find=go,Bn.findIndex=Ua,Bn.findKey=function(e,t){return zt(e,ua(t,3),wr)},Bn.findLast=bo,Bn.findLastIndex=qa,Bn.findLastKey=function(e,t){return zt(e,ua(t,3),xr)},Bn.floor=xl,Bn.forEach=yo,Bn.forEachRight=_o,Bn.forIn=function(e,t){return null==e?e:yr(e,ua(t,3),ks)},Bn.forInRight=function(e,t){return null==e?e:_r(e,ua(t,3),ks)},Bn.forOwn=function(e,t){return e&&wr(e,ua(t,3))},Bn.forOwnRight=function(e,t){return e&&xr(e,ua(t,3))},Bn.get=Ss,Bn.gt=Po,Bn.gte=Uo,Bn.has=function(e,t){return null!=e&&va(e,t,Ar)},Bn.hasIn=As,Bn.head=Wa,Bn.identity=il,Bn.includes=function(e,t,n,r){e=Xo(e)?e:Bs(e),n=n&&!r?ms(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Pt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Pt(e,t,i)},Bn.inRange=function(t,n,r){return n=hs(n),r===e?(r=n,n=0):r=hs(r),function(e,t,n){return e>=_n(t,n)&&e<yn(t,n)}(t=gs(t),n,r)},Bn.invoke=Is,Bn.isArguments=qo,Bn.isArray=Ho,Bn.isArrayBuffer=Wo,Bn.isArrayLike=Xo,Bn.isArrayLikeObject=Go,Bn.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Cr(e)==v},Bn.isBuffer=Zo,Bn.isDate=Ko,Bn.isElement=function(e){return ns(e)&&1===e.nodeType&&!as(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Xo(e)&&(Ho(e)||"string"==typeof e||"function"==typeof e.splice||Zo(e)||cs(e)||qo(e)))return!e.length;var t=ma(e);if(t==w||t==C)return!e.size;if(Oa(e))return!Fr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return kr(e,t)},Bn.isEqualWith=function(t,n,r){var i=(r="function"==typeof r?r:e)?r(t,n):e;return i===e?kr(t,n,e,r):!!i},Bn.isError=Yo,Bn.isFinite=function(e){return"number"==typeof e&&Vt(e)},Bn.isFunction=Jo,Bn.isInteger=Qo,Bn.isLength=es,Bn.isMap=rs,Bn.isMatch=function(e,t){return e===t||Nr(e,t,da(t))},Bn.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Nr(t,n,da(n),r)},Bn.isNaN=function(e){return is(e)&&e!=+e},Bn.isNative=function(e){if(Ea(e))throw new Oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $r(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=is,Bn.isObject=ts,Bn.isObjectLike=ns,Bn.isPlainObject=as,Bn.isRegExp=os,Bn.isSafeInteger=function(e){return Qo(e)&&e>=-9007199254740991&&e<=c},Bn.isSet=ss,Bn.isString=ls,Bn.isSymbol=us,Bn.isTypedArray=cs,Bn.isUndefined=function(t){return t===e},Bn.isWeakMap=function(e){return ns(e)&&ma(e)==j},Bn.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==Cr(e)},Bn.join=function(e,t){return null==e?"":Xt.call(e,t)},Bn.kebabCase=Hs,Bn.last=Ka,Bn.lastIndexOf=function(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i;return r!==e&&(a=(a=ms(r))<0?yn(i+a,0):_n(a,i-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(t,n,a):Bt(t,qt,a,!0)},Bn.lowerCase=Ws,Bn.lowerFirst=Xs,Bn.lt=ds,Bn.lte=fs,Bn.max=function(t){return t&&t.length?vr(t,il,Sr):e},Bn.maxBy=function(t,n){return t&&t.length?vr(t,ua(n,2),Sr):e},Bn.mean=function(e){return Ht(e,il)},Bn.meanBy=function(e,t){return Ht(e,ua(t,2))},Bn.min=function(t){return t&&t.length?vr(t,il,Vr):e},Bn.minBy=function(t,n){return t&&t.length?vr(t,ua(n,2),Vr):e},Bn.stubArray=vl,Bn.stubFalse=gl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=El,Bn.nth=function(t,n){return t&&t.length?qr(t,ms(n)):e},Bn.noConflict=function(){return ht._===this&&(ht._=Be),this},Bn.noop=ul,Bn.now=So,Bn.pad=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(vt(i),n)+e+Hi(mt(i),n)},Bn.padEnd=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?e+Hi(t-r,n):e},Bn.padStart=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?Hi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ys(e).replace(ne,""),t||0)},Bn.random=function(t,n,r){if(r&&"boolean"!=typeof r&&_a(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=hs(t),n===e?(n=t,t=0):n=hs(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var a=En();return _n(t+a*(n-t+ct("1e-"+((a+"").length-1))),n)}return Zr(t,n)},Bn.reduce=function(e,t,n){var r=Ho(e)?Rt:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,pr)},Bn.reduceRight=function(e,t,n){var r=Ho(e)?Ft:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,hr)},Bn.repeat=function(t,n,r){return n=(r?_a(t,n,r):n===e)?1:ms(n),Kr(ys(t),n)},Bn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(t,n,r){var i=-1,a=(n=_i(n,t)).length;for(a||(a=1,t=e);++i<a;){var o=null==t?e:t[Fa(n[i])];o===e&&(i=a,o=r),t=Jo(o)?o.call(t):o}return t},Bn.round=Ol,Bn.runInContext=re,Bn.sample=function(e){return(Ho(e)?Jn:Jr)(e)},Bn.size=function(e){if(null==e)return 0;if(Xo(e))return ls(e)?pn(e):e.length;var t=ma(e);return t==w||t==C?e.size:Fr(e).length},Bn.snakeCase=Gs,Bn.some=function(t,n,r){var i=Ho(t)?Lt:ai;return r&&_a(t,n,r)&&(n=e),i(t,ua(n,3))},Bn.sortedIndex=function(e,t){return oi(e,t)},Bn.sortedIndexBy=function(e,t,n){return si(e,t,ua(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Bo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return si(e,t,ua(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=oi(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},Bn.startCase=Zs,Bn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:lr(ms(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Bn.subtract=Tl,Bn.sum=function(e){return e&&e.length?Zt(e,il):0},Bn.sumBy=function(e,t){return e&&e.length?Zt(e,ua(t,2)):0},Bn.template=function(t,n,r){var i=Bn.templateSettings;r&&_a(t,n,r)&&(n=e),t=ys(t),n=xs({},n,i,Qi);var a,o,s=xs({},n.imports,i.imports,Qi),l=Ms(s),u=Qt(s,l),c=0,d=n.interpolate||be,f="__p += '",p=Ae((n.escape||be).source+"|"+d.source+"|"+(d===K?ce:be).source+"|"+(n.evaluate||be).source+"|$","g"),h="//# sourceURL="+(Re.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";t.replace(p,(function(e,n,r,i,s,l){return r||(r=i),f+=t.slice(c,l).replace(ye,on),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),f+="';\n";var m=Re.call(n,"variable")&&n.variable;if(m){if(le.test(m))throw new Oe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(B,""):f).replace(P,"$1").replace(U,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Qs((function(){return Te(l,h+"return "+f).apply(e,u)}));if(v.source=f,Yo(v))throw v;return v},Bn.times=function(e,t){if((e=ms(e))<1||e>c)return[];var n=f,r=_n(e,f);t=ua(t),e-=f;for(var i=Kt(r,t);++n<e;)t(n);return i},Bn.toFinite=hs,Bn.toInteger=ms,Bn.toLength=vs,Bn.toLower=function(e){return ys(e).toLowerCase()},Bn.toNumber=gs,Bn.toSafeInteger=function(e){return e?lr(ms(e),-9007199254740991,c):0===e?e:0},Bn.toString=ys,Bn.toUpper=function(e){return ys(e).toUpperCase()},Bn.trim=function(t,n,r){if((t=ys(t))&&(r||n===e))return Yt(t);if(!t||!(n=ci(n)))return t;var i=hn(t),a=hn(n);return xi(i,tn(i,a),nn(i,a)+1).join("")},Bn.trimEnd=function(t,n,r){if((t=ys(t))&&(r||n===e))return t.slice(0,mn(t)+1);if(!t||!(n=ci(n)))return t;var i=hn(t);return xi(i,0,nn(i,hn(n))+1).join("")},Bn.trimStart=function(t,n,r){if((t=ys(t))&&(r||n===e))return t.replace(ne,"");if(!t||!(n=ci(n)))return t;var i=hn(t);return xi(i,tn(i,hn(n))).join("")},Bn.truncate=function(t,n){var r=30,i="...";if(ts(n)){var a="separator"in n?n.separator:a;r="length"in n?ms(n.length):r,i="omission"in n?ci(n.omission):i}var o=(t=ys(t)).length;if(sn(t)){var s=hn(t);o=s.length}if(r>=o)return t;var l=r-pn(i);if(l<1)return i;var u=s?xi(s,0,l).join(""):t.slice(0,l);if(a===e)return u+i;if(s&&(l+=u.length-l),os(a)){if(t.slice(l).search(a)){var c,d=u;for(a.global||(a=Ae(a.source,ys(de.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var f=c.index;u=u.slice(0,f===e?l:f)}}else if(t.indexOf(ci(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+i},Bn.unescape=function(e){return(e=ys(e))&&W.test(e)?e.replace(q,vn):e},Bn.uniqueId=function(e){var t=++Fe;return ys(e)+t},Bn.upperCase=Ks,Bn.upperFirst=Ys,Bn.each=yo,Bn.eachRight=_o,Bn.first=Wa,ll(Bn,(bl={},wr(Bn,(function(e,t){Re.call(Bn.prototype,t)||(bl[t]=e)})),bl),{chain:!1}),Bn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),At(["drop","take"],(function(t,n){Hn.prototype[t]=function(r){r=r===e?1:yn(ms(r),0);var i=this.__filtered__&&!n?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=_n(r,i.__takeCount__):i.__views__.push({size:_n(r,f),type:t+(i.__dir__<0?"Right":"")}),i},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(il)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Ir(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Ro(ua(e)))},Hn.prototype.slice=function(t,n){t=ms(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Hn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=ms(n))<0?r.dropRight(-n):r.take(n-t)),r)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(f)},wr(Hn.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),a=Bn[i?"take"+("last"==n?"Right":""):n],o=i||/^find/.test(n);a&&(Bn.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,l=n instanceof Hn,u=s[0],c=l||Ho(n),d=function(e){var t=a.apply(Bn,$t([e],s));return i&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=o&&!f,m=l&&!p;if(!o&&c){n=m?n:new Hn(this);var v=t.apply(n,s);return v.__actions__.push({func:ho,args:[d],thisArg:e}),new qn(v,f)}return h&&m?t.apply(this,s):(v=this.thru(d),h?i?v.value()[0]:v.value():v)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ho(i)?i:[],e)}return this[n]((function(n){return t.apply(Ho(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Re.call(Mn,r)||(Mn[r]=[]),Mn[r].push({name:t,func:n})}})),Mn[Bi(e,2).name]=[{name:"wrapper",func:e}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ho(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=_n(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,p=_n(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return mi(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,v=e[u+=t];++m<d;){var g=c[m],b=g.iteratee,y=g.type,_=b(v);if(2==y)v=_;else if(!_){if(1==y)continue e;break e}}h[f++]=v}return h},Bn.prototype.at=mo,Bn.prototype.chain=function(){return po(this)},Bn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===e&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Bn.prototype.plant=function(t){for(var n,r=this;r instanceof Un;){var i=Va(r);i.__index__=0,i.__values__=e,n?a.__wrapped__=i:n=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,n},Bn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var n=t;return this.__actions__.length&&(n=new Hn(this)),(n=n.reverse()).__actions__.push({func:ho,args:[eo],thisArg:e}),new qn(n,this.__chain__)}return this.thru(eo)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Je&&(Bn.prototype[Je]=function(){return this}),Bn}();vt?((vt.exports=gn)._=gn,mt._=gn):ht._=gn}.call(Te);var De=je.exports,Ie=Symbol.for("immer-nothing"),Me=Symbol.for("immer-draftable"),ke=Symbol.for("immer-state"),Ne="production"!==process.env.NODE_ENV?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}]:[];function $e(e,...t){if("production"!==process.env.NODE_ENV){const n=Ne[e],r="function"==typeof n?n.apply(null,t):n;throw new Error(`[Immer] ${r}`)}throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Re=Object.getPrototypeOf;function Fe(e){return!!e&&!!e[ke]}function Le(e){return!!e&&(ze(e)||Array.isArray(e)||!!e[Me]||!!e.constructor?.[Me]||He(e)||We(e))}var Ve=Object.prototype.constructor.toString();function ze(e){if(!e||"object"!=typeof e)return!1;const t=Re(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ve}function Be(e,t){0===Pe(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Pe(e){const t=e[ke];return t?t.type_:Array.isArray(e)?1:He(e)?2:We(e)?3:0}function Ue(e,t){return 2===Pe(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qe(e,t,n){const r=Pe(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function He(e){return e instanceof Map}function We(e){return e instanceof Set}function Xe(e){return e.copy_||e.base_}function Ge(e,t){if(He(e))return new Map(e);if(We(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ze(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[ke];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Re(e),t)}{const t=Re(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Ze(e,t=!1){return Ye(e)||Fe(e)||!Le(e)||(Pe(e)>1&&(e.set=e.add=e.clear=e.delete=Ke),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>Ze(t,!0)))),e}function Ke(){$e(2)}function Ye(e){return Object.isFrozen(e)}var Je,Qe={};function et(e){const t=Qe[e];return t||$e(0,e),t}function tt(){return Je}function nt(e,t){t&&(et("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rt(e){it(e),e.drafts_.forEach(ot),e.drafts_=null}function it(e){e===Je&&(Je=e.parent_)}function at(e){return Je={drafts_:[],parent_:Je,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ot(e){const t=e[ke];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function st(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[ke].modified_&&(rt(t),$e(4)),Le(e)&&(e=lt(t,e),t.parent_||ct(t,e)),t.patches_&&et("Patches").generateReplacementPatches_(n[ke].base_,e,t.patches_,t.inversePatches_)):e=lt(t,n,[]),rt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ie?e:void 0}function lt(e,t,n){if(Ye(t))return t;const r=t[ke];if(!r)return Be(t,((i,a)=>ut(e,r,t,i,a,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return ct(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Be(i,((i,o)=>ut(e,r,t,i,o,n,a))),ct(e,t,!1),n&&e.patches_&&et("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ut(e,t,n,r,i,a,o){if("production"!==process.env.NODE_ENV&&i===n&&$e(5),Fe(i)){const o=lt(e,i,a&&t&&3!==t.type_&&!Ue(t.assigned_,r)?a.concat(r):void 0);if(qe(n,r,o),!Fe(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Le(i)&&!Ye(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;lt(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||ct(e,i)}}function ct(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ze(t,n)}var dt={get(e,t){if(t===ke)return e;const n=Xe(e);if(!Ue(n,t))return function(e,t,n){const r=ht(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Le(r)?r:r===pt(e.base_,t)?(vt(e),e.copy_[t]=gt(r,e)):r},has:(e,t)=>t in Xe(e),ownKeys:e=>Reflect.ownKeys(Xe(e)),set(e,t,n){const r=ht(Xe(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=pt(Xe(e),t),o=r?.[ke];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||Ue(e.base_,t)))return!0;vt(e),mt(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==pt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,vt(e),mt(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Xe(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){$e(11)},getPrototypeOf:e=>Re(e.base_),setPrototypeOf(){$e(12)}},ft={};function pt(e,t){const n=e[ke];return(n?Xe(n):e)[t]}function ht(e,t){if(!(t in e))return;let n=Re(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Re(n)}}function mt(e){e.modified_||(e.modified_=!0,e.parent_&&mt(e.parent_))}function vt(e){e.copy_||(e.copy_=Ge(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Be(dt,((e,t)=>{ft[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ft.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&$e(13),ft.set.call(this,e,t,void 0)},ft.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&$e(14),dt.set.call(this,e[0],t,n,e[0])};function gt(e,t){const n=He(e)?et("MapSet").proxyMap_(e,t):We(e)?et("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:tt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=dt;n&&(i=[r],a=ft);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:tt()).drafts_.push(n),n}function bt(e){if(!Le(e)||Ye(e))return e;const t=e[ke];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ge(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ge(e,!0);return Be(n,((e,t)=>{qe(n,e,bt(t))})),t&&(t.finalized_=!1),n}var yt,_t,wt=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&$e(6),void 0!==n&&"function"!=typeof n&&$e(7),Le(e)){const i=at(this),a=gt(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?rt(i):it(i)}return nt(i,n),st(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Ie&&(r=void 0),this.autoFreeze_&&Ze(r,!0),n){const t=[],i=[];et("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}$e(1,e)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Le(e)||$e(8),Fe(e)&&(e=function(e){Fe(e)||$e(10,e);return bt(e)}(e));const t=at(this),n=gt(e,void 0);return n[ke].isManual_=!0,it(t),n}finishDraft(e,t){const n=e&&e[ke];n&&n.isManual_||$e(9);const{scope_:r}=n;return nt(r,t),st(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=et("Patches").applyPatches_;return Fe(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},xt=wt.produce;function Et(e,t,n){var r=i((function(){return xt(e)}),[e]);return a(r,t,n)}wt.produceWithPatches.bind(wt),wt.setAutoFreeze.bind(wt),wt.setUseStrictShallowCopy.bind(wt),wt.applyPatches.bind(wt),wt.createDraft.bind(wt),wt.finishDraft.bind(wt),function(e){e.ADD_ELEMENT="add-element",e.EDIT_ELEMENT="edit-element",e.EDIT_PAGES="edit-pages"}(yt||(yt={})),function(e){e.EMAIL_FIELD="email-field",e.NUMERIC_FIELD="numeric-field",e.TEXT_FIELD="text-field",e.CONTACT_FIELD="contact-field",e.TEXTAREA_FIELD="textarea-field"}(_t||(_t={}));const Ot={mode:yt.ADD_ELEMENT,elements:{},focusedElement:null,showSidePanel:!0,orderedIdentifiers:[],deletedElements:{},elementCounter:0,selectedElementType:null,isSubmitting:!1},Tt=(e,t)=>{switch(t.type){case"toggle-submitting":e.isSubmitting=t.payload;break;case"toggle-panel":e.showSidePanel=t.payload;break;case"toggle-mode":e.mode=t.payload;break;case"update-ordered-identifiers":e.orderedIdentifiers=t.payload;break;case"add-element":{const n=t.payload.element;e.elements[n.internalId]=n,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.elementCounter+=1;break}case"delete-element":case"undo-delete-element":e.elements=t.payload.updatedElements,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.deletedElements=t.payload.deletedElements;break;case"focus-element":e.focusedElement=t.payload,e.selectedElementType=t.payload.element.type;break;case"remove-focused-element":e.focusedElement=null;break;case"update-element":{const n=e.focusedElement.element.internalId;e.elements=Object.assign(Object.assign({},e.elements),{[n]:Object.assign(Object.assign({},t.payload),{internalId:n})});break}case"update-focused-element":if(t.payload.element){const n=Object.assign(Object.assign({},t.payload.element),{internalId:e.focusedElement.element.internalId});e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty,element:n})}else e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty});break;case"select-element-type":e.selectedElementType=t.payload;break;case"update-schema-element":e.elements=Object.assign({},t.payload.elements),e.orderedIdentifiers=t.payload.orderedIdentifiers}return e},Ct=o({state:Ot,dispatch:De.noop}),St=({children:t})=>{const[n,r]=Et(Tt,Ot);return e(Ct.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},At=()=>{const{state:e,dispatch:t}=s(Ct),n=l((e=>{t({type:"toggle-submitting",payload:e})}),[]),r=l((e=>{t({type:"toggle-panel",payload:e})}),[]),i=l((e=>{const n=[...e.map((({position:e,size:t})=>({position:e,size:t})))].sort(((e,t)=>e.position-t.position)),r=e.map(((e,t)=>{const{size:r,position:i}=n[t];return Object.assign(Object.assign({},e),{position:i,size:r})}));t({type:"update-ordered-identifiers",payload:r})}),[]),a=l(((n,r)=>{const i=e.orderedIdentifiers.map((e=>e.internalId)),a=Object.values(e.elements).map((e=>e.id)),o=xe.generate(n,i,a),s=[...e.orderedIdentifiers,{internalId:o.internalId,position:e.elementCounter,size:"full"}];t({type:"add-element",payload:{element:o,orderedIdentifiers:s}}),r&&t({type:"focus-element",payload:{element:o,isDirty:!1}})}),[e.orderedIdentifiers,e.elements]),o=l((n=>{const r=e.orderedIdentifiers.find((e=>e.internalId===n.internalId)).size,i=e.orderedIdentifiers.map((e=>e.internalId)),a=Object.values(e.elements).map((e=>e.id)),o=xe.duplicate(n,i,a),s=[...e.orderedIdentifiers,{internalId:o.internalId,position:e.elementCounter,size:r}];t({type:"add-element",payload:{element:o,orderedIdentifiers:s}}),t({type:"focus-element",payload:{element:o,isDirty:!1}})}),[e.orderedIdentifiers]),u=l((n=>{const r=e.elements,i=n,a=r[i],o=ue(r,["symbol"==typeof i?i:i+""]),s=e.orderedIdentifiers.find((e=>e.internalId===n)),l=e.orderedIdentifiers.filter((e=>e.internalId!==n)),u=Object.fromEntries(Object.entries(o).map((([e,t])=>{var r;return[e,Object.assign(Object.assign({},t),{conditionalRendering:null===(r=null==t?void 0:t.conditionalRendering)||void 0===r?void 0:r.filter((e=>e.internalId!==n))})]}))),c=Object.assign(Object.assign({},e.deletedElements),{[n]:{element:a,position:s.position,size:s.size}});t({type:"delete-element",payload:{updatedElements:u,orderedIdentifiers:l,deletedElements:c}}),null!==e.focusedElement&&(f(),p(yt.ADD_ELEMENT))}),[e.orderedIdentifiers,e.elements,e.mode,e.deletedElements,e.focusedElement]),c=l((n=>{const r=e.deletedElements[n];if(!r)return;const i=e.orderedIdentifiers;let a=i.findIndex((e=>e.position>r.position));-1===a&&(a=i.length);const o=[...i];o.splice(a,0,{internalId:n,position:r.position,size:r.size}),t({type:"undo-delete-element",payload:{updatedElements:Object.assign(Object.assign({},e.elements),{[n]:r.element}),orderedIdentifiers:o,deletedElements:Object.fromEntries(Object.entries(e.deletedElements).filter((([e])=>e!==n)))}})}),[e.deletedElements,e.orderedIdentifiers,e.elements]),d=l((e=>{t({type:"focus-element",payload:{element:e}})}),[]),f=l((()=>{t({type:"remove-focused-element"})}),[]),p=l((e=>{t({type:"toggle-mode",payload:e})}),[]),h=l((e=>{t({type:"update-element",payload:e})}),[]),m=l(((e,n,r)=>{t({type:"update-schema-element",payload:{elements:e,orderedIdentifiers:n}}),r&&(t({type:"remove-focused-element"}),t({type:"focus-element",payload:{element:r}}))}),[]),v=l(((e,n)=>{t({type:"update-focused-element",payload:{isDirty:e,element:n}})}),[]),g=l((e=>{t({type:"select-element-type",payload:e})}),[]);return{isSubmitting:e.isSubmitting,deletedElements:e.deletedElements,elements:e.elements,showSidePanel:e.showSidePanel,currentMode:e.mode,orderedIdentifiers:e.orderedIdentifiers,focusedElement:e.focusedElement,selectedElementType:e.selectedElementType,toggleSubmitting:n,togglePanel:r,toggleMode:p,updateOrderedIdentifiers:i,addElement:a,deleteElement:u,undoDeleteElement:c,focusElement:d,removeFocusedElement:f,updateElement:h,updateFocusedElement:v,duplicateElement:o,selectElementType:g,updateElementSchema:m}},jt=o({}),Dt=({children:t,value:n})=>e(jt.Provider,Object.assign({value:n||{}},{children:t})),It=()=>s(jt),Mt=(e,t)=>{var n;const{presetForm:r,elements:i}=It(),a=null==i?void 0:i[pe[t]],o=null==a?void 0:a.isDisabled,s=null===(n=null==r?void 0:r[e])||void 0===n?void 0:n.isDisabled;return null!=o?o:s},kt=(e,t)=>{var n,r,i,a;const{attributes:o,elements:s}=It(),l=null===(n=null==e?void 0:e.element)||void 0===n?void 0:n.type,u=null===(r=null==s?void 0:s[pe[l]])||void 0===r?void 0:r.attributes,c=null===(i=null==u?void 0:u[t])||void 0===i?void 0:i.isDisabled,d=null===(a=null==o?void 0:o[t])||void 0===a?void 0:a.isDisabled;return null!=c?c:d},Nt=(e,t)=>{var n,r,i,a,o;const{elements:s,attributes:l}=It(),u=null==s?void 0:s[t];return null===(o=null!==(i=null===(r=null===(n=null==u?void 0:u.attributes)||void 0===n?void 0:n[e])||void 0===r?void 0:r.shouldShow)&&void 0!==i?i:null===(a=null==l?void 0:l[e])||void 0===a?void 0:a.shouldShow)||void 0===o||o},$t=()=>{var e,t;const{attributes:n}=It();return null===(t=null===(e=null==n?void 0:n.prefill)||void 0===e?void 0:e.shouldShow)||void 0===t||t};const Rt={toasts:[],modals:[]},Ft=(e,t)=>{switch(t.type){case"set-modal":e.modals=[t.payload];break;case"show-toast":e.toasts=[...e.toasts,t.payload];break;case"dismiss-toast":{const n=[...e.toasts].filter((e=>e.id!==t.payload));e.toasts=n;break}case"hide-modal":e=Object.assign(Object.assign({},e),{modals:t.payload?e.modals.filter((e=>e.type!==t.payload)):[]})}return e},Lt=o({state:Rt,dispatch:Ce((function(){}))}),Vt=({children:t})=>{const[n,r]=Et(Ft,Rt);return e(Lt.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},zt=()=>{const{state:e,dispatch:t}=s(Lt);return{showToast:l((e=>{const n=ye.generate();t({type:"show-toast",payload:Object.assign(Object.assign({},e),{id:n})})}),[t,e.toasts]),dismissToast:l((e=>{t({type:"dismiss-toast",payload:e})}),[]),toasts:e.toasts}};var Bt,Pt;!function(e){e.DELETE_ELEMENT_TOAST="delete-element-toast",e.SUCCESS_TOAST="success-toast"}(Bt||(Bt={})),function(e){e.DiscardChanges="discard-changes",e.BulkEdit="bulk-edit",e.ResetFields="reset-fields"}(Pt||(Pt={}));const Ut=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M3.33333 9.16667C3.09722 9.16667 2.89931 9.08681 2.73958 8.92708C2.57986 8.76736 2.5 8.56944 2.5 8.33333V3.33333C2.5 3.09722 2.57986 2.89931 2.73958 2.73958C2.89931 2.57986 3.09722 2.5 3.33333 2.5H8.33333C8.56944 2.5 8.76736 2.57986 8.92708 2.73958C9.08681 2.89931 9.16667 3.09722 9.16667 3.33333V8.33333C9.16667 8.56944 9.08681 8.76736 8.92708 8.92708C8.76736 9.08681 8.56944 9.16667 8.33333 9.16667H3.33333ZM11.6667 9.16667C11.4306 9.16667 11.2326 9.08681 11.0729 8.92708C10.9132 8.76736 10.8333 8.56944 10.8333 8.33333V3.33333C10.8333 3.09722 10.9132 2.89931 11.0729 2.73958C11.2326 2.57986 11.4306 2.5 11.6667 2.5H16.6667C16.9028 2.5 17.1007 2.57986 17.2604 2.73958C17.4201 2.89931 17.5 3.09722 17.5 3.33333V8.33333C17.5 8.56944 17.4201 8.76736 17.2604 8.92708C17.1007 9.08681 16.9028 9.16667 16.6667 9.16667H11.6667ZM3.33333 17.5C3.09722 17.5 2.89931 17.4201 2.73958 17.2604C2.57986 17.1007 2.5 16.9028 2.5 16.6667V11.6667C2.5 11.4306 2.57986 11.2326 2.73958 11.0729C2.89931 10.9132 3.09722 10.8333 3.33333 10.8333H8.33333C8.56944 10.8333 8.76736 10.9132 8.92708 11.0729C9.08681 11.2326 9.16667 11.4306 9.16667 11.6667V16.6667C9.16667 16.9028 9.08681 17.1007 8.92708 17.2604C8.76736 17.4201 8.56944 17.5 8.33333 17.5H3.33333ZM14.1667 17.5C13.9306 17.5 13.7326 17.4201 13.5729 17.2604C13.4132 17.1007 13.3333 16.9028 13.3333 16.6667V15H11.6458C11.4097 15 11.2153 14.9201 11.0625 14.7604C10.9097 14.6007 10.8333 14.4028 10.8333 14.1667C10.8333 13.9306 10.9132 13.7326 11.0729 13.5729C11.2326 13.4132 11.4306 13.3333 11.6667 13.3333H13.3333V11.6458C13.3333 11.4097 13.4132 11.2153 13.5729 11.0625C13.7326 10.9097 13.9306 10.8333 14.1667 10.8333C14.4028 10.8333 14.6007 10.9132 14.7604 11.0729C14.9201 11.2326 15 11.4306 15 11.6667V13.3333H16.6875C16.9236 13.3333 17.1181 13.4132 17.2708 13.5729C17.4236 13.7326 17.5 13.9306 17.5 14.1667C17.5 14.4028 17.4201 14.6007 17.2604 14.7604C17.1007 14.9201 16.9028 15 16.6667 15H15V16.6875C15 16.9236 14.9201 17.1181 14.7604 17.2708C14.6007 17.4236 14.4028 17.5 14.1667 17.5ZM12.5 4.16667V7.5H15.8333V4.16667H12.5ZM4.16667 4.16667V7.5H7.5V4.16667H4.16667ZM4.16667 12.5V15.8333H7.5V12.5H4.16667Z",fill:"currentColor"})}));Ut.displayName="AddElementIcon";const qt=n=>t("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[e("mask",Object.assign({id:"path-1-inside-1_6699_38328",fill:"white"},{children:e("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1"})})),e("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1",stroke:"currentColor",strokeWidth:"4",mask:"url(#path-1-inside-1_6699_38328)"}),e("rect",{x:"2",y:"19.5",width:"22",height:"2",rx:"1",fill:"currentColor"})]}));qt.displayName="BottomPositionIcon";const Ht=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M3.33333 15C3.09722 15 2.89931 14.9201 2.73958 14.7604C2.57986 14.6007 2.5 14.4028 2.5 14.1667C2.5 13.9306 2.57986 13.7326 2.73958 13.5729C2.89931 13.4132 3.09722 13.3333 3.33333 13.3333H11.6667C11.9028 13.3333 12.1007 13.4132 12.2604 13.5729C12.4201 13.7326 12.5 13.9306 12.5 14.1667C12.5 14.4028 12.4201 14.6007 12.2604 14.7604C12.1007 14.9201 11.9028 15 11.6667 15H3.33333ZM3.33333 10.8333C3.09722 10.8333 2.89931 10.7535 2.73958 10.5938C2.57986 10.434 2.5 10.2361 2.5 10C2.5 9.76389 2.57986 9.56597 2.73958 9.40625C2.89931 9.24653 3.09722 9.16667 3.33333 9.16667H16.6667C16.9028 9.16667 17.1007 9.24653 17.2604 9.40625C17.4201 9.56597 17.5 9.76389 17.5 10C17.5 10.2361 17.4201 10.434 17.2604 10.5938C17.1007 10.7535 16.9028 10.8333 16.6667 10.8333H3.33333ZM3.33333 6.66667C3.09722 6.66667 2.89931 6.58681 2.73958 6.42708C2.57986 6.26736 2.5 6.06944 2.5 5.83333C2.5 5.59722 2.57986 5.39931 2.73958 5.23958C2.89931 5.07986 3.09722 5 3.33333 5H16.6667C16.9028 5 17.1007 5.07986 17.2604 5.23958C17.4201 5.39931 17.5 5.59722 17.5 5.83333C17.5 6.06944 17.4201 6.26736 17.2604 6.42708C17.1007 6.58681 16.9028 6.66667 16.6667 6.66667H3.33333Z",fill:"currentColor"})}));Ht.displayName="LongTextIcon";const Wt=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M7.49939 13.3334L6.81189 16.0625C6.77022 16.2431 6.67994 16.3889 6.54105 16.5C6.40216 16.6112 6.2355 16.6667 6.04105 16.6667C5.77716 16.6667 5.56189 16.5625 5.39522 16.3542C5.22855 16.1459 5.17994 15.9167 5.24939 15.6667L5.83272 13.3334H3.56189C3.28411 13.3334 3.06189 13.2257 2.89522 13.0105C2.72855 12.7952 2.67994 12.5556 2.74939 12.2917C2.79105 12.0973 2.88828 11.9445 3.04105 11.8334C3.19383 11.7223 3.36744 11.6667 3.56189 11.6667H6.24939L7.08272 8.33337H4.81189C4.53411 8.33337 4.31189 8.22574 4.14522 8.01046C3.97855 7.79518 3.92994 7.5556 3.99939 7.29171C4.04105 7.09726 4.13828 6.94449 4.29105 6.83337C4.44383 6.72226 4.61744 6.66671 4.81189 6.66671H7.49939L8.18689 3.93754C8.22855 3.75699 8.31883 3.61115 8.45772 3.50004C8.59661 3.38893 8.76328 3.33337 8.95772 3.33337C9.22161 3.33337 9.43689 3.43754 9.60355 3.64587C9.77022 3.85421 9.81883 4.08337 9.74939 4.33337L9.16605 6.66671H12.4994L13.1869 3.93754C13.2286 3.75699 13.3188 3.61115 13.4577 3.50004C13.5966 3.38893 13.7633 3.33337 13.9577 3.33337C14.2216 3.33337 14.4369 3.43754 14.6036 3.64587C14.7702 3.85421 14.8188 4.08337 14.7494 4.33337L14.1661 6.66671H16.4369C16.7147 6.66671 16.9369 6.77435 17.1036 6.98962C17.2702 7.2049 17.3188 7.44449 17.2494 7.70837C17.2077 7.90282 17.1105 8.0556 16.9577 8.16671C16.8049 8.27782 16.6313 8.33337 16.4369 8.33337H13.7494L12.9161 11.6667H15.1869C15.4647 11.6667 15.6869 11.7743 15.8536 11.9896C16.0202 12.2049 16.0688 12.4445 15.9994 12.7084C15.9577 12.9028 15.8605 13.0556 15.7077 13.1667C15.5549 13.2778 15.3813 13.3334 15.1869 13.3334H12.4994L11.8119 16.0625C11.7702 16.2431 11.6799 16.3889 11.5411 16.5C11.4022 16.6112 11.2355 16.6667 11.0411 16.6667C10.7772 16.6667 10.5619 16.5625 10.3952 16.3542C10.2286 16.1459 10.1799 15.9167 10.2494 15.6667L10.8327 13.3334H7.49939ZM7.91605 11.6667H11.2494L12.0827 8.33337H8.74939L7.91605 11.6667Z",fill:"currentColor"})}));Wt.displayName="NumbersIcon";const Xt=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M4.16732 12.5C3.93121 12.5 3.73329 12.4201 3.57357 12.2604C3.41385 12.1007 3.33398 11.9028 3.33398 11.6667C3.33398 11.4306 3.41385 11.2326 3.57357 11.0729C3.73329 10.9132 3.93121 10.8333 4.16732 10.8333H10.834C11.0701 10.8333 11.268 10.9132 11.4277 11.0729C11.5875 11.2326 11.6673 11.4306 11.6673 11.6667C11.6673 11.9028 11.5875 12.1007 11.4277 12.2604C11.268 12.4201 11.0701 12.5 10.834 12.5H4.16732ZM4.16732 9.16667C3.93121 9.16667 3.73329 9.08681 3.57357 8.92708C3.41385 8.76736 3.33398 8.56944 3.33398 8.33333C3.33398 8.09722 3.41385 7.89931 3.57357 7.73958C3.73329 7.57986 3.93121 7.5 4.16732 7.5H15.834C16.0701 7.5 16.268 7.57986 16.4277 7.73958C16.5875 7.89931 16.6673 8.09722 16.6673 8.33333C16.6673 8.56944 16.5875 8.76736 16.4277 8.92708C16.268 9.08681 16.0701 9.16667 15.834 9.16667H4.16732Z",fill:"currentColor"})}));Xt.displayName="ShortTextIcon";const Gt=n=>t("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[e("rect",{x:"2",y:"4.5",width:"22",height:"2",rx:"1",fill:"currentColor"}),e("mask",Object.assign({id:"path-2-inside-1_6699_38329",fill:"white"},{children:e("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1"})})),e("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1",stroke:"currentColor",fill:"white",strokeWidth:"4",mask:"url(#path-2-inside-1_6699_38329)"})]}));Gt.displayName="TopPositionIcon";const Zt=x.div`
    width: 2rem;
    height: 2rem;
    display: grid;
    place-items: center;
    border-radius: ${b.sm};
    background: ${g["bg-primary-subtlest"]};

    svg {
        color: ${g["icon-primary-subtlest"]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,Kt=({elementType:t})=>{let n;switch(t){case re.EMAIL:n=e(C,{});break;case re.CONTACT:n=e(S,{});break;case re.NUMERIC:n=e(Wt,{});break;case re.TEXT:n=e(Xt,{});break;case re.TEXTAREA:n=e(Ht,{});break;case re.DROPDOWN:n=e(O,{});break;case re.RADIO:n=e(T,{})}return e(Zt,{children:n})},Yt=x.button`
    padding: 1rem; // Increase hit zone
    border: none;
    background: transparent;
    cursor: pointer;

    :hover {
        box-shadow: none;
    }

    :focus {
        outline-color: ${g["border-focus-strong"]};
    }

    svg {
        width: ${({$iconSize:e})=>e};
        height: ${({$iconSize:e})=>e};
        color: ${({$iconColor:e})=>e};
        margin-bottom: -5px; // Tweak to align to label
    }
`,Jt=x.button`
    background: none;
    border: none;
    margin-top: 0.625rem;
    svg {
        color: ${({disabled:e})=>e?g["icon-disabled"]:g["icon-primary-subtlest"]};
        width: 1.625rem;
        height: 1.625rem;
        cursor: ${({disabled:e})=>e?"not-allowed":"pointer"};
    }
`,Qt=({onClick:t,disabled:n,popoverMessage:r})=>{const i=e(Jt,Object.assign({type:"button",disabled:n,"data-testid":"delete-button",onClick:n?void 0:t},{children:e(j,{})}));return n?e(A,Object.assign({popoverContent:r,trigger:"hover",position:"bottom-end","data-testid":"delete-button-popover"},{children:i})):i},en=x.div`
    background: ${g["bg-strong"]};
    display: flex;
    flex: 1;
    width: 100%;
    align-items: center;
    margin-bottom: 2rem;
    padding-right: 1rem;
`,tn=x.div`
    padding: 1rem;
    flex: 1;
`,nn=({onDelete:n,children:r})=>t(en,{children:[e(tn,{children:r}),e(Qt,{onClick:n,"data-testid":"delete-button"})]}),rn=x(I.BodyBL)`
    margin-bottom: 2rem;
`,an=x(M.Item)`
    width: 100%;
    border-top: 0;
    border-bottom: ${v["width-010"]} ${v.solid} ${g.border};
    padding-bottom: ${({$hasSubtitle:e})=>e?"0.5rem":"0"};

    #content-container {
        padding: 0;
    }

    ${rn} {
        font-size: 0.875rem !important;
    }

    [data-testid="accordion-item-expandable-container"] {
        padding: 0 1rem;
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin-right: 0.1rem;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hasSubtitle:e})=>e?"1rem 0 0.5rem 1rem":"1rem 0 1rem 1rem"};
    }
`,on=x(k.Default)`
    width: 100%;
    margin: 1rem 0;
`,sn=({title:r,buttonLabel:i,onAdd:a,children:o,disabledButton:s,popoverMessage:l,subtitle:u,expanded:c,hideAddButton:d})=>e(an,Object.assign({title:r,$hasSubtitle:!!u,expanded:c},{children:t(n,{children:[u&&e(rn,{children:u}),o,!d&&(s&&l?e(A,Object.assign({popoverContent:l,trigger:"hover","data-testid":"add-button-popover"},{children:e(on,Object.assign({icon:e(D,{}),styleType:"light",onClick:a,role:"button",disabled:s,type:"button"},{children:"Add "+i}))})):e(on,Object.assign({icon:e(D,{}),styleType:"light",onClick:a,role:"button",disabled:s,type:"button"},{children:"Add "+i})))]})})),ln=({toast:t})=>{const{dismissToast:n,showToast:r}=zt(),{undoDeleteElement:i}=At(),a=e=>{n(e)},o=()=>{i(t.elementInternalId),a(t.id);const e=Object.assign(Object.assign({},t),{type:Bt.SUCCESS_TOAST,message:"Deleted element reverted."});r(e)};switch(t.type){case Bt.SUCCESS_TOAST:return e(N,{type:"success",label:t.message,autoDismiss:!0,fixed:!1,onDismiss:()=>a(t.id)});case Bt.DELETE_ELEMENT_TOAST:return e(N,{type:"success",label:t.message,autoDismiss:!0,autoDismissTime:7e3,fixed:!1,onDismiss:()=>a(t.id),actionButton:{label:"Undo",onClick:o}});default:return console.error("Unable to render toast required."),null}},un=x.div`
    position: fixed;
    top: 1rem;
    right: 3rem;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 1rem;
`,cn=()=>{const{toasts:t}=zt();return e(un,{children:t.map((t=>e(ln,{toast:t},t.id)))})},dn=()=>{const{state:e,dispatch:t}=s(Lt),{showToast:n}=zt(),r=l((e=>{t({type:"set-modal",payload:e})}),[t]),i=l((e=>t({type:"hide-modal",payload:e})),[t]),a=l((()=>{const e={message:"Changes discarded.",type:Bt.SUCCESS_TOAST};t({type:"hide-modal",payload:Pt.DiscardChanges}),n(e)}),[]);return{modals:e.modals,showModal:r,hideModal:i,discardChanges:a}},fn=x($.Box)`
    width: 100%;
    max-width: 42rem;

    /* to grow with content */
    height: auto;
    max-height: none;

    margin: auto;
`,pn=x.div`
    margin: 4rem;
    text-align: center;
`,hn=x.div`
    margin: auto;
    padding: 5rem 1.25rem;
    width: 100%;
`,mn=t=>{var{type:n,onClose:r,children:i}=t,a=ue(t,["type","onClose","children"]);const{hideModal:o}=dn();return e(hn,{children:e(fn,Object.assign({onClose:null!=r?r:()=>{o(n)}},a,{children:e(pn,Object.assign({"data-testid":"modal-content"},{children:i}))}))})};var vn=e=>"checkbox"===e.type,gn=e=>e instanceof Date,bn=e=>null==e;const yn=e=>"object"==typeof e;var _n=e=>!bn(e)&&!Array.isArray(e)&&yn(e)&&!gn(e),wn=e=>_n(e)&&e.target?vn(e.target)?e.target.checked:e.target.value:e,xn=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),En="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function On(e){let t;const n=Array.isArray(e),r="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(En&&(e instanceof Blob||r)||!n&&!_n(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return _n(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=On(e[n]));else t=e}return t}var Tn=e=>Array.isArray(e)?e.filter(Boolean):[],Cn=e=>void 0===e,Sn=(e,t,n)=>{if(!t||!_n(e))return n;const r=Tn(t.split(/[,[\].]+?/)).reduce(((e,t)=>bn(e)?e:e[t]),e);return Cn(r)||r===e?Cn(e[t])?n:e[t]:r},An=e=>"boolean"==typeof e,jn=e=>/^\w*$/.test(e),Dn=e=>Tn(e.replace(/["|']|\]/g,"").split(/\.|\[/)),In=(e,t,n)=>{let r=-1;const i=jn(t)?[t]:Dn(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=_n(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}return e};const Mn="blur",kn="focusout",Nn="change",$n="onBlur",Rn="onChange",Fn="onSubmit",Ln="onTouched",Vn="all",zn="max",Bn="min",Pn="maxLength",Un="minLength",qn="pattern",Hn="required",Wn="validate",Xn=r.createContext(null),Gn=()=>r.useContext(Xn),Zn=e=>{const{children:t,...n}=e;return r.createElement(Xn.Provider,{value:n},t)};var Kn=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Vn&&(t._proxyFormState[i]=!r||Vn),n&&(n[i]=!0),e[i]}});return i},Yn=e=>_n(e)&&!Object.keys(e).length,Jn=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return Yn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||Vn)))},Qn=e=>Array.isArray(e)?e:[e],er=(e,t,n)=>!e||!t||e===t||Qn(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function tr(e){const t=r.useRef(e);t.current=e,r.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var nr=e=>"string"==typeof e,rr=(e,t,n,r,i)=>nr(e)?(r&&t.watch.add(e),Sn(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),Sn(n,e)))):(r&&(t.watchAll=!0),n);function ir(e){const t=Gn(),{name:n,disabled:i,control:a=t.control,shouldUnregister:o}=e,s=xn(a._names.array,n),l=function(e){const t=Gn(),{control:n=t.control,name:i,defaultValue:a,disabled:o,exact:s}=e||{},l=r.useRef(i);l.current=i,tr({disabled:o,subject:n._subjects.values,next:e=>{er(l.current,e.name,s)&&c(On(rr(l.current,n._names,e.values||n._formValues,!1,a)))}});const[u,c]=r.useState(n._getWatch(i,a));return r.useEffect((()=>n._removeUnmounted())),u}({control:a,name:n,defaultValue:Sn(a._formValues,n,Sn(a._defaultValues,n,e.defaultValue)),exact:!0}),u=function(e){const t=Gn(),{control:n=t.control,disabled:i,name:a,exact:o}=e||{},[s,l]=r.useState(n._formState),u=r.useRef(!0),c=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=r.useRef(a);return d.current=a,tr({disabled:i,next:e=>u.current&&er(d.current,e.name,o)&&Jn(e,c.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),r.useEffect((()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1})),[n]),r.useMemo((()=>Kn(s,n,c.current,!1)),[s,n])}({control:a,name:n,exact:!0}),c=r.useRef(a.register(n,{...e.rules,value:l,...An(e.disabled)?{disabled:e.disabled}:{}})),d=r.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Sn(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Sn(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Sn(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Sn(u.validatingFields,n)},error:{enumerable:!0,get:()=>Sn(u.errors,n)}})),[u,n]),f=r.useMemo((()=>({name:n,value:l,...An(i)||u.disabled?{disabled:u.disabled||i}:{},onChange:e=>c.current.onChange({target:{value:wn(e),name:n},type:Nn}),onBlur:()=>c.current.onBlur({target:{value:Sn(a._formValues,n),name:n},type:Mn}),ref:e=>{const t=Sn(a._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}})),[n,a._formValues,i,u.disabled,l,a._fields]);return r.useEffect((()=>{const e=a._options.shouldUnregister||o,t=(e,t)=>{const n=Sn(a._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=On(Sn(a._options.defaultValues,n));In(a._defaultValues,n,e),Cn(Sn(a._formValues,n))&&In(a._formValues,n,e)}return!s&&a.register(n),()=>{(s?e&&!a._state.action:e)?a.unregister(n):t(n,!1)}}),[n,a,s,o]),r.useEffect((()=>{a._updateDisabledField({disabled:i,fields:a._fields,name:n})}),[i,n,a]),r.useMemo((()=>({field:f,formState:u,fieldState:d})),[f,u,d])}const ar=e=>e.render(ir(e));var or=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},sr=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},lr=(e,t,n={})=>n.shouldFocus||Cn(n.shouldFocus)?n.focusName||`${e}.${Cn(n.focusIndex)?t:n.focusIndex}.`:"",ur=e=>({isOnSubmit:!e||e===Fn,isOnBlur:e===$n,isOnChange:e===Rn,isOnAll:e===Vn,isOnTouch:e===Ln}),cr=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const dr=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Sn(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(dr(a,t))break}else if(_n(a)&&dr(a,t))break}}};var fr=(e,t,n)=>{const r=Qn(Sn(e,n));return In(r,"root",t[n]),In(e,n,r),e},pr=e=>"file"===e.type,hr=e=>"function"==typeof e,mr=e=>{if(!En)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vr=e=>nr(e),gr=e=>"radio"===e.type,br=e=>e instanceof RegExp;const yr={value:!1,isValid:!1},_r={value:!0,isValid:!0};var wr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Cn(e[0].attributes.value)?Cn(e[0].value)||""===e[0].value?_r:{value:e[0].value,isValid:!0}:_r:yr}return yr};const xr={isValid:!1,value:null};var Er=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),xr):xr;function Or(e,t,n="validate"){if(vr(e)||Array.isArray(e)&&e.every(vr)||An(e)&&!e)return{type:n,message:vr(e)?e:"",ref:t}}var Tr=e=>_n(e)&&!br(e)?e:{value:e,message:""},Cr=async(e,t,n,r,i,a)=>{const{ref:o,refs:s,required:l,maxLength:u,minLength:c,min:d,max:f,pattern:p,validate:h,name:m,valueAsNumber:v,mount:g}=e._f,b=Sn(n,m);if(!g||t.has(m))return{};const y=s?s[0]:o,_=e=>{i&&y.reportValidity&&(y.setCustomValidity(An(e)?"":e||""),y.reportValidity())},w={},x=gr(o),E=vn(o),O=x||E,T=(v||pr(o))&&Cn(o.value)&&Cn(b)||mr(o)&&""===o.value||""===b||Array.isArray(b)&&!b.length,C=or.bind(null,m,r,w),S=(e,t,n,r=Pn,i=Un)=>{const a=e?t:n;w[m]={type:e?r:i,message:a,ref:o,...C(e?r:i,a)}};if(a?!Array.isArray(b)||!b.length:l&&(!O&&(T||bn(b))||An(b)&&!b||E&&!wr(s).isValid||x&&!Er(s).isValid)){const{value:e,message:t}=vr(l)?{value:!!l,message:l}:Tr(l);if(e&&(w[m]={type:Hn,message:t,ref:y,...C(Hn,t)},!r))return _(t),w}if(!(T||bn(d)&&bn(f))){let e,t;const n=Tr(f),i=Tr(d);if(bn(b)||isNaN(b)){const r=o.valueAsDate||new Date(b),a=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;nr(n.value)&&b&&(e=s?a(b)>a(n.value):l?b>n.value:r>new Date(n.value)),nr(i.value)&&b&&(t=s?a(b)<a(i.value):l?b<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(b?+b:b);bn(n.value)||(e=r>n.value),bn(i.value)||(t=r<i.value)}if((e||t)&&(S(!!e,n.message,i.message,zn,Bn),!r))return _(w[m].message),w}if((u||c)&&!T&&(nr(b)||a&&Array.isArray(b))){const e=Tr(u),t=Tr(c),n=!bn(e.value)&&b.length>+e.value,i=!bn(t.value)&&b.length<+t.value;if((n||i)&&(S(n,e.message,t.message),!r))return _(w[m].message),w}if(p&&!T&&nr(b)){const{value:e,message:t}=Tr(p);if(br(e)&&!b.match(e)&&(w[m]={type:qn,message:t,ref:o,...C(qn,t)},!r))return _(t),w}if(h)if(hr(h)){const e=Or(await h(b,n),y);if(e&&(w[m]={...e,...C(Wn,e.message)},!r))return _(e.message),w}else if(_n(h)){let e={};for(const t in h){if(!Yn(e)&&!r)break;const i=Or(await h[t](b,n),y,t);i&&(e={...i,...C(t,i.message)},_(i.message),r&&(w[m]=e))}if(!Yn(e)&&(w[m]={ref:y,...e},!r))return w}return _(!0),w},Sr=(e,t)=>[...e,...Qn(t)],Ar=e=>Array.isArray(e)?e.map((()=>{})):void 0;function jr(e,t,n){return[...e.slice(0,t),...Qn(n),...e.slice(t)]}var Dr=(e,t,n)=>Array.isArray(e)?(Cn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Ir=(e,t)=>[...Qn(t),...Qn(e)];var Mr=(e,t)=>Cn(t)?[]:function(e,t){let n=0;const r=[...e];for(const e of t)r.splice(e-n,1),n++;return Tn(r).length?r:[]}(e,Qn(t).sort(((e,t)=>e-t))),kr=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function Nr(e,t){const n=Array.isArray(t)?t:jn(t)?[t]:Dn(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Cn(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(_n(r)&&Yn(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Cn(e[t]))return!1;return!0}(r))&&Nr(e,n.slice(0,-1)),e}var $r=(e,t,n)=>(e[t]=n,e);function Rr(e){const t=Gn(),{control:n=t.control,name:i,keyName:a="id",shouldUnregister:o,rules:s}=e,[l,u]=r.useState(n._getFieldArray(i)),c=r.useRef(n._getFieldArray(i).map(sr)),d=r.useRef(l),f=r.useRef(i),p=r.useRef(!1);f.current=i,d.current=l,n._names.array.add(i),s&&n.register(i,s),tr({next:({values:e,name:t})=>{if(t===f.current||!t){const t=Sn(e,f.current);Array.isArray(t)&&(u(t),c.current=t.map(sr))}},subject:n._subjects.array});const h=r.useCallback((e=>{p.current=!0,n._updateFieldArray(i,e)}),[n,i]);return r.useEffect((()=>{if(n._state.action=!1,cr(i,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!ur(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([i]).then((e=>{const t=Sn(e.errors,i),r=Sn(n._formState.errors,i);(r?!t&&r.type||t&&(r.type!==t.type||r.message!==t.message):t&&t.type)&&(t?In(n._formState.errors,i,t):Nr(n._formState.errors,i),n._subjects.state.next({errors:n._formState.errors}))}));else{const e=Sn(n._fields,i);!e||!e._f||ur(n._options.reValidateMode).isOnSubmit&&ur(n._options.mode).isOnSubmit||Cr(e,n._names.disabled,n._formValues,n._options.criteriaMode===Vn,n._options.shouldUseNativeValidation,!0).then((e=>!Yn(e)&&n._subjects.state.next({errors:fr(n._formState.errors,e,i)})))}n._subjects.values.next({name:i,values:{...n._formValues}}),n._names.focus&&dr(n._fields,((e,t)=>{if(n._names.focus&&t.startsWith(n._names.focus)&&e.focus)return e.focus(),1})),n._names.focus="",n._updateValid(),p.current=!1}),[l,i,n]),r.useEffect((()=>(!Sn(n._formValues,i)&&n._updateFieldArray(i),()=>{(n._options.shouldUnregister||o)&&n.unregister(i)})),[i,n,a,o]),{swap:r.useCallback(((e,t)=>{const r=n._getFieldArray(i);kr(r,e,t),kr(c.current,e,t),h(r),u(r),n._updateFieldArray(i,r,kr,{argA:e,argB:t},!1)}),[h,i,n]),move:r.useCallback(((e,t)=>{const r=n._getFieldArray(i);Dr(r,e,t),Dr(c.current,e,t),h(r),u(r),n._updateFieldArray(i,r,Dr,{argA:e,argB:t},!1)}),[h,i,n]),prepend:r.useCallback(((e,t)=>{const r=Qn(On(e)),a=Ir(n._getFieldArray(i),r);n._names.focus=lr(i,0,t),c.current=Ir(c.current,r.map(sr)),h(a),u(a),n._updateFieldArray(i,a,Ir,{argA:Ar(e)})}),[h,i,n]),append:r.useCallback(((e,t)=>{const r=Qn(On(e)),a=Sr(n._getFieldArray(i),r);n._names.focus=lr(i,a.length-1,t),c.current=Sr(c.current,r.map(sr)),h(a),u(a),n._updateFieldArray(i,a,Sr,{argA:Ar(e)})}),[h,i,n]),remove:r.useCallback((e=>{const t=Mr(n._getFieldArray(i),e);c.current=Mr(c.current,e),h(t),u(t),!Array.isArray(Sn(n._fields,i))&&In(n._fields,i,void 0),n._updateFieldArray(i,t,Mr,{argA:e})}),[h,i,n]),insert:r.useCallback(((e,t,r)=>{const a=Qn(On(t)),o=jr(n._getFieldArray(i),e,a);n._names.focus=lr(i,e,r),c.current=jr(c.current,e,a.map(sr)),h(o),u(o),n._updateFieldArray(i,o,jr,{argA:e,argB:Ar(t)})}),[h,i,n]),update:r.useCallback(((e,t)=>{const r=On(t),a=$r(n._getFieldArray(i),e,r);c.current=[...a].map(((t,n)=>t&&n!==e?c.current[n]:sr())),h(a),u([...a]),n._updateFieldArray(i,a,$r,{argA:e,argB:r},!0,!1)}),[h,i,n]),replace:r.useCallback((e=>{const t=Qn(On(e));c.current=t.map(sr),h([...t]),u([...t]),n._updateFieldArray(i,[...t],(e=>e),{},!0,!1)}),[h,i,n]),fields:r.useMemo((()=>l.map(((e,t)=>({...e,[a]:c.current[t]||sr()})))),[l,a])}}var Fr=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Lr=e=>bn(e)||!yn(e);function Vr(e,t){if(Lr(e)||Lr(t))return e===t;if(gn(e)&&gn(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(gn(n)&&gn(e)||_n(n)&&_n(e)||Array.isArray(n)&&Array.isArray(e)?!Vr(n,e):n!==e)return!1}}return!0}var zr=e=>"select-multiple"===e.type,Br=e=>mr(e)&&e.isConnected,Pr=e=>{for(const t in e)if(hr(e[t]))return!0;return!1};function Ur(e,t={}){const n=Array.isArray(e);if(_n(e)||n)for(const n in e)Array.isArray(e[n])||_n(e[n])&&!Pr(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ur(e[n],t[n])):bn(e[n])||(t[n]=!0);return t}function qr(e,t,n){const r=Array.isArray(e);if(_n(e)||r)for(const r in e)Array.isArray(e[r])||_n(e[r])&&!Pr(e[r])?Cn(t)||Lr(n[r])?n[r]=Array.isArray(e[r])?Ur(e[r],[]):{...Ur(e[r])}:qr(e[r],bn(t)?{}:t[r],n[r]):n[r]=!Vr(e[r],t[r]);return n}var Hr=(e,t)=>qr(e,t,Ur(t)),Wr=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Cn(e)?e:t?""===e?NaN:e?+e:e:n&&nr(e)?new Date(e):r?r(e):e;function Xr(e){const t=e.ref;return pr(t)?t.files:gr(t)?Er(e.refs).value:zr(t)?[...t.selectedOptions].map((({value:e})=>e)):vn(t)?wr(e.refs).value:Wr(Cn(t.value)?e.ref.value:t.value,e)}var Gr=e=>Cn(e)?e:br(e)?e.source:_n(e)?br(e.value)?e.value.source:e.value:e;const Zr="AsyncFunction";function Kr(e,t,n){const r=Sn(e,n);if(r||jn(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=Sn(t,r),o=Sn(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};i.pop()}return{name:n}}const Yr={mode:Fn,reValidateMode:Rn,shouldFocusError:!0};function Jr(e={}){let t,n={...Yr,...e},r={submitCount:0,isDirty:!1,isLoading:hr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(_n(n.defaultValues)||_n(n.values))&&On(n.defaultValues||n.values)||{},o=n.shouldUnregister?{}:On(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Fr(),array:Fr(),state:Fr()},f=ur(n.mode),p=ur(n.reValidateMode),h=n.criteriaMode===Vn,m=async e=>{if(!n.disabled&&(c.isValid||e)){const e=n.resolver?Yn((await _()).errors):await w(i,!0);e!==r.isValid&&d.state.next({isValid:e})}},v=(e,t)=>{n.disabled||!c.isValidating&&!c.validatingFields||((e||Array.from(l.mount)).forEach((e=>{e&&(t?In(r.validatingFields,e,t):Nr(r.validatingFields,e))})),d.state.next({validatingFields:r.validatingFields,isValidating:!Yn(r.validatingFields)}))},g=(e,t,n,r)=>{const l=Sn(i,e);if(l){const i=Sn(o,e,Cn(n)?Sn(a,e):n);Cn(i)||r&&r.defaultChecked||t?In(o,e,t?i:Xr(l._f)):O(e,i),s.mount&&m()}},b=(e,t,o,s,l)=>{let u=!1,f=!1;const p={name:e};if(!n.disabled){const n=!!(Sn(i,e)&&Sn(i,e)._f&&Sn(i,e)._f.disabled);if(!o||s){c.isDirty&&(f=r.isDirty,r.isDirty=p.isDirty=x(),u=f!==p.isDirty);const i=n||Vr(Sn(a,e),t);f=!(n||!Sn(r.dirtyFields,e)),i||n?Nr(r.dirtyFields,e):In(r.dirtyFields,e,!0),p.dirtyFields=r.dirtyFields,u=u||c.dirtyFields&&f!==!i}if(o){const t=Sn(r.touchedFields,e);t||(In(r.touchedFields,e,o),p.touchedFields=r.touchedFields,u=u||c.touchedFields&&t!==o)}u&&l&&d.state.next(p)}return u?p:{}},y=(e,i,a,o)=>{const s=Sn(r.errors,e),l=c.isValid&&An(i)&&r.isValid!==i;var f;if(n.delayError&&a?(f=()=>((e,t)=>{In(r.errors,e,t),d.state.next({errors:r.errors})})(e,a),t=e=>{clearTimeout(u),u=setTimeout(f,e)},t(n.delayError)):(clearTimeout(u),t=null,a?In(r.errors,e,a):Nr(r.errors,e)),(a?!Vr(s,a):s)||!Yn(o)||l){const t={...o,...l&&An(i)?{isValid:i}:{},errors:r.errors,name:e};r={...r,...t},d.state.next(t)}},_=async e=>{v(e,!0);const t=await n.resolver(o,n.context,((e,t,n,r)=>{const i={};for(const n of e){const e=Sn(t,n);e&&In(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return v(e),t},w=async(e,t,i={valid:!0})=>{for(const s in e){const u=e[s];if(u){const{_f:e,...d}=u;if(e){const d=l.array.has(e.name),f=u._f&&(!!(a=u._f)&&!!a.validate&&!!(hr(a.validate)&&a.validate.constructor.name===Zr||_n(a.validate)&&Object.values(a.validate).find((e=>e.constructor.name===Zr))));f&&c.validatingFields&&v([s],!0);const p=await Cr(u,l.disabled,o,h,n.shouldUseNativeValidation&&!t,d);if(f&&c.validatingFields&&v([s]),p[e.name]&&(i.valid=!1,t))break;!t&&(Sn(p,e.name)?d?fr(r.errors,p,e.name):In(r.errors,e.name,p[e.name]):Nr(r.errors,e.name))}!Yn(d)&&await w(d,t,i)}}var a;return i.valid},x=(e,t)=>!n.disabled&&(e&&t&&In(o,e,t),!Vr(D(),a)),E=(e,t,n)=>rr(e,l,{...s.mount?o:Cn(t)?a:nr(e)?{[e]:t}:t},n,t),O=(e,t,n={})=>{const r=Sn(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&In(o,e,Wr(t,n)),a=mr(n.ref)&&bn(t)?"":t,zr(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?vn(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):pr(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||d.values.next({name:e,values:{...o}})))}(n.shouldDirty||n.shouldTouch)&&b(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},T=(e,t,n)=>{for(const r in t){const a=t[r],o=`${e}.${r}`,s=Sn(i,o);(l.array.has(e)||_n(a)||s&&!s._f)&&!gn(a)?T(o,a,n):O(o,a,n)}},C=(e,t,n={})=>{const u=Sn(i,e),f=l.array.has(e),p=On(t);In(o,e,p),f?(d.array.next({name:e,values:{...o}}),(c.isDirty||c.dirtyFields)&&n.shouldDirty&&d.state.next({name:e,dirtyFields:Hr(a,o),isDirty:x(e,p)})):!u||u._f||bn(p)?O(e,p,n):T(e,p,n),cr(e,l)&&d.state.next({...r}),d.values.next({name:s.mount?e:void 0,values:{...o}})},S=async e=>{s.mount=!0;const a=e.target;let u=a.name,g=!0;const x=Sn(i,u),E=e=>{g=Number.isNaN(e)||gn(e)&&isNaN(e.getTime())||Vr(e,Sn(o,u,e))};if(x){let s,T;const C=a.type?Xr(x._f):wn(e),S=e.type===Mn||e.type===kn,A=!((O=x._f).mount&&(O.required||O.min||O.max||O.maxLength||O.minLength||O.pattern||O.validate)||n.resolver||Sn(r.errors,u)||x._f.deps)||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(S,Sn(r.touchedFields,u),r.isSubmitted,p,f),D=cr(u,l,S);In(o,u,C),S?(x._f.onBlur&&x._f.onBlur(e),t&&t(0)):x._f.onChange&&x._f.onChange(e);const I=b(u,C,S,!1),M=!Yn(I)||D;if(!S&&d.values.next({name:u,type:e.type,values:{...o}}),A)return c.isValid&&("onBlur"===n.mode&&S?m():S||m()),M&&d.state.next({name:u,...D?{}:I});if(!S&&D&&d.state.next({...r}),n.resolver){const{errors:e}=await _([u]);if(E(C),g){const t=Kr(r.errors,i,u),n=Kr(e,i,t.name||u);s=n.error,u=n.name,T=Yn(e)}}else v([u],!0),s=(await Cr(x,l.disabled,o,h,n.shouldUseNativeValidation))[u],v([u]),E(C),g&&(s?T=!1:c.isValid&&(T=await w(i,!0)));g&&(x._f.deps&&j(x._f.deps),y(u,T,s,I))}var O},A=(e,t)=>{if(Sn(r.errors,t)&&e.focus)return e.focus(),1},j=async(e,t={})=>{let a,o;const s=Qn(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await _(e);if(e)for(const n of e){const e=Sn(t,n);e?In(r.errors,n,e):Nr(r.errors,n)}else r.errors=t;return t})(Cn(e)?e:s);a=Yn(t),o=e?!s.some((e=>Sn(t,e))):a}else e?(o=(await Promise.all(s.map((async e=>{const t=Sn(i,e);return await w(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||r.isValid)&&m()):o=a=await w(i);return d.state.next({...!nr(e)||c.isValid&&a!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:a}:{},errors:r.errors}),t.shouldFocus&&!o&&dr(i,A,e?s:l.mount),o},D=e=>{const t={...s.mount?o:a};return Cn(e)?t:nr(e)?Sn(t,e):e.map((e=>Sn(t,e)))},I=(e,t)=>({invalid:!!Sn((t||r).errors,e),isDirty:!!Sn((t||r).dirtyFields,e),error:Sn((t||r).errors,e),isValidating:!!Sn(r.validatingFields,e),isTouched:!!Sn((t||r).touchedFields,e)}),M=(e,t,n)=>{const a=(Sn(i,e,{_f:{}})._f||{}).ref,o=Sn(r.errors,e)||{},{ref:s,message:l,type:u,...c}=o;In(r.errors,e,{...c,...t,ref:a}),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},k=(e,t={})=>{for(const s of e?Qn(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(Nr(i,s),Nr(o,s)),!t.keepError&&Nr(r.errors,s),!t.keepDirty&&Nr(r.dirtyFields,s),!t.keepTouched&&Nr(r.touchedFields,s),!t.keepIsValidating&&Nr(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&Nr(a,s);d.values.next({values:{...o}}),d.state.next({...r,...t.keepDirty?{isDirty:x()}:{}}),!t.keepIsValid&&m()},N=({disabled:e,name:t,field:n,fields:r})=>{(An(e)&&s.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t),b(t,Xr(n?n._f:Sn(r,t)._f),!1,!1,!0))},$=(e,t={})=>{let r=Sn(i,e);const o=An(t.disabled)||An(n.disabled);return In(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),r?N({field:r,disabled:An(t.disabled)?t.disabled:n.disabled,name:e}):g(e,!0,t.value),{...o?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:Gr(t.min),max:Gr(t.max),minLength:Gr(t.minLength),maxLength:Gr(t.maxLength),pattern:Gr(t.pattern)}:{},name:e,onChange:S,onBlur:S,ref:o=>{if(o){$(e,t),r=Sn(i,e);const n=Cn(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=(e=>gr(e)||vn(e))(n),l=r._f.refs||[];if(s?l.find((e=>e===n)):n===r._f.ref)return;In(i,e,{_f:{...r._f,...s?{refs:[...l.filter(Br),n,...Array.isArray(Sn(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),g(e,!1,void 0,n)}else r=Sn(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!xn(l.array,e)||!s.action)&&l.unMount.add(e)}}},R=()=>n.shouldFocusError&&dr(i,A,l.mount),F=(e,t)=>async a=>{let s;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let u=On(o);if(l.disabled.size)for(const e of l.disabled)In(u,e,void 0);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await _();r.errors=e,u=t}else await w(i);if(Nr(r.errors,"root"),Yn(r.errors)){d.state.next({errors:{}});try{await e(u,a)}catch(e){s=e}}else t&&await t({...r.errors},a),R(),setTimeout(R);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yn(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},L=(e,t={})=>{const u=e?On(e):a,f=On(u),p=Yn(e),h=p?a:f;if(t.keepDefaultValues||(a=u),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Hr(a,o))]);for(const t of Array.from(e))Sn(r.dirtyFields,t)?In(h,t,Sn(o,t)):C(t,Sn(h,t))}else{if(En&&Cn(e))for(const e of l.mount){const t=Sn(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(mr(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}o=n.shouldUnregister?t.keepDefaultValues?On(a):{}:On(h),d.array.next({values:{...h}}),d.values.next({values:{...h}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!t.keepIsValid||!!t.keepDirtyValues,s.watch=!!n.shouldUnregister,d.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!p&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||Vr(e,a))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&o?Hr(a,o):r.dirtyFields:t.keepDefaultValues&&e?Hr(a,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},V=(e,t)=>L(hr(e)?e(o):e,t);return{control:{register:$,unregister:k,getFieldState:I,handleSubmit:F,setError:M,_executeSchema:_,_getWatch:E,_getDirty:x,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=Sn(i,e);t&&(t._f.refs?t._f.refs.every((e=>!Br(e))):!Br(t._f.ref))&&k(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],l,u,f=!0,p=!0)=>{if(u&&l&&!n.disabled){if(s.action=!0,p&&Array.isArray(Sn(i,e))){const t=l(Sn(i,e),u.argA,u.argB);f&&In(i,e,t)}if(p&&Array.isArray(Sn(r.errors,e))){const t=l(Sn(r.errors,e),u.argA,u.argB);f&&In(r.errors,e,t),((e,t)=>{!Tn(Sn(e,t)).length&&Nr(e,t)})(r.errors,e)}if(c.touchedFields&&p&&Array.isArray(Sn(r.touchedFields,e))){const t=l(Sn(r.touchedFields,e),u.argA,u.argB);f&&In(r.touchedFields,e,t)}c.dirtyFields&&(r.dirtyFields=Hr(a,o)),d.state.next({name:e,isDirty:x(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else In(o,e,t)},_updateDisabledField:N,_getFieldArray:e=>Tn(Sn(s.mount?o:a,e,n.shouldUnregister?Sn(a,e,[]):[])),_reset:L,_resetDefaultValues:()=>hr(n.defaultValues)&&n.defaultValues().then((e=>{V(e,n.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{An(e)&&(d.state.next({disabled:e}),dr(i,((t,n)=>{const r=Sn(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:c,_setErrors:e=>{r.errors=e,d.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:j,register:$,handleSubmit:F,watch:(e,t)=>hr(e)?d.values.subscribe({next:n=>e(E(void 0,t),n)}):E(e,t,!0),setValue:C,getValues:D,reset:V,resetField:(e,t={})=>{Sn(i,e)&&(Cn(t.defaultValue)?C(e,On(Sn(a,e))):(C(e,t.defaultValue),In(a,e,On(t.defaultValue))),t.keepTouched||Nr(r.touchedFields,e),t.keepDirty||(Nr(r.dirtyFields,e),r.isDirty=t.defaultValue?x(e,On(Sn(a,e))):x()),t.keepError||(Nr(r.errors,e),c.isValid&&m()),d.state.next({...r}))},clearErrors:e=>{e&&Qn(e).forEach((e=>Nr(r.errors,e))),d.state.next({errors:e?r.errors:{}})},unregister:k,setError:M,setFocus:(e,t={})=>{const n=Sn(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&hr(e.select)&&e.select())}},getFieldState:I}}function Qr(e={}){const t=r.useRef(void 0),n=r.useRef(void 0),[i,a]=r.useState({isDirty:!1,isValidating:!1,isLoading:hr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:hr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Jr(e),formState:i});const o=t.current.control;return o._options=e,tr({subject:o._subjects.state,next:e=>{Jn(e,o._proxyFormState,o._updateFormState,!0)&&a({...o._formState})}}),r.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),r.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==i.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,i.isDirty]),r.useEffect((()=>{e.values&&!Vr(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,a((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),r.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),r.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),r.useEffect((()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})}),[e.shouldUnregister,o]),t.current.formState=Kn(i,o),t.current}const ei=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Sn(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},ti=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?ei(r.ref,n,e):r.refs&&r.refs.forEach((t=>ei(t,n,e)))}},ni=(e,t)=>{t.shouldUseNativeValidation&&ti(e,t);const n={};for(const r in e){const i=Sn(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(ri(t.names||Object.keys(e),r)){const e=Object.assign({},Sn(n,r));In(e,"root",a),In(n,r,e)}else In(n,r,a)}return n},ri=(e,t)=>e.some((e=>e.startsWith(t+".")));function ii(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,s){try{var l=(t.context&&"development"===process.env.NODE_ENV&&console.warn("You should not used the yup options context. Please, use the 'useForm' context object instead"),Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:i}))).then((function(e){return a.shouldUseNativeValidation&&ti({},a),{values:n.raw?r:e,errors:{}}})))}catch(e){return s(e)}return l&&l.then?l.then(void 0,s):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:ni((t=e,n=!a.shouldUseNativeValidation&&"all"===a.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,i=r&&r[t.type];e[t.path]=or(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e}),{})),a)};var t,n})))}catch(e){return Promise.reject(e)}}}var ai=Object.prototype;var oi=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ai)};var si=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),li=oi,ui=si,ci=Object.prototype.hasOwnProperty;var di=function(e){if(!li(e))return ui(e);var t=[];for(var n in Object(e))ci.call(e,n)&&"constructor"!=n&&t.push(n);return t},fi="object"==typeof Te&&Te&&Te.Object===Object&&Te,pi=fi,hi="object"==typeof self&&self&&self.Object===Object&&self,mi=pi||hi||Function("return this")(),vi=mi.Symbol,gi=vi,bi=Object.prototype,yi=bi.hasOwnProperty,_i=bi.toString,wi=gi?gi.toStringTag:void 0;var xi=function(e){var t=yi.call(e,wi),n=e[wi];try{e[wi]=void 0;var r=!0}catch(e){}var i=_i.call(e);return r&&(t?e[wi]=n:delete e[wi]),i},Ei=Object.prototype.toString;var Oi=xi,Ti=function(e){return Ei.call(e)},Ci=vi?vi.toStringTag:void 0;var Si=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ci&&Ci in Object(e)?Oi(e):Ti(e)};var Ai=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ji=Si,Di=Ai;var Ii,Mi=function(e){if(!Di(e))return!1;var t=ji(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ki=mi["__core-js_shared__"],Ni=(Ii=/[^.]+$/.exec(ki&&ki.keys&&ki.keys.IE_PROTO||""))?"Symbol(src)_1."+Ii:"";var $i=function(e){return!!Ni&&Ni in e},Ri=Function.prototype.toString;var Fi=function(e){if(null!=e){try{return Ri.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Li=Mi,Vi=$i,zi=Ai,Bi=Fi,Pi=/^\[object .+?Constructor\]$/,Ui=Function.prototype,qi=Object.prototype,Hi=Ui.toString,Wi=qi.hasOwnProperty,Xi=RegExp("^"+Hi.call(Wi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Gi=function(e,t){return null==e?void 0:e[t]},Zi=function(e){return!(!zi(e)||Vi(e))&&(Li(e)?Xi:Pi).test(Bi(e))},Ki=Gi;var Yi=function(e,t){var n=Ki(e,t);return Zi(n)?n:void 0},Ji=Yi(mi,"DataView"),Qi=Yi(mi,"Map"),ea=Yi(mi,"Promise"),ta=Yi(mi,"Set"),na=Yi(mi,"WeakMap"),ra=Si,ia=Fi,aa="[object Map]",oa="[object Promise]",sa="[object Set]",la="[object WeakMap]",ua="[object DataView]",ca=ia(Ji),da=ia(Qi),fa=ia(ea),pa=ia(ta),ha=ia(na),ma=ra;(Ji&&ma(new Ji(new ArrayBuffer(1)))!=ua||Qi&&ma(new Qi)!=aa||ea&&ma(ea.resolve())!=oa||ta&&ma(new ta)!=sa||na&&ma(new na)!=la)&&(ma=function(e){var t=ra(e),n="[object Object]"==t?e.constructor:void 0,r=n?ia(n):"";if(r)switch(r){case ca:return ua;case da:return aa;case fa:return oa;case pa:return sa;case ha:return la}return t});var va=ma;var ga=function(e){return null!=e&&"object"==typeof e},ba=Si,ya=ga;var _a=function(e){return ya(e)&&"[object Arguments]"==ba(e)},wa=ga,xa=Object.prototype,Ea=xa.hasOwnProperty,Oa=xa.propertyIsEnumerable,Ta=_a(function(){return arguments}())?_a:function(e){return wa(e)&&Ea.call(e,"callee")&&!Oa.call(e,"callee")},Ca=Array.isArray;var Sa=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Aa=Mi,ja=Sa;var Da=function(e){return null!=e&&ja(e.length)&&!Aa(e)},Ia={exports:{}};var Ma=function(){return!1};!function(e,t){var n=mi,r=Ma,i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||r;e.exports=s}(Ia,Ia.exports);var ka=Ia.exports,Na=Si,$a=Sa,Ra=ga,Fa={};Fa["[object Float32Array]"]=Fa["[object Float64Array]"]=Fa["[object Int8Array]"]=Fa["[object Int16Array]"]=Fa["[object Int32Array]"]=Fa["[object Uint8Array]"]=Fa["[object Uint8ClampedArray]"]=Fa["[object Uint16Array]"]=Fa["[object Uint32Array]"]=!0,Fa["[object Arguments]"]=Fa["[object Array]"]=Fa["[object ArrayBuffer]"]=Fa["[object Boolean]"]=Fa["[object DataView]"]=Fa["[object Date]"]=Fa["[object Error]"]=Fa["[object Function]"]=Fa["[object Map]"]=Fa["[object Number]"]=Fa["[object Object]"]=Fa["[object RegExp]"]=Fa["[object Set]"]=Fa["[object String]"]=Fa["[object WeakMap]"]=!1;var La=function(e){return Ra(e)&&$a(e.length)&&!!Fa[Na(e)]};var Va=function(e){return function(t){return e(t)}},za={exports:{}};!function(e,t){var n=fi,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o}(za,za.exports);var Ba=za.exports,Pa=La,Ua=Va,qa=Ba&&Ba.isTypedArray,Ha=qa?Ua(qa):Pa,Wa=di,Xa=va,Ga=Ta,Za=Ca,Ka=Da,Ya=ka,Ja=oi,Qa=Ha,eo=Object.prototype.hasOwnProperty;var to=Ce((function(e){if(null==e)return!0;if(Ka(e)&&(Za(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||Qa(e)||Ga(e)))return!e.length;var t=Xa(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Ja(e))return!Wa(e).length;for(var n in e)if(eo.call(e,n))return!1;return!0}));function no(e){this._maxSize=e,this.clear()}no.prototype.clear=function(){this._size=0,this._values=Object.create(null)},no.prototype.get=function(e){return this._values[e]},no.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var ro=/[^.^\]^[]+|(?=\[\]|\.\.)/g,io=/^\d+$/,ao=/^\d/,oo=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,so=/^\s*(['"]?)(.*?)(\1)\s*$/,lo=new no(512),uo=new no(512),co=new no(512),fo={Cache:no,split:ho,normalizePath:po,setter:function(e){var t=po(e);return uo.get(e)||uo.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=po(e);return co.get(e)||co.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(mo(t)||io.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(vo(r)&&(r='"'+r+'"'),a=!(o=mo(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:ho(e),t,n)}};function po(e){return lo.get(e)||lo.set(e,ho(e).map((function(e){return e.replace(so,"$2")})))}function ho(e){return e.match(ro)||[""]}function mo(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function vo(e){return!mo(e)&&(function(e){return e.match(ao)&&!e.match(io)}(e)||function(e){return oo.test(e)}(e))}const go=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,bo=e=>e.match(go)||[],yo=(e,t)=>bo(e).join(t).toLowerCase(),_o=e=>bo(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");var wo=_o,xo=e=>yo(e,"_"),Eo={exports:{}};function Oo(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||l(e[a],a,new Set);return r;function l(e,t,a){if(a.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var d=c[--t];l(d,s.get(d),a)}while(t);a.delete(e)}r[--n]=e}}}Eo.exports=function(e){return Oo(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},Eo.exports.array=Oo;var To=Ce(Eo.exports);const Co=Object.prototype.toString,So=Error.prototype.toString,Ao=RegExp.prototype.toString,jo="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",Do=/^Symbol\((.*)\)(.*)$/;function Io(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return jo.call(e).replace(Do,"Symbol($1)");const r=Co.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+So.call(e)+"]":"RegExp"===r?Ao.call(e):null}function Mo(e,t){let n=Io(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=Io(this[e],t);return null!==r?r:n}),2)}function ko(e){return null==e?[]:[].concat(e)}let No,$o,Ro,Fo=/\$\{\s*(\w+)\s*\}/g;No=Symbol.toStringTag;class Lo{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[No]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],ko(e).forEach((e=>{if(Vo.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}$o=Symbol.hasInstance,Ro=Symbol.toStringTag;class Vo extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),"string"==typeof e?e.replace(Fo,((e,n)=>Mo(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,i){const a=new Lo(e,t,n,r);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Ro]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vo)}static[$o](e){return Lo[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let zo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=null!=r&&r!==n?` (cast from the value \`${Mo(r,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${Mo(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Mo(n,!0)}\``+i}},Bo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Po={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Uo={isValue:"${path} field must be ${value}"},qo={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Ho={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Wo={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Mo(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Mo(n,!0)}\``}return Vo.formatError(zo.notType,e)}};Object.assign(Object.create(null),{mixed:zo,string:Bo,number:{min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date:Po,object:qo,array:Ho,boolean:Uo,tuple:Wo});const Xo=e=>e&&e.__isYupSchema__;class Go{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:i}=t,a="function"==typeof n?n:(...e)=>e.every((e=>e===n));return new Go(e,((e,t)=>{var n;let o=a(...e)?r:i;return null!=(n=null==o?void 0:o(t))?n:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!Xo(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const Zo="$",Ko=".";class Yo{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Zo,this.isValue=this.key[0]===Ko,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Zo:this.isValue?Ko:"";this.path=this.key.slice(n.length),this.getter=this.path&&fo.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Yo.prototype.__isYupRef=!0;const Jo=e=>null==e;function Qo(e){function t({value:t,path:n="",options:r,originalValue:i,schema:a},o,s){const{name:l,test:u,params:c,message:d,skipAbsent:f}=e;let{parent:p,context:h,abortEarly:m=a.spec.abortEarly,disableStackTrace:v=a.spec.disableStackTrace}=r;function g(e){return Yo.isRef(e)?e.getValue(t,p,h):e}function b(e={}){const r=Object.assign({value:t,originalValue:i,label:a.spec.label,path:e.path||n,spec:a.spec,disableStackTrace:e.disableStackTrace||v},c,e.params);for(const e of Object.keys(r))r[e]=g(r[e]);const o=new Vo(Vo.formatError(e.message||d,r),t,r.path,e.type||l,r.disableStackTrace);return o.params=r,o}const y=m?o:s;let _={path:n,parent:p,type:l,from:r.from,createError:b,resolve:g,options:r,originalValue:i,schema:a};const w=e=>{Vo.isError(e)?y(e):e?s(null):y(b())},x=e=>{Vo.isError(e)?y(e):o(e)};if(f&&Jo(t))return w(!0);let E;try{var O;if(E=u.call(_,t,_),"function"==typeof(null==(O=E)?void 0:O.then)){if(r.sync)throw new Error(`Validation test of type: "${_.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(w,x)}}catch(e){return void x(e)}w(E)}return t.OPTIONS=e,t}function es(e,t,n,r=n){let i,a,o;return t?(fo.forEach(t,((s,l,u)=>{let c=l?s.slice(1,s.length-1):s,d="tuple"===(e=e.resolve({context:r,parent:i,value:n})).type,f=u?parseInt(c,10):0;if(e.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=d?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);i=n,n=n&&n[c],e=e.fields[c]}a=c,o=l?"["+s+"]":"."+s})),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}class ts extends Set{describe(){const e=[];for(const t of this.values())e.push(Yo.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new ts(this.values())}merge(e,t){const n=this.clone();return e.forEach((e=>n.add(e))),t.forEach((e=>n.delete(e))),n}}function ns(e,t=new Map){if(Xo(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=ns(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,ns(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(ns(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=ns(i,t)}return n}class rs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ts,this._blacklist=new ts,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(zo.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=ns(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,i;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(i=e.disableStackTrace)?i:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,i=n._cast(e,t);if(!1!==t.assert&&!n.isType(i)){if(r&&Jo(i))return i;let a=Mo(e),o=Mo(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${a} \n`+(o!==a?`result of cast: ${o}`:""))}return i}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:i,originalValue:a=e,strict:o=this.spec.strict}=t,s=e;o||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:i,value:s,originalValue:a,options:t,tests:l},n,(e=>{if(e.length)return r(e,s);this.runTests({path:i,value:s,originalValue:a,options:t,tests:this.tests},n,r)}))}runTests(e,t,n){let r=!1,{tests:i,value:a,originalValue:o,path:s,options:l}=e,u=e=>{r||(r=!0,t(e,a))},c=e=>{r||(r=!0,n(e,a))},d=i.length,f=[];if(!d)return c([]);let p={value:a,originalValue:o,path:s,options:l,schema:this};for(let e=0;e<i.length;e++){(0,i[e])(p,u,(function(e){e&&(Array.isArray(e)?f.push(...e):f.push(e)),--d<=0&&c(f)}))}}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:i,options:a}){const o=null!=e?e:t;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const s="number"==typeof o;let l=n[o];const u=Object.assign({},a,{strict:!0,parent:n,value:l,originalValue:i[o],key:void 0,[s?"index":"key"]:o,path:s||o.includes(".")?`${r||""}[${s?o:`"${o}"`}]`:(r?`${r}.`:"")+e});return(e,t,n)=>this.resolve(u)._validate(l,u,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),i=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise(((n,a)=>r._validate(e,t,((e,t)=>{Vo.isError(e)&&(e.value=t),a(e)}),((e,t)=>{e.length?a(new Vo(e,t,void 0,void 0,i)):n(t)}))))}validateSync(e,t){var n;let r,i=this.resolve(Object.assign({},t,{value:e})),a=null!=(n=null==t?void 0:t.disableStackTrace)?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw Vo.isError(e)&&(e.value=t),e}),((t,n)=>{if(t.length)throw new Vo(t,e,void 0,void 0,a);r=n})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(Vo.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(Vo.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):ns(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Qo({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Qo({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=zo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=zo.notNull){return this.nullability(!1,e)}required(e=zo.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=zo.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Qo(t),i=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(i)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=ko(e).map((e=>new Yo(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"==typeof t?new Go(r,t):Go.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Qo({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=zo.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=Qo({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e,t=zo.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=Qo({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:i,nullable:a}=t.spec;return{meta:r,label:n,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))}}}rs.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])rs.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:a,schema:o}=es(this,t,n,r.context);return o[e](i&&i[a],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])rs.prototype[e]=rs.prototype.oneOf;for(const e of["not","nope"])rs.prototype[e]=rs.prototype.notOneOf;function is(){return new as}class as extends rs{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(e=Uo.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>Jo(e)||!0===e})}isFalse(e=Uo.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>Jo(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}is.prototype=as.prototype;const os=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ss(e){var t,n;const r=os.exec(e);return r?{year:ls(r[1]),month:ls(r[2],1)-1,day:ls(r[3],1),hour:ls(r[4]),minute:ls(r[5]),second:ls(r[6]),millisecond:r[7]?ls(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ls(r[10]),minuteOffset:ls(r[11])}:null}function ls(e,t=0){return Number(e)||t}let us=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cs=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,ds=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fs=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),ps=e=>Jo(e)||e===e.trim(),hs={}.toString();function ms(){return new vs}class vs extends rs{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===hs?e:r}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||zo.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=Bo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=Bo.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=Bo.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,i=!1;return t&&("object"==typeof t?({excludeEmptyString:i=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||Bo.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&i||-1!==t.search(e)})}email(e=Bo.email){return this.matches(us,{name:"email",message:e,excludeEmptyString:!0})}url(e=Bo.url){return this.matches(cs,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Bo.uuid){return this.matches(ds,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"==typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(fs,{name:"datetime",message:r||Bo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Bo.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=ss(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||Bo.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||null==n)return!0;const t=ss(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=Bo.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:ps})}lowercase(e=Bo.lowercase){return this.transform((e=>Jo(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Jo(e)||e===e.toLowerCase()})}uppercase(e=Bo.uppercase){return this.transform((e=>Jo(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Jo(e)||e===e.toUpperCase()})}}ms.prototype=vs.prototype;let gs=new Date("");class bs extends rs{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=ss(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?bs.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let n;if(Yo.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=Po.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e,t=Po.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function ys(e,t){let n=1/0;return e.some(((e,r)=>{var i;if(null!=(i=t.path)&&i.includes(e))return n=r,!0})),n}function _s(e){return(t,n)=>ys(e,t)-ys(e,n)}bs.INVALID_DATE=gs,bs.prototype;const ws=(e,t,n)=>{if("string"!=typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(e){}return n.isType(r)?r:e};function xs(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=xs(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=xs(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(xs)}):"optional"in e?e.optional():e}let Es=e=>"[object Object]"===Object.prototype.toString.call(e);function Os(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}const Ts=_s([]);function Cs(e){return new Ss(e)}class Ss extends rs{constructor(e){super({type:"object",check:e=>Es(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=Ts,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let i=this.fields,a=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(r).filter((e=>!this._nodes.includes(e)))),s={},l=Object.assign({},t,{parent:s,__validating:t.__validating||!1}),u=!1;for(const e of o){let n=i[e],o=e in r;if(n){let i,a=r[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:a,context:t.context,parent:s});let o=n instanceof rs?n.spec:void 0,c=null==o?void 0:o.strict;if(null!=o&&o.strip){u=u||e in r;continue}i=t.__validating&&c?r[e]:n.cast(r[e],l),void 0!==i&&(s[e]=i)}else o&&!a&&(s[e]=r[e]);o===e in s&&s[e]===r[e]||(u=!0)}return u?s:r}_validate(e,t={},n,r){let{from:i=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,((e,i)=>{if(!o||!Es(i))return void r(e,i);a=a||i;let s=[];for(let e of this._nodes){let n=this.fields[e];n&&!Yo.isRef(n)&&s.push(n.asNestedTest({options:t,key:e,parent:i,parentPath:t.path,originalParent:a}))}this.runTests({tests:s,value:i,originalValue:a,options:t},n,(t=>{r(t.sort(this._sortErrors).concat(e),i)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];n[e]=void 0===r?t:r}return t.withMutation((t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((n=>{var r;const i=this.fields[n];let a=e;null!=(r=a)&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(a):void 0})),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e,t=[]){let n=[],r=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function a(e,t){let a=fo.split(e)[0];r.add(a),i.has(`${t}-${a}`)||n.push([t,a])}for(const t of Object.keys(e)){let n=e[t];r.add(t),Yo.isRef(n)&&n.isSibling?a(n.path,t):Xo(n)&&"deps"in n&&n.deps.forEach((e=>a(e,t)))}return To.array(Array.from(r),n).reverse()}(e,t),n._sortErrors=_s(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation((n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)}))}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return xs(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter((([t,n])=>e.includes(t)&&e.includes(n))))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let r=fo.getter(e,!0);return this.transform((i=>{if(!i)return i;let a=i;return((e,t)=>{const n=[...fo.normalizePath(t)];if(1===n.length)return n[0]in e;let r=n.pop(),i=fo.getter(fo.join(n),!0)(e);return!(!i||!(r in i))})(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=r(i)),a}))}json(){return this.transform(ws)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||qo.exact,test(e){if(null==e)return!0;const t=Os(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=qo.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=Os(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=qo.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n}))}camelCase(){return this.transformKeys(wo)}snakeCase(){return this.transformKeys(xo)}constantCase(){return this.transformKeys((e=>xo(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,a]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[i]})),n.fields[i]=a.describe(t)}return n}}function As(e){return new js(e)}Cs.prototype=Ss.prototype;class js extends rs{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const i=n.map(((e,n)=>{const i=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${n}]`}));return i!==e&&(r=!0),i}));return r?i:n}_validate(e,t={},n,r){var i;let a=this.innerType,o=null!=(i=t.recursive)?i:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,((i,s)=>{var l;if(!o||!a||!this._typeCheck(s))return void r(i,s);let u=new Array(s.length);for(let n=0;n<s.length;n++){var c;u[n]=a.asNestedTest({options:t,index:n,parent:s,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:s,tests:u,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,(e=>r(e.concat(i),s)))}))}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(ws)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Xo(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Mo(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=Ho.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||Ho.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||Ho.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default((()=>[])).transform(((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t)))}compact(e){let t=e?(t,n,r)=>!e(t,n,r):e=>!!e;return this.transform((e=>null!=e?e.filter(t):e))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var r;let i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=t.innerType.describe(i)}return n}}function Ds(e,t,n){if(!e||!Xo(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof t)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n}As.prototype=js.prototype;const Is=e=>e.split("\n").filter((e=>!to(e))),Ms=e=>{const t=e.split("|").map((e=>e.trim()));return 2!==t.length||to(t[0])||to(t[1])?null:{label:t[0],value:t[1]}},ks=Cs().shape({items:ms().test("validate-format",'Incorrect format. Check that all labels and values are filled and separated with "|".',(e=>{if(to(e))return!0;return Is(e).every((e=>Ms(e)))}))}),Ns=x.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
    text-align: left;
`,$s=x($)`
    /* increase specificity as the styles are overwritten */
    && {
        height: 100%;
        overflow-y: auto;
    }
    cursor: pointer;
`,Rs=x.div`
    display: flex;
    justify-content: center;
    margin-top: 2rem;
    gap: 2rem;
`,Fs=x(F.Default)`
    width: 100%;
`,Ls=x(I.HeadingSM)`
    padding: 2rem 0 1rem 0;
`,Vs=({modal:n})=>{const{hideModal:r}=dn(),{type:i,onClickActionButton:a,optionsString:o}=n,s=Qr({mode:"onTouched",resolver:ii(ks),defaultValues:{items:o}}),l=s.formState.isValid,u=()=>{r(i)};return e(mn,Object.assign({type:null==n?void 0:n.type},{children:e(Zn,Object.assign({},s,{children:t("form",Object.assign({onSubmit:s.handleSubmit((e=>{a(e.items),r(i)}))},{children:[t(Ns,Object.assign({"data-testid":"bulk-edit-modal"},{children:[e(I.HeadingSM,Object.assign({weight:"semibold"},{children:"Bulk Edit"})),e(I.BodyBL,{children:"To add multiple entries at once, input each item on a new line, separating the label and value with a bar “|”."}),t(I.BodySM,{children:["Example:",e("br",{}),"Banana | banana",e("br",{}),"Green Apple | green-apple"]}),e(ar,{name:"items",control:s.control,render:({field:t})=>{var n,r;return e(R.Textarea,Object.assign({},t,{placeholder:"Enter label and value",value:t.value,onChange:e=>t.onChange(e.target.value),errorMessage:null===(r=null===(n=s.formState.errors)||void 0===n?void 0:n.items)||void 0===r?void 0:r.message}))}})]})),t(Rs,{children:[e(Fs,Object.assign({type:"button",onClick:u,styleType:"light"},{children:"Cancel"})),e(Fs,Object.assign({disabled:!l},{children:"Save"}))]})]}))}))}))},zs=({modal:n})=>{const{hideModal:r}=dn(),{type:i,onClickActionButton:a}=n,o=()=>{r(i)};return t(mn,Object.assign({type:null==n?void 0:n.type},{children:[e(L,{type:"confirmation",title:e(Ls,Object.assign({weight:"semibold"},{children:"Discard changes?"}))}),t(Rs,{children:[e(Fs,Object.assign({onClick:a},{children:"Discard changes"})),e(Fs,Object.assign({onClick:o,styleType:"light"},{children:"Keep editing"}))]})]}))},Bs=({modal:n})=>{const{onClickActionButton:r,onClose:i}=n;return t(mn,Object.assign({type:null==n?void 0:n.type,onClose:i},{children:[e(L,{type:"confirmation",description:"You've changed the element type. This will reset all fields to match the new element type.",title:e(Ls,Object.assign({weight:"semibold"},{children:"Reset all fields?"}))}),t(Rs,{children:[e(Fs,Object.assign({onClick:r},{children:"Reset all fields"})),e(Fs,Object.assign({onClick:i,styleType:"light"},{children:"Return to edit"}))]})]}))},Ps=()=>{const{modals:t}=dn();return e($s,Object.assign({show:!!(null==t?void 0:t.length)},{children:(t=>{if(null==t?void 0:t.type)switch(null==t?void 0:t.type){case Pt.DiscardChanges:return e(zs,{modal:t});case Pt.BulkEdit:return e(Vs,{modal:t});case Pt.ResetFields:return e(Bs,{modal:t});default:console.error("type given is not a modal type!")}})(t[0])}))};const Us="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function qs(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Hs(e){return"nodeType"in e}function Ws(e){var t,n;return e?qs(e)?e:Hs(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Xs(e){const{Document:t}=Ws(e);return e instanceof t}function Gs(e){return!qs(e)&&e instanceof Ws(e).HTMLElement}function Zs(e){return e instanceof Ws(e).SVGElement}function Ks(e){return e?qs(e)?e.document:Hs(e)?Xs(e)?e:Gs(e)||Zs(e)?e.ownerDocument:document:document:document}const Ys=Us?u:c;function Js(e){const t=d(e);return Ys((()=>{t.current=e})),l((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function Qs(e,t){void 0===t&&(t=[e]);const n=d(e);return Ys((()=>{n.current!==e&&(n.current=e)}),t),n}function el(e,t){const n=d();return i((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function tl(e){const t=Js(e),n=d(null),r=l((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}function nl(e){const t=d();return c((()=>{t.current=e}),[e]),t.current}let rl={};function il(e,t){return i((()=>{if(t)return t;const n=null==rl[e]?0:rl[e]+1;return rl[e]=n,e+"-"+n}),[e,t])}function al(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}const ol=al(1),sl=al(-1);function ll(e){if(!e)return!1;const{KeyboardEvent:t}=Ws(e.target);return t&&e instanceof t}function ul(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Ws(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const cl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[cl.Translate.toString(e),cl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),dl="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fl(e){return e.matches(dl)?e:e.querySelector(dl)}const pl={display:"none"};function hl(e){let{id:t,value:n}=e;return r.createElement("div",{id:t,style:pl},n)}function ml(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;return r.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":i,"aria-atomic":!0},n)}const vl=o(null);const gl={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},bl={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function yl(e){let{announcements:t=bl,container:n,hiddenTextDescribedById:a,screenReaderInstructions:o=gl}=e;const{announce:u,announcement:d}=function(){const[e,t]=f("");return{announce:l((e=>{null!=e&&t(e)}),[]),announcement:e}}(),p=il("DndLiveRegion"),[h,m]=f(!1);if(c((()=>{m(!0)}),[]),function(e){const t=s(vl);c((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}(i((()=>({onDragStart(e){let{active:n}=e;u(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&u(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;u(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;u(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;u(t.onDragCancel({active:n,over:r}))}})),[u,t])),!h)return null;const v=r.createElement(r.Fragment,null,r.createElement(hl,{id:a,value:o.draggable}),r.createElement(ml,{id:p,announcement:d}));return n?z(v,n):v}var _l;function wl(){}function xl(e,t){return i((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function El(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i((()=>[...t].filter((e=>null!=e))),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(_l||(_l={}));const Ol=Object.freeze({x:0,y:0});function Tl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Cl(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Sl(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Al(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function jl(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function Dl(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Il=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Dl(t,t.left,t.top),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Tl(Dl(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(Cl)},Ml=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Al(t),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Al(r),o=i.reduce(((e,t,r)=>e+Tl(n[r],t)),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(Cl)};function kl(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const n=t.width*t.height,r=e.width*e.height,i=o*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const Nl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const e of r){const{id:r}=e,a=n.get(r);if(a){const n=kl(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(Sl)};function $l(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ol}function Rl(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const Fl=Rl(1);const Ll={ignoreTransform:!1};function Vl(e,t){void 0===t&&(t=Ll);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Ws(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=e.left-o-(1-i)*parseFloat(n),u=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}(n,t,r))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function zl(e){return Vl(e,{ignoreTransform:!0})}function Bl(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(Xs(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Gs(i)||Zs(i))return n;if(n.includes(i))return n;const a=Ws(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=Ws(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(i,a)&&n.push(i),function(e,t){return void 0===t&&(t=Ws(e).getComputedStyle(e)),"fixed"===t.position}(i,a)?n:r(i.parentNode)}(e):n}function Pl(e){const[t]=Bl(e,1);return null!=t?t:null}function Ul(e){return Us&&e?qs(e)?e:Hs(e)?Xs(e)||e===Ks(e).scrollingElement?window:Gs(e)?e:null:null:null}function ql(e){return qs(e)?e.scrollX:e.scrollLeft}function Hl(e){return qs(e)?e.scrollY:e.scrollTop}function Wl(e){return{x:ql(e),y:Hl(e)}}var Xl;function Gl(e){return!(!Us||!e)&&e===document.scrollingElement}function Zl(e){const t={x:0,y:0},n=Gl(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Xl||(Xl={}));const Kl={x:.2,y:.2};function Yl(e,t,n,r,i){let{top:a,left:o,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=Kl);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=Zl(e),p={x:0,y:0},h={x:0,y:0},m=t.height*i.y,v=t.width*i.x;return!u&&a<=t.top+m?(p.y=Xl.Backward,h.y=r*Math.abs((t.top+m-a)/m)):!c&&l>=t.bottom-m&&(p.y=Xl.Forward,h.y=r*Math.abs((t.bottom-m-l)/m)),!f&&s>=t.right-v?(p.x=Xl.Forward,h.x=r*Math.abs((t.right-v-s)/v)):!d&&o<=t.left+v&&(p.x=Xl.Backward,h.x=r*Math.abs((t.left+v-o)/v)),{direction:p,speed:h}}function Jl(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Ql(e){return e.reduce(((e,t)=>ol(e,Wl(t))),Ol)}const eu=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+ql(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Hl(t)),0)}]];class tu{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Bl(t),r=Ql(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of eu)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class nu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function ru(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var iu,au;function ou(e){e.preventDefault()}function su(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(iu||(iu={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(au||(au={}));const lu={start:[au.Space,au.Enter],cancel:[au.Esc],end:[au.Space,au.Enter,au.Tab]},uu=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case au.Right:return{...n,x:n.x+25};case au.Left:return{...n,x:n.x-25};case au.Down:return{...n,y:n.y+25};case au.Up:return{...n,y:n.y-25}}};class cu{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new nu(Ks(t)),this.windowListeners=new nu(Ws(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(iu.Resize,this.handleCancel),this.windowListeners.add(iu.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(iu.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=Vl),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);Pl(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(Ol)}handleKeyDown(e){if(ll(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=lu,coordinateGetter:a=uu,scrollBehavior:o="smooth"}=r,{code:s}=e;if(i.end.includes(s))return void this.handleEnd(e);if(i.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:Ol;this.referenceCoordinates||(this.referenceCoordinates=u);const c=a(e,{active:t,context:n.current,currentCoordinates:u});if(c){const t=sl(c,u),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:a,isRight:s,isLeft:l,isBottom:u,maxScroll:d,minScroll:f}=Zl(n),p=Jl(n),h={x:Math.min(i===au.Right?p.right-p.width/2:p.right,Math.max(i===au.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(i===au.Down?p.bottom-p.height/2:p.bottom,Math.max(i===au.Down?p.top:p.top+p.height/2,c.y))},m=i===au.Right&&!s||i===au.Left&&!l,v=i===au.Down&&!u||i===au.Up&&!a;if(m&&h.x!==c.x){const e=n.scrollLeft+t.x,a=i===au.Right&&e<=d.x||i===au.Left&&e>=f.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=a?n.scrollLeft-e:i===au.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(v&&h.y!==c.y){const e=n.scrollTop+t.y,a=i===au.Down&&e<=d.y||i===au.Up&&e>=f.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=a?n.scrollTop-e:i===au.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,ol(sl(c,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function du(e){return Boolean(e&&"distance"in e)}function fu(e){return Boolean(e&&"delay"in e)}cu.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=lu,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class pu{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Ws(e);return e instanceof t?e:Ks(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=Ks(a),this.documentListeners=new nu(this.document),this.listeners=new nu(n),this.windowListeners=new nu(Ws(a)),this.initialCoordinates=null!=(r=ul(i))?r:Ol,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(iu.Resize,this.handleCancel),this.windowListeners.add(iu.DragStart,ou),this.windowListeners.add(iu.VisibilityChange,this.handleCancel),this.windowListeners.add(iu.ContextMenu,ou),this.documentListeners.add(iu.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fu(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(du(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(iu.Click,su,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(iu.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!r)return;const s=null!=(t=ul(e))?t:Ol,l=sl(r,s);if(!n&&o){if(du(o)){if(null!=o.tolerance&&ru(l,o.tolerance))return this.handleCancel();if(ru(l,o.distance))return this.handleStart()}return fu(o)&&ru(l,o.tolerance)?this.handleCancel():void this.handlePending(o,l)}e.cancelable&&e.preventDefault(),a(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===au.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const hu={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mu extends pu{constructor(e){const{event:t}=e,n=Ks(t.target);super(e,hu,n)}}mu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const vu={move:{name:"mousemove"},end:{name:"mouseup"}};var gu;!function(e){e[e.RightClick=2]="RightClick"}(gu||(gu={}));class bu extends pu{constructor(e){super(e,vu,Ks(e.event.target))}}bu.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==gu.RightClick&&(null==r||r({event:n}),!0)}}];const yu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class _u extends pu{constructor(e){super(e,yu)}static setup(){return window.addEventListener(yu.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(yu.move.name,e)};function e(){}}}var wu,xu;function Eu(e){let{acceleration:t,activator:n=wu.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:s=5,order:u=xu.TreeOrder,pointerCoordinates:f,scrollableAncestors:p,scrollableAncestorRects:h,delta:m,threshold:v}=e;const g=function(e){let{delta:t,disabled:n}=e;const r=nl(t);return el((e=>{if(n||!r||!e)return Ou;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Xl.Backward]:e.x[Xl.Backward]||-1===i.x,[Xl.Forward]:e.x[Xl.Forward]||1===i.x},y:{[Xl.Backward]:e.y[Xl.Backward]||-1===i.y,[Xl.Forward]:e.y[Xl.Forward]||1===i.y}}}),[n,t,r])}({delta:m,disabled:!o}),[b,y]=function(){const e=d(null);return[l(((t,n)=>{e.current=setInterval(t,n)}),[]),l((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),_=d({x:0,y:0}),w=d({x:0,y:0}),x=i((()=>{switch(n){case wu.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case wu.DraggableRect:return a}}),[n,a,f]),E=d(null),O=l((()=>{const e=E.current;if(!e)return;const t=_.current.x*w.current.x,n=_.current.y*w.current.y;e.scrollBy(t,n)}),[]),T=i((()=>u===xu.TreeOrder?[...p].reverse():p),[u,p]);c((()=>{if(o&&p.length&&x){for(const e of T){if(!1===(null==r?void 0:r(e)))continue;const n=p.indexOf(e),i=h[n];if(!i)continue;const{direction:a,speed:o}=Yl(e,i,x,t,v);for(const e of["x","y"])g[e][a[e]]||(o[e]=0,a[e]=0);if(o.x>0||o.y>0)return y(),E.current=e,b(O,s),_.current=o,void(w.current=a)}_.current={x:0,y:0},w.current={x:0,y:0},y()}else y()}),[t,O,r,y,o,s,JSON.stringify(x),JSON.stringify(g),b,p,T,h,JSON.stringify(v)])}_u.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(wu||(wu={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(xu||(xu={}));const Ou={x:{[Xl.Backward]:!1,[Xl.Forward]:!1},y:{[Xl.Backward]:!1,[Xl.Forward]:!1}};var Tu,Cu;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Tu||(Tu={})),function(e){e.Optimized="optimized"}(Cu||(Cu={}));const Su=new Map;function Au(e,t){return el((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function ju(e){let{callback:t,disabled:n}=e;const r=Js(t),a=i((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return c((()=>()=>null==a?void 0:a.disconnect()),[a]),a}function Du(e){return new tu(Vl(e),e)}function Iu(e,t,n){void 0===t&&(t=Du);const[r,a]=f(null);function o(){a((r=>{if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=r?r:n)?i:null;const a=t(e);return JSON.stringify(r)===JSON.stringify(a)?r:a}))}const s=function(e){let{callback:t,disabled:n}=e;const r=Js(t),a=i((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return c((()=>()=>null==a?void 0:a.disconnect()),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),l=ju({callback:o});return Ys((()=>{o(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())}),[e]),r}const Mu=[];function ku(e,t){void 0===t&&(t=[]);const n=d(null);return c((()=>{n.current=null}),t),c((()=>{const t=e!==Ol;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?sl(e,n.current):Ol}function Nu(e){return i((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const $u=[];function Ru(e){let{measure:t}=e;const[n,r]=f(null),a=l((e=>{for(const{target:n}of e)if(Gs(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t]),o=ju({callback:a}),s=l((e=>{const n=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Gs(t)?t:e}(e);null==o||o.disconnect(),n&&(null==o||o.observe(n)),r(n?t(n):null)}),[t,o]),[u,c]=tl(s);return i((()=>({nodeRef:u,rect:n,setRef:c})),[n,u,c])}const Fu=[{sensor:mu,options:{}},{sensor:cu,options:{}}],Lu={current:{}},Vu={draggable:{measure:zl},droppable:{measure:zl,strategy:Tu.WhileDragging,frequency:Cu.Optimized},dragOverlay:{measure:Vl}};class zu extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Bu={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vu,measureDroppableContainers:wl,windowRect:null,measuringScheduled:!1},Pu=o({activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wl,draggableNodes:new Map,over:null,measureDroppableContainers:wl}),Uu=o(Bu);function qu(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zu}}}function Hu(e,t){switch(t.type){case _l.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case _l.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case _l.DragEnd:case _l.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _l.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new zu(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case _l.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new zu(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case _l.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new zu(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Wu(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=s(Pu),a=nl(r),o=nl(null==n?void 0:n.id);return c((()=>{if(!t&&!r&&a&&null!=o){if(!ll(a))return;if(document.activeElement===a.target)return;const e=i.get(o);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=fl(e);if(t){t.focus();break}}}))}}),[r,t,i,o,a]),null}const Xu=o({...Ol,scaleX:1,scaleY:1});var Gu;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Gu||(Gu={}));const Zu=p((function(e){var t,n,o,s;let{id:u,accessibility:p,autoScroll:h=!0,children:m,sensors:v=Fu,collisionDetection:g=Nl,measuring:b,modifiers:y,..._}=e;const w=a(Hu,void 0,qu),[x,E]=w,[O,T]=function(){const[e]=f((()=>new Set)),t=l((t=>(e.add(t),()=>e.delete(t))),[e]);return[l((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[C,S]=f(Gu.Uninitialized),A=C===Gu.Initialized,{draggable:{active:j,nodes:D,translate:I},droppable:{containers:M}}=x,k=null!=j?D.get(j):null,N=d({initial:null,translated:null}),$=i((()=>{var e;return null!=j?{id:j,data:null!=(e=null==k?void 0:k.data)?e:Lu,rect:N}:null}),[j,k]),R=d(null),[F,L]=f(null),[z,B]=f(null),P=Qs(_,Object.values(_)),U=il("DndDescribedBy",u),q=i((()=>M.getEnabled()),[M]),H=i((()=>({draggable:{...Vu.draggable,...null==W?void 0:W.draggable},droppable:{...Vu.droppable,...null==W?void 0:W.droppable},dragOverlay:{...Vu.dragOverlay,...null==W?void 0:W.dragOverlay}})),[null==(W=b)?void 0:W.draggable,null==W?void 0:W.droppable,null==W?void 0:W.dragOverlay]);var W;const{droppableRects:X,measureDroppableContainers:G,measuringScheduled:Z}=function(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=f(null),{frequency:s,measure:u,strategy:p}=i,h=d(e),m=function(){switch(p){case Tu.Always:return!1;case Tu.BeforeDragging:return n;default:return!n}}(),v=Qs(m),g=l((function(e){void 0===e&&(e=[]),v.current||o((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[v]),b=d(null),y=el((t=>{if(m&&!n)return Su;if(!t||t===Su||h.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new tu(u(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,a,n,m,u]);return c((()=>{h.current=e}),[e]),c((()=>{m||g()}),[n,m]),c((()=>{a&&a.length>0&&o(null)}),[JSON.stringify(a)]),c((()=>{m||"number"!=typeof s||null!==b.current||(b.current=setTimeout((()=>{g(),b.current=null}),s))}),[s,m,g,...r]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:null!=a}}(q,{dragging:A,dependencies:[I.x,I.y],config:H.droppable}),K=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return el((e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(D,j),Y=i((()=>z?ul(z):null),[z]),J=function(){const e=!1===(null==F?void 0:F.autoScrollEnabled),t="object"==typeof h?!1===h.enabled:!1===h,n=A&&!e&&!t;if("object"==typeof h)return{...h,enabled:n};return{enabled:n}}(),Q=function(e,t){return Au(e,t)}(K,H.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=d(!1),{x:o,y:s}="boolean"==typeof i?{x:i,y:i}:i;Ys((()=>{if(!o&&!s||!t)return void(a.current=!1);if(a.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const i=$l(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const t=Pl(e);t&&t.scrollBy({top:i.y,left:i.x})}}),[t,o,s,r,n])}({activeNode:null!=j?D.get(j):null,config:J.layoutShiftCompensation,initialRect:Q,measure:H.draggable.measure});const ee=Iu(K,H.draggable.measure,Q),te=Iu(K?K.parentElement:null),ne=d({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),re=M.getNodeFor(null==(t=ne.current.over)?void 0:t.id),ie=Ru({measure:H.dragOverlay.measure}),ae=null!=(n=ie.nodeRef.current)?n:K,oe=A?null!=(o=ie.rect)?o:ee:null,se=Boolean(ie.nodeRef.current&&ie.rect),le=$l(ue=se?null:ee,Au(ue));var ue;const ce=Nu(ae?Ws(ae):null),de=function(e){const t=d(e),n=el((n=>e?n&&n!==Mu&&e&&t.current&&e.parentNode===t.current.parentNode?n:Bl(e):Mu),[e]);return c((()=>{t.current=e}),[e]),n}(A?null!=re?re:K:null),fe=function(e,t){void 0===t&&(t=Vl);const[n]=e,r=Nu(n?Ws(n):null),[i,a]=f($u);function o(){a((()=>e.length?e.map((e=>Gl(e)?r:new tu(t(e),e))):$u))}const s=ju({callback:o});return Ys((()=>{null==s||s.disconnect(),o(),e.forEach((e=>null==s?void 0:s.observe(e)))}),[e]),i}(de),pe=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(y,{transform:{x:I.x-le.x,y:I.y-le.y,scaleX:1,scaleY:1},activatorEvent:z,active:$,activeNodeRect:ee,containerNodeRect:te,draggingNodeRect:oe,over:ne.current.over,overlayNodeRect:ie.rect,scrollableAncestors:de,scrollableAncestorRects:fe,windowRect:ce}),he=Y?ol(Y,I):null,me=function(e){const[t,n]=f(null),r=d(e),a=l((e=>{const t=Ul(e.target);t&&n((e=>e?(e.set(t,Wl(t)),new Map(e)):null))}),[]);return c((()=>{const t=r.current;if(e!==t){i(t);const o=e.map((e=>{const t=Ul(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,Wl(t)]):null})).filter((e=>null!=e));n(o.length?new Map(o):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach((e=>{const t=Ul(e);null==t||t.removeEventListener("scroll",a)}))}}),[a,e]),i((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>ol(e,t)),Ol):Ql(e):Ol),[e,t])}(de),ve=ku(me),ge=ku(me,[ee]),be=ol(pe,ve),ye=oe?Fl(oe,pe):null,_e=$&&ye?g({active:$,collisionRect:ye,droppableRects:X,droppableContainers:q,pointerCoordinates:he}):null,we=jl(_e,"id"),[xe,Ee]=f(null),Oe=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(se?pe:ol(pe,ge),null!=(s=null==xe?void 0:xe.rect)?s:null,ee),Te=d(null),Ce=l(((e,t)=>{let{sensor:n,options:r}=t;if(null==R.current)return;const i=D.get(R.current);if(!i)return;const a=e.nativeEvent,o=new n({active:R.current,activeNode:i,event:a,options:r,context:ne,onAbort(e){if(!D.get(e))return;const{onDragAbort:t}=P.current,n={id:e};null==t||t(n),O({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!D.get(e))return;const{onDragPending:i}=P.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};null==i||i(a),O({type:"onDragPending",event:a})},onStart(e){const t=R.current;if(null==t)return;const n=D.get(t);if(!n)return;const{onDragStart:r}=P.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:N}};V((()=>{null==r||r(i),S(Gu.Initializing),E({type:_l.DragStart,initialCoordinates:e,active:t}),O({type:"onDragStart",event:i}),L(Te.current),B(a)}))},onMove(e){E({type:_l.DragMove,coordinates:e})},onEnd:s(_l.DragEnd),onCancel:s(_l.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=ne.current;let o=null;if(t&&i){const{cancelDrop:s}=P.current;if(o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===_l.DragEnd&&"function"==typeof s){await Promise.resolve(s(o))&&(e=_l.DragCancel)}}R.current=null,V((()=>{E({type:e}),S(Gu.Uninitialized),Ee(null),L(null),B(null),Te.current=null;const t=e===_l.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=P.current[t];null==e||e(o),O({type:t,event:o})}}))}}Te.current=o}),[D]),Se=l(((e,t)=>(n,r)=>{const i=n.nativeEvent,a=D.get(r);if(null!==R.current||!a||i.dndKit||i.defaultPrevented)return;const o={active:a};!0===e(n,t.options,o)&&(i.dndKit={capturedBy:t.sensor},R.current=r,Ce(n,t))}),[D,Ce]),Ae=function(e,t){return i((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(v,Se);!function(e){c((()=>{if(!Us)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(v),Ys((()=>{ee&&C===Gu.Initializing&&S(Gu.Initialized)}),[ee,C]),c((()=>{const{onDragMove:e}=P.current,{active:t,activatorEvent:n,collisions:r,over:i}=ne.current;if(!t||!n)return;const a={active:t,activatorEvent:n,collisions:r,delta:{x:be.x,y:be.y},over:i};V((()=>{null==e||e(a),O({type:"onDragMove",event:a})}))}),[be.x,be.y]),c((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=ne.current;if(!e||null==R.current||!t||!i)return;const{onDragOver:a}=P.current,o=r.get(we),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};V((()=>{Ee(s),null==a||a(l),O({type:"onDragOver",event:l})}))}),[we]),Ys((()=>{ne.current={activatorEvent:z,active:$,activeNode:K,collisionRect:ye,collisions:_e,droppableRects:X,draggableNodes:D,draggingNode:ae,draggingNodeRect:oe,droppableContainers:M,over:xe,scrollableAncestors:de,scrollAdjustedTranslate:be},N.current={initial:oe,translated:ye}}),[$,K,_e,ye,D,ae,oe,X,M,xe,de,be]),Eu({...J,delta:I,draggingRect:ye,pointerCoordinates:he,scrollableAncestors:de,scrollableAncestorRects:fe});const je=i((()=>({active:$,activeNode:K,activeNodeRect:ee,activatorEvent:z,collisions:_e,containerNodeRect:te,dragOverlay:ie,draggableNodes:D,droppableContainers:M,droppableRects:X,over:xe,measureDroppableContainers:G,scrollableAncestors:de,scrollableAncestorRects:fe,measuringConfiguration:H,measuringScheduled:Z,windowRect:ce})),[$,K,ee,z,_e,te,ie,D,M,X,xe,G,de,fe,H,Z,ce]),De=i((()=>({activatorEvent:z,activators:Ae,active:$,activeNodeRect:ee,ariaDescribedById:{draggable:U},dispatch:E,draggableNodes:D,over:xe,measureDroppableContainers:G})),[z,Ae,$,ee,E,U,D,xe,G]);return r.createElement(vl.Provider,{value:T},r.createElement(Pu.Provider,{value:De},r.createElement(Uu.Provider,{value:je},r.createElement(Xu.Provider,{value:Oe},m)),r.createElement(Wu,{disabled:!1===(null==p?void 0:p.restoreFocus)})),r.createElement(yl,{...p,hiddenTextDescribedById:U}))})),Ku=o(null),Yu="button";function Ju(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const o=il("Draggable"),{activators:l,activatorEvent:u,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:h}=s(Pu),{role:m=Yu,roleDescription:v="draggable",tabIndex:g=0}=null!=a?a:{},b=(null==c?void 0:c.id)===t,y=s(b?Xu:Ku),[_,w]=tl(),[x,E]=tl(),O=function(e,t){return i((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(l,t),T=Qs(n);Ys((()=>(p.set(t,{id:t,key:o,node:_,activatorNode:x,data:T}),()=>{const e=p.get(t);e&&e.key===o&&p.delete(t)})),[p,t]);return{active:c,activatorEvent:u,activeNodeRect:d,attributes:i((()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":!(!b||m!==Yu)||void 0,"aria-roledescription":v,"aria-describedby":f.draggable})),[r,m,g,b,v,f.draggable]),isDragging:b,listeners:r?void 0:O,node:_,over:h,setNodeRef:w,setActivatorNodeRef:E,transform:y}}const Qu={timeout:25};function ec(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=il("Droppable"),{active:o,dispatch:u,over:f,measureDroppableContainers:p}=s(Pu),h=d({disabled:n}),m=d(!1),v=d(null),g=d(null),{disabled:b,updateMeasurementsFor:y,timeout:_}={...Qu,...i},w=Qs(null!=y?y:r),x=ju({callback:l((()=>{m.current?(null!=g.current&&clearTimeout(g.current),g.current=setTimeout((()=>{p(Array.isArray(w.current)?w.current:[w.current]),g.current=null}),_)):m.current=!0}),[_]),disabled:b||!o}),E=l(((e,t)=>{x&&(t&&(x.unobserve(t),m.current=!1),e&&x.observe(e))}),[x]),[O,T]=tl(E),C=Qs(t);return c((()=>{x&&O.current&&(x.disconnect(),m.current=!1,x.observe(O.current))}),[O,x]),c((()=>(u({type:_l.RegisterDroppable,element:{id:r,key:a,disabled:n,node:O,rect:v,data:C}}),()=>u({type:_l.UnregisterDroppable,key:a,id:r}))),[r]),c((()=>{n!==h.current.disabled&&(u({type:_l.SetDroppableDisabled,id:r,key:a,disabled:n}),h.current.disabled=n)}),[r,a,n,u]),{active:o,rect:v,isOver:(null==f?void 0:f.id)===r,node:O,over:f,setNodeRef:T}}function tc(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function nc(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function rc(e){return null!==e&&e>=0}const ic=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=tc(t,r,n),o=t[i],s=a[i];return s&&o?{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}:null},ac={scaleX:1,scaleY:1},oc=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=null!=(t=a[n])?t:r;if(!s)return null;if(i===n){const e=a[o];return e?{x:0,y:n<o?e.top+e.height-(s.top+s.height):e.top-s.top,...ac}:null}const l=function(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0;return a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-l,...ac}:i<n&&i>=o?{x:0,y:s.height+l,...ac}:{x:0,y:0,...ac}};const sc="Sortable",lc=r.createContext({activeIndex:-1,containerId:sc,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ic,disabled:{draggable:!1,droppable:!1}});function uc(e){let{children:t,id:n,items:a,strategy:o=ic,disabled:l=!1}=e;const{active:u,dragOverlay:f,droppableRects:p,over:h,measureDroppableContainers:m}=s(Uu),v=il(sc,n),g=Boolean(null!==f.rect),b=i((()=>a.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[a]),y=null!=u,_=u?b.indexOf(u.id):-1,w=h?b.indexOf(h.id):-1,x=d(b),E=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(b,x.current),O=-1!==w&&-1===_||E,T=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(l);Ys((()=>{E&&y&&m(b)}),[E,b,y,m]),c((()=>{x.current=b}),[b]);const C=i((()=>({activeIndex:_,containerId:v,disabled:T,disableTransforms:O,items:b,overIndex:w,useDragOverlay:g,sortedRects:nc(b,p),strategy:o})),[_,v,T.draggable,T.droppable,O,b,w,p,g,o]);return r.createElement(lc.Provider,{value:C},t)}const cc=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return tc(n,r,i).indexOf(t)},dc=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:u}=e;return!(!u||!r)&&((s===a||i!==o)&&(!!n||o!==i&&t===l))},fc={duration:200,easing:"ease"},pc="transform",hc=cl.Transition.toString({property:pc,duration:0,easing:"linear"}),mc={roleDescription:"sortable"};function vc(e){let{animateLayoutChanges:t=dc,attributes:n,disabled:r,data:a,getNewIndex:o=cc,id:l,strategy:u,resizeObserverConfig:p,transition:h=fc}=e;const{items:m,containerId:v,activeIndex:g,disabled:b,disableTransforms:y,sortedRects:_,overIndex:w,useDragOverlay:x,strategy:E}=s(lc),O=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,b),T=m.indexOf(l),C=i((()=>({sortable:{containerId:v,index:T,items:m},...a})),[v,a,T,m]),S=i((()=>m.slice(m.indexOf(l))),[m,l]),{rect:A,node:j,isOver:D,setNodeRef:I}=ec({id:l,data:C,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...p}}),{active:M,activatorEvent:k,activeNodeRect:N,attributes:$,setNodeRef:R,listeners:F,isDragging:L,over:V,setActivatorNodeRef:z,transform:B}=Ju({id:l,data:C,attributes:{...mc,...n},disabled:O.draggable}),P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i((()=>e=>{t.forEach((t=>t(e)))}),t)}(I,R),U=Boolean(M),q=U&&!y&&rc(g)&&rc(w),H=!x&&L,W=H&&q?B:null,X=q?null!=W?W:(null!=u?u:E)({rects:_,activeNodeRect:N,activeIndex:g,overIndex:w,index:T}):null,G=rc(g)&&rc(w)?o({id:l,items:m,activeIndex:g,overIndex:w}):T,Z=null==M?void 0:M.id,K=d({activeId:Z,items:m,newIndex:G,containerId:v}),Y=m!==K.current.items,J=t({active:M,containerId:v,isDragging:L,isSorting:U,id:l,index:T,items:m,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:h,wasDragging:null!=K.current.activeId}),Q=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=f(null),s=d(n);return Ys((()=>{if(!t&&n!==s.current&&r.current){const e=i.current;if(e){const t=Vl(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)}),[t,n,r,i]),c((()=>{a&&o(null)}),[a]),a}({disabled:!J,index:T,node:j,rect:A});return c((()=>{U&&K.current.newIndex!==G&&(K.current.newIndex=G),v!==K.current.containerId&&(K.current.containerId=v),m!==K.current.items&&(K.current.items=m)}),[U,G,v,m]),c((()=>{if(Z===K.current.activeId)return;if(Z&&!K.current.activeId)return void(K.current.activeId=Z);const e=setTimeout((()=>{K.current.activeId=Z}),50);return()=>clearTimeout(e)}),[Z]),{active:M,activeIndex:g,attributes:$,data:C,rect:A,index:T,newIndex:G,items:m,isOver:D,isSorting:U,isDragging:L,listeners:F,node:j,overIndex:w,over:V,setNodeRef:P,setActivatorNodeRef:z,setDroppableNodeRef:I,setDraggableNodeRef:R,transform:null!=Q?Q:X,transition:function(){if(Q||Y&&K.current.newIndex===T)return hc;if(H&&!ll(k)||!h)return;if(U||J)return cl.Transition.toString({...h,property:pc});return}()}}function gc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const bc=[au.Down,au.Right,au.Up,au.Left],yc=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(bc.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];a.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const a=i.get(n.id);if(a)switch(e.code){case au.Down:r.top<a.top&&t.push(n);break;case au.Up:r.top>a.top&&t.push(n);break;case au.Left:r.left>a.left&&t.push(n);break;case au.Right:r.left<a.left&&t.push(n)}}));const l=Ml({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null});let u=jl(l,"id");if(u===(null==o?void 0:o.id)&&l.length>1&&(u=l[1].id),null!=u){const e=a.get(n.id),t=a.get(u),o=t?i.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&o&&e&&t){const n=Bl(l).some(((e,t)=>s[t]!==e)),i=_c(e,t),a=function(e,t){if(!gc(e)||!gc(t))return!1;if(!_c(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),u=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},c={x:o.left,y:o.top};return u.x&&u.y?c:sl(c,u)}}}};function _c(e,t){return!(!gc(e)||!gc(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const wc={expanded:{right:{default:"4 / span 3","2xl":"5 / span 4",xl:"4 / span 3"},left:{default:"1 / span 3","2xl":"1 / span 4",xl:"1 / span 3"},full:{default:"1 / span 6","2xl":"1 / span 8",xl:"1 / span 6"}},minimised:{right:{default:"4 / span 3",xl:"3 / span 2"},left:{default:"1 / span 3",xl:"1 / span 2"},full:{default:"1 / span 6",xl:"1 / span 4"}}},xc=(e,t="expanded")=>{return n=wc[t][e],E`
    ${Object.entries(n).map((([e,t])=>{switch(e){case"2xl":return E`
                    ${be["2xl"]} {
                        grid-column: ${t};
                    }
                `;case"xl":return E`
                    ${y.MaxWidth[e]} {
                        grid-column: ${t};
                    }
                `;default:return E`
                    grid-column: ${t};
                `}}))}
`;var n},Ec=x(B)`
    display: none;
    transition: width ${_["duration-150"]} ease-out;
    min-width: 1.25rem;

    svg {
        height: 1.25rem;
        width: 1.25rem;
    }
`,Oc=x.div`
    display: flex;
    align-items: center;
    width: 100%;
    gap: 1rem;
    flex: 1;
    height: 3.125rem;
    &:hover ${Ec} {
        display: block;
    }
`,Tc=x.div`
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    gap: 0.25rem;
    overflow: hidden;
`;x(I.BodyBL)`
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`;const Cc=x(I.BodyXS)`
    color: ${g["text-subtler"]};
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`,Sc=x.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,Ac=x.button`
    background: transparent;
    cursor: pointer;
    padding: 1rem 0;
    border: none;
    gap: 0.25rem;
    display: flex;
    align-items: center;
    ${w["body-xs-semibold"]}

    svg {
        height: 1rem;
        width: 1rem;
    }

    ${({$disabled:e})=>e?E`
                color: ${g["text-disabled"]};
                cursor: not-allowed;
            `:E`
                color: ${g["text-primary"]};

                :hover {
                    color: ${g["text-hover"]};
                }
            `}
`,jc=x.div`
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: auto;
    width: 100%;
    padding: 0.4rem;
    gap: 0.25rem;
    ${v.Util.solid({thickness:v["width-010"],colour:"transparent"})};
    z-index: -1;

    ${({$size:e})=>xc(e)}

    ${({isOver:e})=>e&&E`
            ${v.Util["dashed-default"]({thickness:v["width-010"],colour:g["border-primary"],radius:b.sm})};
            background-color: ${g["bg-hover-subtle"]};
        `}

    svg {
        color: ${g["icon-primary"]};
        height: 2.08rem;
        width: 2.08rem;
    }
`,Dc=x(I.BodyMD)`
    color: ${g["text-primary"]};
    text-align: center;
`,Ic=x(ne)`
    cursor: ${({$isDragging:e})=>e?"grabbing":"pointer"};
`,Mc=x.div`
    position: relative;
`,kc=({element:n,onClick:r})=>{const{label:i,id:a,type:o}=n||{},s=Mt(a,o),{focusedElement:l,deleteElement:u,duplicateElement:c,orderedIdentifiers:d}=At(),{showToast:f}=zt(),{isDragging:p}=Ju({id:null==n?void 0:n.internalId,disabled:s}),{attributes:h,listeners:m,setNodeRef:v,transform:g,transition:b}=vc({id:null==n?void 0:n.internalId,disabled:s}),{isOver:y,setNodeRef:_}=ec({id:null==n?void 0:n.internalId}),w=d.find((e=>{if(e.internalId===(null==n?void 0:n.internalId))return e.size})),x=S(),E=S()&&(null==l?void 0:l.isDirty),O={transform:cl.Translate.toString(g),transition:b,opacity:p?"70%":"100%",background:p?"white":"inherit",gap:p?"1rem":"inherit",width:"100%",position:"relative",zIndex:p?1:"auto"},T=Object.assign(Object.assign({style:O},h),m),C=Nt("id",pe[n.type]);function S(){var e;return l&&(null===(e=null==l?void 0:l.element)||void 0===e?void 0:e.internalId)===(null==n?void 0:n.internalId)}const A=y?t(jc,Object.assign({isOver:y,$size:null==w?void 0:w.size},{children:[e(P,{}),e(Dc,Object.assign({weight:"semibold"},{children:"Drop your element here"}))]})):null;return t(Mc,Object.assign({ref:_},{children:[A,e("div",Object.assign({ref:v},T,{children:e(Ic,Object.assign({onClick:r,focused:x,id:null==n?void 0:n.internalId,$isDragging:p},{children:t(Oc,Object.assign({"data-testid":"card"+(null==n?void 0:n.internalId)},{children:[!s&&e(Ec,{"data-testid":"drag-handle"}),e(Kt,{elementType:null==n?void 0:n.type}),t(Tc,{children:[e(I.BodyBL,Object.assign({weight:"semibold"},{children:i})),C&&t(Cc,Object.assign({weight:"semibold"},{children:["ID: ",a]}))]}),x&&!s&&t(Sc,{children:[t(Ac,Object.assign({"data-testid":"delete-button",type:"button",onClick:e=>{e.stopPropagation();const t={message:"Element duplicated.",type:Bt.SUCCESS_TOAST};c(l.element),f(t)},$disabled:E,disabled:E},{children:[e(q,{}),"full"===(null==w?void 0:w.size)&&"Duplicate"]})),t(Ac,Object.assign({"data-testid":"duplicate-button",type:"button",onClick:e=>{e.stopPropagation(),u(n.internalId);const t={message:"Element deleted.",type:Bt.DELETE_ELEMENT_TOAST,elementInternalId:n.internalId};f(t)}},{children:[e(j,{}),"full"===(null==w?void 0:w.size)&&"Delete"]}))]})]}))}))}))]}))},Nc=x.div`
    padding: 0 1rem 0 1rem;
    margin: 2rem 0 1rem 0;
`,$c=x(M.Item)`
    border-top: ${({$hideTopBorder:e})=>e?`${v["width-010"]} ${v.solid} ${g.border};`:"0"};

    margin-top: ${({$hideTopBorder:e})=>e?"0":"-1rem"};

    #content-container {
        padding: 0;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hideTopBorder:e})=>e?"1rem 0 1rem 1rem":"0 0 0 1rem"};
    }

    [data-testid="accordion-item-expandable-container"] {
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin: ${({$hideTopBorder:e})=>e?"0 0.1rem 0 1rem":"0 0.1rem 0 0"};
    }
`,Rc=x(M)`
    & > div:first-child {
        display: none;
    }
`,Fc=x.div`
    background: rgba(248, 248, 248, 1);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    margin-bottom: 2rem;
`,Lc=x(R.Textarea)`
    min-height: 40px;
    overflow: hidden;
`,Vc=()=>{const{control:t,formState:{errors:n}}=Gn(),{focusedElement:r}=At(),i=Mt(r.element.id,r.element.type),a=kt(r,"description"),o=i||a;return e(ar,{name:"description",control:t,render:({field:t})=>{var r;return e(Lc,Object.assign({disabled:o},t,{"data-testid":"description-field",label:{children:"Description text (optional)",subtitle:e(I.BodySM,{children:"This displays as a description under the label."})},placeholder:"Enter description text",rows:1,onChange:e=>((e,t)=>{t.onChange(e.target.value),e.target.style.height="auto",e.target.style.height=`${Math.max(40,e.target.scrollHeight)}px`})(e,t),errorMessage:null===(r=n.description)||void 0===r?void 0:r.message,maxLength:180}))}})},zc=()=>{var t,n;const{control:r,formState:{errors:i}}=Gn(),{focusedElement:a}=At(),o=Mt(null===(t=null==a?void 0:a.element)||void 0===t?void 0:t.id,null===(n=null==a?void 0:a.element)||void 0===n?void 0:n.type),s=kt(a,"id"),l=o||s;return e(ar,{name:"id",control:r,render:({field:t})=>{var n;return e(R.Input,Object.assign({disabled:l},t,{"data-testid":"id-field",label:{children:"ID",subtitle:e(I.BodySM,{children:"ID is used to differentiate element from the others in the UI schema."})},placeholder:"Create an ID",value:t.value||"",errorMessage:null===(n=i.id)||void 0===n?void 0:n.message}))}})},Bc=()=>{var t,n;const{control:r,formState:{errors:i}}=Gn(),{focusedElement:a}=At(),o=Mt(null===(t=null==a?void 0:a.element)||void 0===t?void 0:t.id,null===(n=null==a?void 0:a.element)||void 0===n?void 0:n.type),s=kt(a,"label"),l=o||s;return e(ar,{name:"label",control:r,render:({field:t})=>{var n;return e(R.Textarea,Object.assign({disabled:l},t,{"data-testid":"label-field",label:"Element Name",rows:1,placeholder:"Enter element name",errorMessage:null===(n=i.label)||void 0===n?void 0:n.message,maxLength:40}))}})},Pc=x.div`
    display: flex;
    gap: 2rem;
    justify-content: start;
`,Uc=x.div`
    &:not(:last-child) {
        margin-bottom: 2rem;
    }
`,qc=x(H)`
    label {
        gap: 0.5rem;
        display: flex;
    }
`,Hc=({onChange:n,value:r,label:i,options:a,disabled:o})=>{var s,l,u,c;const d=e=>{n(e)};return t(Uc,{children:[e(R.Label,Object.assign({subtitle:e(I.BodySM,{children:null==i?void 0:i.subLabel})},{children:null==i?void 0:i.mainLabel})),t(Pc,{children:[t(qc,Object.assign({disabled:o,type:"yes",checked:!0===r,onChange:()=>d(!0),indicator:!a},{children:[null===(s=null==a?void 0:a[0])||void 0===s?void 0:s.icon,(null===(l=null==a?void 0:a[0])||void 0===l?void 0:l.title)||"Yes"]})),t(qc,Object.assign({disabled:o,type:"no",checked:!1===r,onChange:()=>d(!1),indicator:!a},{children:[null===(u=null==a?void 0:a[1])||void 0===u?void 0:u.icon,(null===(c=null==a?void 0:a[1])||void 0===c?void 0:c.title)||"No"]}))]})]})},Wc=()=>{const{focusedElement:n}=At(),{control:r,formState:{errors:i},watch:a,resetField:o}=Gn(),s=Mt(n.element.id,n.element.type);return t(Fc,{children:[e(ar,{name:"required",control:r,render:({field:t})=>e(Hc,{disabled:s,label:{mainLabel:"Mandatory field"},value:t.value,onChange:e=>{e&&setTimeout((()=>{o("requiredErrorMsg",{defaultValue:n.element.requiredErrorMsg})})),t.onChange(e)}})}),a("required",!0)&&e(ar,{name:"requiredErrorMsg",control:r,render:({field:t})=>{var n;return e(R.Input,Object.assign({disabled:s},t,{"data-testid":"required-error-message-field",label:"Error message",value:t.value||"",placeholder:"Enter error message",errorMessage:null===(n=i.requiredErrorMsg)||void 0===n?void 0:n.message}))},shouldUnregister:!0})]})},Xc=({fieldName:t})=>{const{control:n,formState:{errors:r},watch:i,setValue:a}=Gn(),o=i("preselectedValue"),s=i(t,[]),l=$t(),{focusedElement:u}=At(),d=Mt(u.element.id,u.element.type),f=kt(u,"preselectedValue"),p=d||f,h=[{label:"Unselect default value",value:null}];s.forEach((e=>{to(e.label)||to(e.value)||h.push(e)}));const m=h.find((e=>e.value===o));return c((()=>{null===o&&a("preselectedValue","",{shouldDirty:!0})}),[o,a]),c((()=>{o&&!s.some((e=>e.value===o))&&a("preselectedValue","")}),[m]),h.length>1&&e(ar,{name:"preselectedValue",control:n,render:({field:t})=>{var n;const i=ue(t,["ref"]);return e(R.Select,Object.assign({disabled:p},i,{"data-testid":"preselected-value-field",options:h,valueExtractor:e=>e.value,listExtractor:e=>e.label,displayValueExtractor:e=>e.label,placeholder:"Select default value",label:{children:"Pre-selected value (optional)",subtitle:l?e(I.BodySM,{children:"Select a value for users. Note that prefill value will replace the pre-selected value, if present."}):null},selectedOption:m,onSelectOption:e=>{t.onChange(e.value)},errorMessage:null===(n=r.preselectedValue)||void 0===n?void 0:n.message}))}})},Gc=Cs().shape({placeholder:ms().optional(),enableClearButton:is().optional(),defaultCountryCode:ms().optional(),displayAsFixedCountryCode:is().optional(),validation:As().of(Cs().shape({validationType:ms().required("Validation type required.").oneOf([oe.CONTACT_NUMBER],"Invalid validation type."),validationRule:ms().when(["defaultCountryCode","displayAsFixedCountryCode"],{is:(e,t)=>"Singapore"===e&&t,then:e=>e.required("Validation rule required when country code is 'Singapore' and display as fixed country code is true."),otherwise:e=>e.optional()}),validationErrorMessage:ms().required("Error message required.")}))}),Zc=/^[a-z]+(?:[A-Z0-9][a-z0-9]*)*(?:[-_][a-z0-9]+)*$/gm,Kc=/^[a-zA-Z0-9_-]+$/,Yc=/^[a-zA-Z0-9._-]+$/;Ds(ms,"validRegex",(function(e){return this.test("validRegex",e,(function(e){return!!(e=>{try{return new RegExp(e),!0}catch(e){return!1}})(e)}))})),Ds(ms,"isNumber",(function(e){return this.test("isNumber",e,(function(e){return!!(!isNaN(Number(e))&&Number.isInteger(Number(e))&&parseInt(e)>=0)}))}));const Jc=(e,t)=>{const n=e.filter((e=>e.label&&e.value)).length,r=e.every((e=>e.label&&e.value||!e.label&&!e.value));if(n>=2&&r)return!0;const i=e.reduce(((e,r,i)=>(!r.label&&!r.value&&n>=2||(r.label||e.push(t.createError({path:`${t.path}[${i}].label`,message:"Option label required."})),r.value||e.push(t.createError({path:`${t.path}[${i}].value`,message:"Option value required."}))),e)),[]);throw new Vo(i)},Qc=Cs().shape({placeholder:ms().optional(),dropdownItems:As().of(Cs().shape({label:ms().optional(),value:ms().optional()})).test("min-2-valid-items","At least 2 items with valid label and value are required.",(function(e){return Jc(e,this)}))}),ed=/^@[^\s]+(\.[^\s]+)*(?:\s*,\s*@[^,\s]+(\.[^,\s]+)*)*$/,td=Cs().shape({placeholder:ms().optional(),validation:As().of(Cs().shape({validationType:ms().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.EMAIL_DOMAIN],"Validation type must be EMAIL_DOMAIN"),validationRule:ms().when("validationType",{is:oe.EMAIL_DOMAIN,then:e=>e.required("Email domain required.").matches(ed,"Invalid email domain. Check if email domain is correct with no whitespace between characters. Separate each with a comma if there is more than 1 email."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:ms().required("Error message required.")}))}),nd=Cs().shape({placeholder:ms().optional(),resizableInput:is().required(),pills:is().required(),pillItems:As().of(Cs().shape({content:ms().optional()})).test("min-2-valid-items","At least 2 items with valid content are required.",(function(e){if((null==e?void 0:e.reduce(((e,t)=>t.content&&""!==t.content.trim()?e+1:e),0))>=2)return!0;const t=null==e?void 0:e.reduce(((e,t,n)=>(t.content&&""!==t.content.trim()||e.push(this.createError({path:`${this.path}[${n}].content`,message:"Pill item content is required."})),e)),[]);if((null==t?void 0:t.length)>0)throw new Vo(t);return!0})),pillPosition:ms().oneOf(["top","bottom"]),validation:As().of(Cs().shape({validationType:ms().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.MAX_LENGTH],"Validation type must be MAX_LENGTH"),validationRule:ms().when("validationType",{is:oe.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only.")}),validationErrorMessage:ms().required("Error message required.")}))}),rd=Cs().shape({placeholder:ms().optional(),validation:As().of(Cs().shape({validationType:ms().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.WHOLE_NUMBERS,oe.MAX_VALUE,oe.MAX_VALUE],"Validation type not supported"),validationRule:ms().when("validationType",{is:oe.WHOLE_NUMBERS,then:e=>e.optional(),otherwise:e=>e.when("validationType",{is:oe.MIN_VALUE||oe.MAX_VALUE,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")})}),validationErrorMessage:ms().required("Error message required.")}))}),id=Cs().shape({placeholder:ms().optional(),validation:As().of(Cs().shape({validationType:ms().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.CUSTOM_REGEX,oe.MIN_LENGTH,oe.MAX_LENGTH],"Validation type not supported"),validationRule:ms().when("validationType",{is:oe.CUSTOM_REGEX,then:e=>e.required("Custom regex required.").validRegex("Regex not valid.")}).when("validationType",{is:e=>e===oe.MIN_LENGTH||e===oe.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:ms().required("Error message required.")}))}),ad=Cs().shape({placeholder:ms().optional(),radioItems:As().of(Cs().shape({label:ms().optional(),value:ms().optional()})).test("min-2-valid-items","At least 2 items with valid label and value are required.",(function(e){return Jc(e,this)}))});var od;!function(e){e.buildYupSchema=e=>{try{const{elements:t,focusedElement:n}=At(),r=((e,t)=>Cs().shape({internalId:ms().required("Internal ID required."),type:ms().oneOf(Object.values(re)).required("Element type required."),label:ms().required("Label required."),required:is().required().default(!0),requiredErrorMsg:ms().when("required",{is:!0,then:e=>e.required("Error message required."),otherwise:e=>e.optional()}),description:ms().optional(),id:ms().required("ID required.").matches(Zc,{message:"ID must be camelCase."}).notOneOf(Object.values(e).map((e=>e.id)).filter((e=>e!==(null==t?void 0:t.element.id))),"ID must not be duplicated."),preselectedValue:ms().optional(),prefill:As().of(Cs().shape({prefillMode:ms().required("Source required."),actionId:ms().when("prefillMode",{is:"Previous source",then:e=>e.required("Action ID required.").matches(Kc,"Invalid action ID."),otherwise:e=>e.optional()}),path:ms().required("Path required.").matches(Yc,"Invalid path.")})),conditionalRendering:As().of(Cs().shape({fieldKey:ms().required("Reference required."),comparator:ms().required("Comparator required."),value:ms().required("Reference value required."),internalId:ms()}))}))(t,n);switch(e){case re.EMAIL:return Cs().concat(r).concat(td);case re.TEXT:return Cs().concat(r).concat(id);case re.NUMERIC:return Cs().concat(r).concat(rd);case re.TEXTAREA:return Cs().concat(r).concat(nd);case re.CONTACT:return Cs().concat(r).concat(Gc);case re.DROPDOWN:return Cs().concat(r).concat(Qc);case re.RADIO:return Cs().concat(r).concat(ad)}}catch(e){console.error("Error in schema helper:",e)}}}(od||(od={}));const sd=x.div`
    margin-bottom: 2rem;
`,ld=x.div`
    display: flex;
    gap: 1rem;
`,ud=x(k.Small)`
    flex: 1;
`,cd=x.div`
    position: relative;
`,dd=x.div`
    display: flex;
    align-items: start;
    justify-content: center;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }

    & > *:nth-child(2) {
        margin-right: 1rem;
    }

    & > *:nth-child(3) {
        margin-right: 1rem;
    }

    & > * {
        margin-bottom: 0 !important;
    }
`,fd=x.div`
    margin-top: 0.875rem;
    svg {
        color: ${g["icon-primary-subtlest"]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,pd=x.div`
    ${v.Util["dashed-default"]({thickness:v["width-010"],colour:g["border-primary"],radius:b.sm})};
    background-color: ${g["bg-primary-subtlest"]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${g["icon-primary"]};
        height: 2.08rem;
        width: 2.08rem;
    }
`,hd=({onDelete:n,id:r,index:i,fieldName:a})=>{var o,s;const{control:l,formState:{errors:u},watch:c}=Gn(),{focusedElement:d}=At(),f=Mt(null===(o=null==d?void 0:d.element)||void 0===o?void 0:o.id,null===(s=null==d?void 0:d.element)||void 0===s?void 0:s.type),{attributes:p,listeners:h,setNodeRef:m,transform:v,transition:g,isDragging:b,isOver:y}=vc({id:r,disabled:f}),_={transform:cl.Translate.toString(v),transition:g,opacity:b?"70%":"100%",position:"relative",zIndex:b?1:"auto"},w=c(a),x=y?e(pd,Object.assign({isOver:y},{children:e(P,{})})):null;return t(cd,{children:[x,t(dd,Object.assign({"data-testid":"option-child",ref:m,style:_},p,{children:[e(fd,Object.assign({},h,{children:e(B,{})})),e(ar,{name:`${a}.${i}.label`,control:l,render:({field:t})=>{var n,r,o;return e(R.Input,Object.assign({disabled:f,"data-testid":"option-label",placeholder:"Enter label"},t,{errorMessage:null===(o=null===(r=null===(n=u[a])||void 0===n?void 0:n[i])||void 0===r?void 0:r.label)||void 0===o?void 0:o.message}))}}),e(ar,{name:`${a}.${i}.value`,control:l,render:({field:t})=>{var n,r,o;return e(R.Input,Object.assign({disabled:f,"data-testid":"option-value",placeholder:"Enter value"},t,{errorMessage:null===(o=null===(r=null===(n=u[a])||void 0===n?void 0:n[i])||void 0===r?void 0:r.value)||void 0===o?void 0:o.message}))}}),e(Qt,{onClick:n,popoverMessage:e(I.BodyBL,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:f||w.length<3})]}))]})},md=({label:n,description:r,fieldName:i})=>{var a,o;const{control:s,getValues:l,trigger:u}=Gn(),{fields:d,append:f,remove:p,move:h,replace:m}=Rr({control:s,name:i,shouldUnregister:!0}),{showModal:v}=dn(),g=El(xl(mu),xl(cu,{coordinateGetter:yc})),{focusedElement:b}=At();Mt(null===(a=null==b?void 0:b.element)||void 0===a?void 0:a.id,null===(o=null==b?void 0:b.element)||void 0===o?void 0:o.type),c((()=>{d.length<2&&f([{label:"",value:""},{label:"",value:""}],{shouldFocus:!1})}),[d]);return t(sd,{children:[t(R.Label,{children:[n,e(I.BodySM,{children:r})]}),e(Zu,Object.assign({sensors:g,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=d.findIndex((e=>e.id===t.id)),r=d.findIndex((e=>e.id===n.id));h(e,r)}},collisionDetection:Il},{children:e(uc,Object.assign({items:d,strategy:oc},{children:d.map(((t,n)=>e(hd,{id:t.id,index:n,onDelete:()=>p(n),fieldName:i},t.id)))}))})),t(ld,{children:[e(ud,Object.assign({onClick:()=>{f({label:"",value:""},{shouldFocus:!1})},icon:e(D,{}),styleType:"secondary",type:"button"},{children:"Add Option"})),e(ud,Object.assign({onClick:()=>{const e=l(i),t={type:Pt.BulkEdit,optionsString:(n=e,n.filter((e=>!to(e.label)||!to(e.value))).map((e=>`${e.label} | ${e.value}`)).join("\n")),onClickActionButton:e=>(e=>{const t=Is(e).map((e=>Ms(e)));for(;t.length<2;)t.push({label:"",value:""});m(t),u(i)})(e)};var n;v(t)},icon:e(W,{}),styleType:"secondary",type:"button"},{children:"Bulk Edit"}))]})]})},vd=()=>{const{control:t,formState:{errors:n}}=Gn(),{focusedElement:r}=At(),i=Mt(r.element.id,r.element.type),a=kt(r,"placeholder"),o=i||a;return e(ar,{name:"placeholder",control:t,render:({field:t})=>{var r;return e(R.Input,Object.assign({disabled:o},t,{"data-testid":"placeholder-field",label:"Placeholder text (optional)",placeholder:"Enter placeholder text",value:t.value||"",errorMessage:null===(r=n.placeholder)||void 0===r?void 0:r.message}))}})},gd=()=>{const{control:t,formState:{errors:n}}=Gn(),r=$t(),{focusedElement:i}=At(),a=Mt(i.element.id,i.element.type),o=kt(i,"preselectedValue"),s=a||o;return e(ar,{name:"preselectedValue",control:t,render:({field:t})=>{var i;return e(R.Input,Object.assign({disabled:s},t,{"data-testid":"preselected-value-field",label:{children:"Pre-selected value (optional)",subtitle:r?e(I.BodySM,{children:"Note that prefill value will replace the pre-selected value, if present."}):null},placeholder:"Enter pre-selected value",value:t.value||"",errorMessage:null===(i=n.preselectedValue)||void 0===i?void 0:i.message}))}})},bd=x.div`
    display: flex;
    align-items: center;
    gap: 1rem;

    svg {
        color: ${g["icon-primary-subtlest"]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,yd=({type:n,onChange:r,onBlur:i,errorMessage:a})=>{const{focusedElement:o}=At(),s=Mt(null==o?void 0:o.element.id,null==o?void 0:o.element.type),l=kt(o,"type"),u=s||l;return e(X.Select,{"data-testid":"type-field",disabled:u,label:"Element type",options:de.flatMap((e=>e.elementTypes)),renderCustomSelectedOption:n=>t(bd,{children:[e(Kt,{elementType:n}),e(I.BodyBL,{children:pe[n]})]}),selectedOption:n,renderListItem:n=>t(bd,{children:[e(Kt,{elementType:n}),e(I.BodyBL,{children:pe[n]})]}),onSelectOption:e=>r(e),errorMessage:a&&a,onBlur:i})},_d=()=>{const{selectElementType:t,selectedElementType:n}=At(),{showModal:r,hideModal:i}=dn(),{control:a,formState:{errors:o}}=Gn(),[s,l]=f(n);return e(ar,{name:"type",control:a,render:({field:a})=>{var u;return e(yd,{onBlur:a.onBlur,type:s,onChange:e=>{((e,a)=>{if(e===a.value)return;l(e);const o={type:Pt.ResetFields,onClickActionButton:()=>{i(Pt.ResetFields),t(e),a.onChange(e)},onClose:()=>{i(Pt.ResetFields),l(n)}};r(o)})(e,a)},errorMessage:null===(u=o.type)||void 0===u?void 0:u.message})}})},wd=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........"],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ...."],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ... ...."],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599",""],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86",".. ........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506",".... ...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599",""],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1",""],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503",".... ...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502",".... ...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509",".... ...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91","..... ....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... ......."],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ... .. .."],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60",".. .... ...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ...."],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) .. .. .."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","... ... ...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","... ......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","... ... ..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1",""],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ... .. .."],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65",".... ...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ... ..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ... ...."],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ...."],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],xd=x.span`
    color: ${g["text-subtler"]};
`,Ed=[{name:"type",component:_d},{name:"label",component:Bc},{name:"required",component:Wc},{name:"id",component:zc},{name:"enableClearButton",component:()=>{const{control:t}=Gn();return e(ar,{name:"enableClearButton",control:t,defaultValue:!1,render:({field:t})=>{const n=ue(t,["ref"]);return e(Hc,Object.assign({},n,{label:{mainLabel:"Enable clear button",subLabel:"This enables form participant to remove contact number input with a click on a clear button."}}))},shouldUnregister:!0})}},{name:"defaultCountryCode",component:()=>{const{control:n,watch:r,unregister:i,setValue:a}=Gn(),o=r("defaultCountryCode",""),s=r("displayAsFixedCountryCode"),l=[["No default country code","","",""],...wd],u=l.find((e=>e[0]===o))||l[0];c((()=>{""===o&&a("defaultCountryCode","",{shouldDirty:!0})}),[o,a]);const d=n=>t(I.BodyBL,{children:[n[0]," ",e(xd,{children:n[3]?`+${n[3]}`:""})]});return t(Fc,{children:[e(ar,{name:"defaultCountryCode",control:n,render:({field:t})=>{const n=ue(t,["ref"]);return e(R.Select,Object.assign({},n,{"data-testid":"default-country-code",label:"Default country code",renderCustomSelectedOption:d,renderListItem:d,options:l,selectedOption:u,onSelectOption:e=>{"No default country code"!==e[0]?t.onChange(e[0]):t.onChange("")},enableSearch:!0}))},shouldUnregister:!0}),o&&e(ar,{name:"displayAsFixedCountryCode",control:n,defaultValue:!1,render:({field:t})=>{const n=ue(t,["ref"]);return e(Hc,Object.assign({},n,{label:{mainLabel:"Display as fixed country code",subLabel:"This will disable selection of country code."},onChange:e=>{e||i("validation.0.validationRule"),t.onChange(e)}}))},shouldUnregister:!0}),e(G,Object.assign({type:"info",showIcon:!0},{children:"Singapore"===o&&s?"Field will validate in Singapore format. This enables selection of SG landline or mobile contact number validation under Additional Validation.":"Field will validate in international format."}))]})}},{name:"description",component:Vc},{name:"placeholder",component:vd},{name:"preselectedValue",component:gd}],Od=()=>e("div",Object.assign({"data-testid":"contact-basic-details"},{children:Ed.map((({name:t,component:n})=>Nt(t,fe.CONTACT)&&e(n,{},t)))})),Td=[{name:"type",component:_d},{name:"label",component:Bc},{name:"required",component:Wc},{name:"id",component:zc},{name:"dropdownItems",fieldName:"dropdownItems",label:"Dropdown items",description:"Label is the item displayed to the users in the dropdown menu. Value is used to differentiate the dropdown items in the backend.",component:md},{name:"description",component:Vc},{name:"placeholder",component:vd},{name:"preselectedValue",fieldName:"dropdownItems",component:Xc}],Cd=()=>e("div",Object.assign({"data-testid":"dropdown-basic-details"},{children:Td.map((t=>{var{name:n,component:r}=t,i=ue(t,["name","component"]);return Nt(n,fe.DROPDOWN)&&e(r,Object.assign({},i),n)}))})),Sd=[{name:"type",component:_d},{name:"label",component:Bc},{name:"required",component:Wc},{name:"id",component:zc},{name:"description",component:Vc},{name:"placeholder",component:vd},{name:"preselectedValue",component:gd}],Ad=()=>e("div",Object.assign({"data-testid":"email-basic-details"},{children:Sd.map((({name:t,component:n})=>Nt(t,fe.EMAIL)&&e(n,{},t)))})),jd=x.div`
    position: relative;
`,Dd=x.div`
    ${v.Util["dashed-default"]({thickness:v["width-010"],colour:g["border-focus-strong"],radius:b.sm})};
    background-color: ${g["bg-primary-subtlest"]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${g["icon-primary"]};
        height: 2.08rem;
        width: 2.08rem;
    }
`,Id=x.div`
    display: flex;
    align-items: start;
    justify-content: center;
    width: 100%;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }
    & > *:nth-child(2) {
        width: 100%;
        margin-right: 1rem;
    }
    & > * {
        margin-bottom: 0 !important;
    }
`,Md=x.div`
    margin-top: 0.875rem;
    svg {
        color: ${g["icon-primary-subtlest"]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,kd=({id:n,index:r,onDelete:i,disableDelete:a})=>{const{control:o,formState:{errors:s}}=Gn(),{attributes:l,listeners:u,setNodeRef:c,transform:d,transition:f,isDragging:p,isOver:h}=vc({id:n}),m={transform:cl.Transform.toString(d),transition:f,position:"relative",opacity:p?"70%":"100%",zIndex:p?1:"auto"},v=h?e(Dd,Object.assign({isOver:h},{children:e(P,{})})):null;return t(jd,{children:[v,e("div",Object.assign({ref:c,style:m},l,{children:t(Id,{children:[e(Md,Object.assign({},u,{children:e(B,{"data-testid":"drag-handle"})})),e(ar,{name:`pillItems.${r}.content`,control:o,render:({field:t})=>{var n,i,a;return e(R.Input,Object.assign({},t,{placeholder:"Enter short text",errorMessage:null===(a=null===(i=null===(n=null==s?void 0:s.pillItems)||void 0===n?void 0:n[r])||void 0===i?void 0:i.content)||void 0===a?void 0:a.message}))}}),e(Qt,{onClick:i,popoverMessage:e(I.BodyBL,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:a})]})}))]})},Nd=x.div`
    margin-bottom: 2rem;
`,$d=x(k.Default)`
    width: 100%;
`,Rd=()=>{const{focusedElement:n}=At(),{control:r,resetField:i}=Gn(),{fields:a,append:o,remove:s,move:l}=Rr({control:r,name:"pillItems",shouldUnregister:!0}),u=null==n?void 0:n.element,d=El(xl(mu),xl(cu,{coordinateGetter:yc})),f=a.length<=2;c((()=>{(null==u?void 0:u.pillItems)&&i("pillItems",{defaultValue:u.pillItems})}),[]);return t(Nd,{children:[e(R.Label,{children:"Pill items"}),e(Zu,Object.assign({sensors:d,collisionDetection:Il,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=a.findIndex((e=>e.id===t.id)),r=a.findIndex((e=>e.id===n.id));l(e,r)}}},{children:e(uc,Object.assign({items:a,strategy:oc},{children:a.map(((t,n)=>e(kd,{id:t.id,index:n,onDelete:()=>(e=>{s(e)})(n),disableDelete:f},t.id)))}))})),e($d,Object.assign({icon:e(D,{}),styleType:"light",onClick:()=>{o({content:""},{shouldFocus:!1})},role:"button",type:"button"},{children:"Add option"}))]})},Fd=[{name:"type",component:_d},{name:"label",component:Bc},{name:"required",component:Wc},{name:"id",component:zc},{name:"description",component:Vc},{name:"resizable",component:()=>{const{control:t}=Gn();return e(ar,{name:"resizableInput",control:t,defaultValue:!1,render:({field:t})=>{const n=ue(t,["ref"]);return e(Hc,Object.assign({},n,{label:{mainLabel:"Resizable area input",subLabel:"This allows participant to resize text area."}}))},shouldUnregister:!0})}},{name:"pills",component:()=>{const{control:r,unregister:i,setValue:a,watch:o,resetField:s}=Gn(),{focusedElement:l}=At(),u=null==l?void 0:l.element,d=o("pills");c((()=>{d&&(null==u?void 0:u.pillItems)&&s("pillPosition",{defaultValue:u.pillPosition})}),[d]);return t(Fc,{children:[e(ar,{name:"pills",control:r,defaultValue:!1,render:({field:t})=>e(Hc,{label:{mainLabel:"Pills",subLabel:"This allows a list of selectable short texts to display in pill form. This helps participant to fill up text area fast with less typing."},value:t.value,onChange:e=>{e?(a("pillItems",[{content:""},{content:""}],{shouldDirty:!0}),a("pillPosition","top",{shouldDirty:!0})):i(["pillItems","pillPosition"]),t.onChange(e)}}),shouldUnregister:!0}),o("pills",u.pills)&&t(n,{children:[e(Rd,{}),e(ar,{name:"pillPosition",control:r,render:({field:t})=>e(Hc,{label:{mainLabel:"List position",subLabel:"This displays pills on top or bottom of the text area."},value:"top"===t.value,options:[{icon:e(Gt,{}),title:"Top"},{icon:e(qt,{}),title:"Bottom"}],onChange:e=>t.onChange(e?"top":"bottom")}),shouldUnregister:!0})]})]})}},{name:"placeholder",component:vd},{name:"preselectedValue",component:gd}],Ld=()=>e("div",Object.assign({"data-testid":"long-text-basic-details"},{children:Fd.map((({name:t,component:n})=>Nt(t,fe.TEXTAREA)&&e(n,{},t)))})),Vd=[{name:"type",component:_d},{name:"label",component:Bc},{name:"required",component:Wc},{name:"id",component:zc},{name:"description",component:Vc},{name:"placeholder",component:vd},{name:"preselectedValue",component:gd}],zd=()=>e("div",Object.assign({"data-testid":"numeric-basic-details"},{children:Vd.map((({name:t,component:n})=>Nt(t,fe.NUMERIC)&&e(n,{},t)))})),Bd=()=>t("div",Object.assign({"data-testid":"dropdown-basic-details"},{children:[e(_d,{}),e(Bc,{}),e(Wc,{}),e(md,{label:"List items",description:"Label is the item displayed to the users in the dropdown menu. Value is used to differentiate the dropdown items in the backend.",fieldName:"radioItems"}),e(zc,{}),e(Vc,{}),e(vd,{}),e(Xc,{fieldName:"radioItems"})]})),Pd=[{name:"type",component:_d},{name:"label",component:Bc},{name:"required",component:Wc},{name:"id",component:zc},{name:"description",component:Vc},{name:"placeholder",component:vd},{name:"preselectedValue",component:gd}],Ud=()=>e("div",Object.assign({"data-testid":"text-basic-details"},{children:Pd.map((({name:t,component:n})=>Nt(t,fe.TEXT)&&e(n,{},t)))})),qd=()=>{var t;const{focusedElement:n,orderedIdentifiers:r,elements:i}=At(),{watch:a,reset:o,formState:{isDirty:s}}=Gn(),l=a("type",null===(t=null==n?void 0:n.element)||void 0===t?void 0:t.type),u=Mt(n.element.id,n.element.type);c((()=>{if(!s)return;const e=r.filter((e=>e.internalId!==n.element.internalId)).map((e=>e.internalId)),t=Object.values(i).filter((e=>e.id!==n.element.id)).map((e=>e.id)),a=xe.generate(l,e,t);o(a,{keepDefaultValues:!0})}),[l]);return e(Rc,{children:e($c,Object.assign({type:"default",expanded:!0,title:"Basic",$hideTopBorder:n.isDirty||u},{children:e(Nc,{children:(()=>{switch(l){case re.EMAIL:return e(Ad,{});case re.TEXT:return e(Ud,{});case re.TEXTAREA:return e(Ld,{});case re.NUMERIC:return e(zd,{});case re.CONTACT:return e(Od,{});case re.DROPDOWN:return e(Cd,{});case re.RADIO:return e(Bd,{});default:return null}})()})}))})},Hd=x.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,Wd=x.div`
    display: grid;
    grid-template-columns: 5fr 4.5fr;
    gap: 1rem;
`,Xd=x(R.Select)`
    [data-testid="dropdown-list"] {
        max-height: 10rem;
    }
`,Gd=x(I.BodyXS)`
    text-align: left;
`,Zd=({onDelete:n,options:r,index:i})=>{const a=[ae.EQUALS,ae.MORE_THAN,ae.LESS_THAN,ae.NOT_EQUALS],{formState:{errors:o},control:s,setValue:l}=Gn();return e(nn,Object.assign({onDelete:n},{children:t(Hd,{children:[t(Wd,{children:[e("div",{children:e(ar,{name:`conditionalRendering.${i}.fieldKey`,control:s,render:({field:n})=>{var a,s;const u=ue(n,["ref"]);return e(Xd,Object.assign({},u,{placeholder:"Select",selectedOption:u.value?r.find((e=>e.id===u.value)):null,onSelectOption:e=>{u.onChange(null==e?void 0:e.id),l(`conditionalRendering.${i}.internalId`,e.internalId)},options:r,renderCustomSelectedOption:t=>e(I.BodyBL,{children:null==t?void 0:t.label}),renderListItem:n=>{const r=Nt("id",pe[n.elementType]);return t("div",{children:[e(I.BodyBL,{children:null==n?void 0:n.label}),r&&t(Gd,{children:["ID: ",null==n?void 0:n.id]})]})},errorMessage:o&&o.conditionalRendering&&(null===(s=null===(a=null==o?void 0:o.conditionalRendering[i])||void 0===a?void 0:a.fieldKey)||void 0===s?void 0:s.message)||""}))}})}),e("div",{children:e(ar,{name:`conditionalRendering.${i}.comparator`,control:s,render:({field:t})=>{var n,r;const s=ue(t,["ref"]);return e(Xd,Object.assign({},s,{selectedOption:s.value,onSelectOption:e=>{s.onChange(e)},options:a,errorMessage:o&&o.conditionalRendering&&(null===(r=null===(n=null==o?void 0:o.conditionalRendering[i])||void 0===n?void 0:n.comparator)||void 0===r?void 0:r.message)||""}))}})})]}),e("div",{children:e(ar,{name:`conditionalRendering.${i}.value`,control:s,render:({field:t})=>{var n,r;const a=ue(t,["ref"]);return e(R.Input,Object.assign({},a,{placeholder:"Set value",value:a.value,onChange:e=>{a.onChange(e.target.value)},errorMessage:o&&(null==o?void 0:o.conditionalRendering)&&(null===(r=null===(n=null==o?void 0:o.conditionalRendering[i])||void 0===n?void 0:n.value)||void 0===r?void 0:r.message)}))}})})]})}))},Kd=()=>{const{watch:t,control:n}=Gn(),{fields:r,append:i,remove:a}=Rr({control:n,name:"conditionalRendering",shouldUnregister:!0}),{focusedElement:o,elements:s,selectedElementType:u}=At(),c=null==o?void 0:o.element,d=od.buildYupSchema(u),f=t("conditionalRendering"),p=()=>{const e=[];return Object.entries(s).forEach((([t,n])=>{if(t!==(null==c?void 0:c.internalId)){const t={label:null==n?void 0:n.label,id:null==n?void 0:n.id,internalId:null==n?void 0:n.internalId,elementType:null==n?void 0:n.type};e.push(t)}})),e},h=()=>{try{return d.pick(["conditionalRendering"]).validateSync({conditionalRendering:f,abortEarly:!1}),!1}catch(e){return Vo.isError(e)}},m=l((()=>{var t;return h()?e(I.BodyBL,{children:"To add a new condition, fill up the existing condition first."}):0===(null===(t=p())||void 0===t?void 0:t.length)?e(I.BodyBL,{children:"No conditional rendering available."}):null}),[h,p]);return e(sn,Object.assign({onAdd:()=>{const e={fieldKey:"",comparator:ae.EQUALS,value:"",internalId:""};i(e)},title:"Conditional Rendering",buttonLabel:"condition",disabledButton:0===p().length||h(),popoverMessage:m()},{children:r.map(((t,n)=>e(Zd,{onDelete:()=>(e=>{a(e)})(n),options:p(),index:n},t.id)))}))},Yd=x(G)``,Jd=x.div`
    ${Yd} {
        margin-bottom: 1rem;
    }
    margin-bottom: 8rem;
`,Qd=x.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,ef=({onDelete:n,index:r})=>{const i=["Myinfo","Previous source"],{formState:{errors:a},control:o,watch:s}=Gn();return e(nn,Object.assign({onDelete:n},{children:t(Qd,{children:[e("div",{children:e(ar,{name:`prefill.${r}.prefillMode`,control:o,defaultValue:"Myinfo",render:({field:t})=>{var n,o,s;const l=ue(t,["ref"]);return e(R.Select,Object.assign({},l,{placeholder:"Select",selectedOption:l.value,options:i,disabled:1===i.length,onSelectOption:e=>{l.onChange(e)},errorMessage:null===(s=null===(o=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===o?void 0:o.prefillMode)||void 0===s?void 0:s.message}))}})}),"Previous source"===s(`prefill.${r}.prefillMode`)&&e("div",{children:e(ar,{name:`prefill.${r}.actionId`,control:o,render:({field:t})=>{var n,i,o;const s=ue(t,["ref"]);return e(R.Input,Object.assign({},s,{placeholder:"Enter an action ID",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(i=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===i?void 0:i.actionId)||void 0===o?void 0:o.message}))}})}),e("div",{children:e(ar,{name:`prefill.${r}.path`,control:o,render:({field:t})=>{var n,i,o;const s=ue(t,["ref"]);return e(R.Input,Object.assign({},s,{placeholder:"Enter a path",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(i=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===i?void 0:i.path)||void 0===o?void 0:o.message}))}})})]})}))},tf=()=>{const{selectedElementType:t}=At(),{watch:n,control:r}=Gn(),{fields:i,append:a,remove:o}=Rr({control:r,name:"prefill",shouldUnregister:!0}),s=n("prefill"),l=od.buildYupSchema(t),u=()=>{try{return l.pick(["prefill"]).validateSync({prefill:s,abortEarly:!1}),!1}catch(e){return Vo.isError(e)}};return e(sn,Object.assign({onAdd:()=>{a({prefillMode:null,path:""})},title:"Prefill",buttonLabel:"prefill",subtitle:"Prefill information from various data sources, for example Myinfo.",disabledButton:u(),popoverMessage:(()=>{if(u())return e(I.BodyBL,{children:"To add new prefill, fill up existing prefill first."})})()},{children:0===(null==s?void 0:s.length)?void 0:i.map(((t,n)=>e(ef,{onDelete:()=>(e=>{o(e)})(n),index:n},t.id)))}))},nf=(e,t,n)=>t.filter((t=>!(t=>e.some((e=>e.validationType===t)))(t)||(null==n?void 0:n.includes(t)))),rf=({options:t,index:n,disabled:r})=>{const{formState:{errors:i},control:a}=Gn();return e(ar,{name:`validation.${n}.validationType`,control:a,render:({field:a})=>{var o,s,l;const u=ue(a,["ref"]);return e(R.Select,Object.assign({},u,{"data-testid":"validation-type",placeholder:"Select",selectedOption:u.value,options:t,disabled:r,onSelectOption:a.onChange,errorMessage:null===(l=null===(s=null===(o=null==i?void 0:i.validation)||void 0===o?void 0:o[n])||void 0===s?void 0:s.validationType)||void 0===l?void 0:l.message}))}})},af=({index:t})=>{const{formState:{errors:n},control:r}=Gn();return e(ar,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;const s=ue(r,["ref"]);return e(R.Input,Object.assign({},s,{placeholder:"Enter rule",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},of=({index:t})=>{const{formState:{errors:n},control:r}=Gn();return e(ar,{name:`validation.${t}.validationErrorMessage`,control:r,render:({field:r})=>{var i,a,o;const s=ue(r,["ref"]);return e(R.Input,Object.assign({},s,{"data-testid":"validation-error-message",placeholder:"Set error message",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationErrorMessage)||void 0===o?void 0:o.message}))}})},sf=x.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;

    & > * {
        margin-bottom: 0 !important;
    }
`,lf=x.div`
    background: ${g["bg-strong"]};
    padding: 1rem;
    margin-bottom: 2rem;
`,uf=x(I.BodyMD)`
    color: ${g["text-subtlest"]};
`,cf=({index:n})=>{const{formState:{errors:r},control:i,resetField:a}=Gn(),{focusedElement:o}=At(),s=null==o?void 0:o.element,l=[{title:"All",label:"First digit of 3, 6, 8 or 9 allowed with correct length.",value:le.DEFAULT},{title:"Landline contact number only",label:"First digit of 3 or 6 allowed with correct length.",value:le.HOUSE},{title:"Mobile contact number only",label:"First digit of 8 or 9 allowed with correct length.",value:le.MOBILE}];return c((()=>{var e;a("validation.0.validationRule",{defaultValue:(null===(e=null==s?void 0:s.validation[0])||void 0===e?void 0:e.validationRule)||le.DEFAULT})}),[]),e(ar,{name:`validation.${n}.validationRule`,control:i,render:({field:i})=>{var a,o,s;const u=ue(i,["ref"]);return e(R.Select,Object.assign({},u,{"data-testid":"contact-validation-rule",placeholder:"Select",selectedOption:null==l?void 0:l.find((e=>e.value===i.value)),options:l,renderListItem:n=>t("div",{children:[e(I.BodyBL,{children:n.title}),e(uf,Object.assign({weight:"semibold"},{children:n.label}))]}),displayValueExtractor:e=>`${e.title} (${e.label})`,onSelectOption:e=>i.onChange(e.value),errorMessage:null===(s=null===(o=null===(a=null==r?void 0:r.validation)||void 0===a?void 0:a[n])||void 0===o?void 0:o.validationRule)||void 0===s?void 0:s.message}))},shouldUnregister:!0})},df=({index:n,options:r,disabled:i})=>{const{watch:a}=Gn(),[o,s]=a(["defaultCountryCode","displayAsFixedCountryCode"]);return e(lf,{children:t(sf,Object.assign({"data-testid":"contact-validation-child"},{children:[e(rf,{index:n,options:r,disabled:i}),"Singapore"===o&&s&&e(cf,{index:n}),e(of,{index:n})]}))})},ff=({index:t})=>{const{formState:{errors:n},control:r}=Gn();return e(ar,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;return e(R.Textarea,Object.assign({},r,{placeholder:"Enter email domain, separating with a comma",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},pf=({onDelete:n,index:r,options:i})=>e(nn,Object.assign({onDelete:n},{children:t(sf,Object.assign({"data-testid":"email-validation-child"},{children:[e(rf,{index:r,options:i,disabled:1===i.length}),e(ff,{index:r}),e(of,{index:r})]}))})),hf=({onDelete:n,index:r,options:i,disabled:a})=>e(nn,Object.assign({onDelete:n},{children:t(sf,Object.assign({"data-testid":"long-text-validation-child"},{children:[e(rf,{index:r,options:i,disabled:a}),e(af,{index:r}),e(of,{index:r}),e(G,Object.assign({type:"info",showIcon:!0},{children:"Adding of this validation will result in character counter displayed under the textarea."}))]}))})),mf=({onDelete:n,index:r,options:i,disabled:a})=>{const{watch:o}=Gn(),s=o(`validation.${r}.validationType`);return e(nn,Object.assign({onDelete:n},{children:t(sf,Object.assign({"data-testid":"numeric-validation-child"},{children:[e(rf,{index:r,options:i,disabled:a}),s!==oe.WHOLE_NUMBERS&&e(af,{index:r}),e(of,{index:r})]}))}))},vf=({onDelete:n,index:r,options:i,disabled:a})=>e(nn,Object.assign({onDelete:n},{children:t(sf,Object.assign({"data-testid":"text-validation-child"},{children:[e(rf,{index:r,options:i,disabled:a}),e(af,{index:r}),e(of,{index:r})]}))})),gf=()=>{var t;const{selectedElementType:n,focusedElement:r}=At(),{watch:i,control:a}=Gn(),{fields:o,append:s,remove:l}=Rr({control:a,name:"validation",shouldUnregister:!0}),u=od.buildYupSchema(n),c=i("validation",[]),d=i("type",null===(t=null==r?void 0:r.element)||void 0===t?void 0:t.type),f=()=>{switch(d){case re.EMAIL:case re.TEXT:case re.NUMERIC:case re.TEXTAREA:return(null==c?void 0:c.length)===me["Text field"][d].maxEntries;default:return 6===(null==c?void 0:c.length)}},p=()=>{try{return u.pick(["validation"]).validateSync({validation:c,abortEarly:!1}),!1}catch(e){return Vo.isError(e)}},h=()=>{switch(d){case re.EMAIL:case re.TEXTAREA:return me["Text field"][d].validationTypes[0]}},m=e=>{l(e)};return e(sn,Object.assign({onAdd:()=>{const e={validationType:h(),validationRule:"",validationErrorMessage:""};s(e)},title:"Additional Validation",buttonLabel:"validation",disabledButton:f()||p(),popoverMessage:p()?e(I.BodyBL,{children:"To add new validation, fill up existing validation first."}):f()?e(I.BodyBL,{children:"Limit reached. To add new validation, remove existing ones first."}):void 0,expanded:n===re.CONTACT,hideAddButton:n===re.CONTACT},{children:(()=>{const t=((e,t)=>{switch(t){case re.EMAIL:case re.TEXTAREA:return me["Text field"][t].validationTypes;case re.TEXT:{const t=[...me["Text field"][re.TEXT].validationTypes];return nf(e,t,[oe.CUSTOM_REGEX])}case re.NUMERIC:const n=[...me["Text field"][re.NUMERIC].validationTypes];return nf(e,n);case re.CONTACT:return me["Text field"][re.CONTACT].validationTypes;default:return["Select","Type 1"]}})(c,d);return o.map(((n,r)=>{switch(d){case re.EMAIL:return e(pf,{index:r,options:t,disabled:1===t.length,onDelete:()=>m(r)},n.id);case re.TEXTAREA:return e(hf,{index:r,options:t,disabled:1===t.length,onDelete:()=>m(r)},n.id);case re.NUMERIC:return e(mf,{index:r,options:t,onDelete:()=>m(r)},n.id);case re.TEXT:return e(vf,{index:r,options:t,onDelete:()=>m(r)},n.id);case re.CONTACT:return e(df,{index:r,options:t,disabled:1===t.length},n.id);default:return null}}))})()}))},bf=()=>{const{focusedElement:n,updateFocusedElement:r,selectedElementType:i}=At(),{formState:{isDirty:a},getFieldState:o}=Gn(),{isTouched:s}=o("type"),l=$t(),u=Mt(n.element.id,n.element.type);return c((()=>{r(!!s||!!a)}),[a,r]),t(Jd,Object.assign({"data-testid":"element-editor"},{children:[u&&e(Yd,Object.assign({type:"warning",showIcon:!0},{children:"Changes is not allowed for this field"})),n.isDirty&&e(Yd,Object.assign({type:"warning",showIcon:!0},{children:"To reflect changes on preview, save changes first."})),e(qd,{}),(d=i,ie.has(d)&&e(gf,{})),e(Kd,{}),l&&e(tf,{})]}));var d},yf=x.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,_f=({type:n,onClick:r})=>e(ne,Object.assign({onClick:r},{children:t(yf,{children:[e(Kt,{elementType:n}),e(I.BodyBL,{children:pe[n]})]})})),wf=x.div`
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;

    ${y.MaxWidth.sm} {
        width: auto;
        padding: 0 2.375rem 0 2.375rem;
    }
`,xf=()=>e(wf,{children:e(L,{type:"warning",title:"Screen size not supported",description:"Expand to a bigger screen size or switch to desktop view to use the form builder."})});var Ef=mi,Of=/\s/;var Tf=function(e){for(var t=e.length;t--&&Of.test(e.charAt(t)););return t},Cf=Tf,Sf=/^\s+/;var Af=function(e){return e?e.slice(0,Cf(e)+1).replace(Sf,""):e},jf=Si,Df=ga;var If=Af,Mf=Ai,kf=function(e){return"symbol"==typeof e||Df(e)&&"[object Symbol]"==jf(e)},Nf=/^[-+]0x[0-9a-f]+$/i,$f=/^0b[01]+$/i,Rf=/^0o[0-7]+$/i,Ff=parseInt;var Lf=Ai,Vf=function(){return Ef.Date.now()},zf=function(e){if("number"==typeof e)return e;if(kf(e))return NaN;if(Mf(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Mf(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=If(e);var n=$f.test(e);return n||Rf.test(e)?Ff(e.slice(2),n?2:8):Nf.test(e)?NaN:+e},Bf=Math.max,Pf=Math.min;var Uf=Ce((function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function h(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=Vf();if(h(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?Pf(n,a-(e-u)):n}(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function g(){var e=Vf(),n=h(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?p(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=zf(t)||0,Lf(n)&&(c=!!n.leading,a=(d="maxWait"in n)?Bf(zf(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},g.flush=function(){return void 0===s?o:v(Vf())},g}));const qf=x.div`
    position: relative;
    padding-bottom: 8rem;

    ${({$mode:e})=>{switch(e){case"expanded":return E`
                    grid-column: 4 / span 6;

                    ${be["2xl"]} {
                        grid-column: 3 / span 8;
                    }
                `;case"minimised":return E`
                    grid-column: 5 / span 6;

                    ${be["2xl"]} {
                        grid-column: 6 / span 6;
                    }
                `}}}
`,Hf=x.div`
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    height: 100%;

    ${({$mode:e})=>{switch(e){case"expanded":return E`
                    grid-column: 4 / span 6;

                    ${be["2xl"]} {
                        grid-column: 3 / span 9;
                    }
                `;case"minimised":return E`
                    grid-column: 5 / span 7;

                    ${be["2xl"]} {
                        grid-column: 6 / span 7;
                    }
                `}}}
`,Wf=x(I.HeadingSM)`
    margin-top: 2rem;
`,Xf=x(I.BodyBL)`
    margin-top: 1rem;
`,Gf=x.ul`
    list-style-type: none;
    display: grid;
    row-gap: 2rem;

    ${({$mode:e})=>{switch(e){case"expanded":return E`
                    grid-template-columns: repeat(6, minmax(0, 1fr));
                    column-gap: 2rem;

                    ${be["2xl"]} {
                        grid-template-columns: repeat(8, minmax(0, 1fr));
                        column-gap: 2rem;
                    }

                    ${y.MaxWidth.xl} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                `;case"minimised":return E`
                    grid-template-columns: repeat(6, minmax(0, 1fr));
                    column-gap: 2rem;

                    ${y.MaxWidth.xl} {
                        grid-template-columns: repeat(4, minmax(0, 1fr));
                        column-gap: 1.5rem;
                    }
                `}}}
`,Zf=x.li`
    ${({$mode:e,$size:t})=>xc(t,e)}
`,Kf=()=>{const{showSidePanel:n,orderedIdentifiers:r,elements:i,focusElement:a,focusedElement:o,updateOrderedIdentifiers:s,removeFocusedElement:l}=At(),u=d(null),f=d([]),p=d([]),{isDirty:h}=o||{},m=!!o||n?"minimised":"expanded",v=d(-1),g=[],{showModal:b,discardChanges:y}=dn();for(const e of r)"internalId"in e&&g.push({id:e.internalId});const _=El(xl(bu,{activationConstraint:{distance:8}}),xl(_u,{activationConstraint:{delay:150,tolerance:5}}),xl(cu,{coordinateGetter:yc})),w=e=>()=>{var t,n;if(h&&(null==e?void 0:e.internalId)!==(null===(t=null==o?void 0:o.element)||void 0===t?void 0:t.internalId)){const t={type:Pt.DiscardChanges,onClickActionButton:()=>(e=>{l(),a(e),y()})(e)};b(t)}else h||(null==e?void 0:e.internalId)===(null===(n=null==o?void 0:o.element)||void 0===n?void 0:n.internalId)||a(e)},x=Uf((e=>{var t,n;const{active:i}=e,a=null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect(),o=a.left+a.width/3,l=a.left+2*a.width/3-a.width/9,c=r.findIndex((e=>e.internalId===i.id)),d=(null===(n=i.rect.current.translated)||void 0===n?void 0:n.left)+e.activatorEvent.layerX;let f=c,h="full";if(d<=o?h="left":d>=l&&(h="right"),i.rect.current.translated.top>v.current)f=p.current.findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));else{const e=[...p.current].reverse().findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));f=p.current.length-1-e}const m=tc(r,c,f);m[f]=Object.assign(Object.assign({},m[f]),{size:h}),s(m)}),10);c((()=>{const e=new Set(r.map((e=>e.internalId)));f.current=f.current.filter((t=>e.has(t.internalId)&&t.element))}),[r]);return 0===r.length?t(Hf,Object.assign({$mode:m,"data-testid":"empty-content"},{children:[e(L,{type:"no-item-found",imageOnly:!0}),e(Wf,Object.assign({weight:"semibold"},{children:"Form is empty"})),e(Xf,{children:"Add an element to start building your form!"})]})):e(qf,Object.assign({$mode:m,ref:u},{children:e(Zu,Object.assign({sensors:_,onDragMove:x,onDragStart:e=>{var t;v.current=null===(t=e.active.rect.current.initial)||void 0===t?void 0:t.top,f.current.forEach(((e,t)=>{p.current[t]=e.element.getBoundingClientRect()}))},onDragEnd:()=>{p.current=[]},collisionDetection:Ml},{children:e(uc,Object.assign({items:g},{children:e(Gf,Object.assign({$mode:m},{children:r.map(((t,n)=>{const r=i[t.internalId];return e(Zf,Object.assign({$mode:m,$size:null==t?void 0:t.size,"data-testid":"element-content",ref:e=>f.current[n]={internalId:t.internalId,element:e}},{children:e(kc,{element:r,onClick:w(r)})}),t.internalId)}))}))}))}))}))},Yf=x.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin-bottom: 8rem;
`,Jf=x.li`
    display: flex;
    flex-direction: column;
`,Qf=x.div`
    border-bottom: ${v["width-010"]} ${v.solid} ${g.border};
    margin-bottom: 1rem;
    padding-bottom: 0.375rem;
`,ep=x.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,tp=x(K)`
    background: ${g["bg-strong"]};
    color: ${g["text-subtlest"]};
    border: none;

    svg {
        color: ${g["icon-subtle"]};
    }
`,np=x.div`
    display: flex;
    align-items: center;
    gap: 0.6rem;
`,rp=x(U)`
    color: ${g["icon-error"]};
    height: 1.125rem;
    width: 1.125rem;
`,ip=()=>{const{addElement:n}=At(),[r,i]=f(de),[a,o]=f("");return t(Yf,Object.assign({"data-testid":"add-elements-panel"},{children:[e("label",{children:e(tp,{placeholder:"Search",addon:{type:"custom",attributes:{children:e(Z,{"data-testid":"maginfying-glass"})},position:"left"},allowClear:!0,value:a,onClear:()=>{o(""),i(de)},onChange:e=>(e=>{const t=new RegExp(e,"i"),n=[];o(e),de.forEach((e=>{const r=e.elementTypes.filter((e=>t.test(pe[e])));r.length>0&&n.push({categoryTitle:e.categoryTitle,elementTypes:r})})),i(n)})(e.target.value)})}),r.length>0?r.map(((r,i)=>{return t(Jf,{children:[e(Qf,{children:e(I.BodySM,Object.assign({weight:"semibold"},{children:r.categoryTitle}))}),e(ep,{children:(a=r.elementTypes,a.map((t=>{return e("li",{children:e(_f,{type:t,onClick:(r=t,()=>{n(r,!0)})})},t);var r})))})]},i);var a})):t(np,{children:[e(rp,{}),e(I.BodyBL,{children:"No results found."})]})]}))},ap=x.div`
    height: 5.75rem;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem 1rem 2rem 2rem;
    border-bottom: ${({$showDivider:e})=>e?E`
                  ${v["width-010"]} ${v.solid} ${g.border};
              `:"none"};
`,op=x(J)`
    transform: ${({$isCollapsed:e})=>e?"rotate(-180deg)":"rotate(0)"};
    transition: transform ${_["duration-350"]} ${_["ease-standard"]};
`,sp=x(I.HeadingSM)`
    margin-right: 1rem;
`,lp=x(F.Small)`
    margin-left: auto;
    margin-right: 1rem;
`,up=({showDivider:r})=>{const{showSidePanel:i,currentMode:a,togglePanel:o,removeFocusedElement:s,focusedElement:l,isSubmitting:u}=At(),{isDirty:c}=l||{},{showModal:d,discardChanges:f}=dn(),{reset:p}=Gn(),h=()=>{s(),f(),p()},m=()=>{if(c){const e={type:Pt.DiscardChanges,onClickActionButton:h};d(e)}else s()};return t(ap,Object.assign({$showDivider:r},{children:[e(sp,Object.assign({weight:"semibold","data-testid":"header-label"},{children:(()=>{if(l)return"Edit details";switch(a){case yt.ADD_ELEMENT:return"Add elements";case yt.EDIT_PAGES:return"Add pages"}})()})),(()=>{if(l)return t(n,{children:[e(lp,Object.assign({"data-testid":"save-changes-button",disabled:u,loading:u},{children:u?"Saving":c?"Save Changes":"Saved"})),e(Yt,Object.assign({$iconSize:"1.5rem",$iconColor:g.icon,onClick:m,type:"button"},{children:e(Y,{"data-testid":"cross-button"})}))]});switch(a){case yt.ADD_ELEMENT:case yt.EDIT_PAGES:return e(Yt,Object.assign({$iconSize:"1.5rem",$iconColor:g.icon,onClick:()=>o(!i)},{children:e(op,{$isCollapsed:i})}))}})()]}))},cp=x.div`
    display: flex;
    flex-direction: column;
    height: calc(100% - ${e=>e.$offset}rem);
    width: ${({$narrow:e})=>e?"31.2rem":"36.8rem"};
    transition: all ${_["duration-350"]} ${_["ease-entrance"]};
    background: ${g.bg};
    border-left: ${v["width-010"]} ${v.solid} ${g.border};
    margin-left: auto;
    box-shadow: 0px 2px 12px 0px rgba(104, 104, 104, 0.25);
    position: fixed;
    top: ${e=>e.$offset}rem;
    left: 0;
    transform: translateX(0);

    ${y.MaxWidth.xl} {
        width: ${({$narrow:e})=>e?"24.4rem":"30rem"};
    }

    ${e=>{if(e.$minimised)return E`
                transform: translateX(calc(-100% + 5.5rem));
            `}}
`,dp=x.div`
    display: flex;
    height: 100%;
    overflow: hidden;
`,fp=x.div`
    padding: ${({$isFocusedElement:e,$minimised:t})=>e?"1rem":t?"2rem 6rem 2rem 2rem":"2rem"};

    flex: 1;
    overflow-y: ${({$minimised:e})=>e?"hidden":"auto"};
    display: flex;
    flex-direction: column;
    height: 100%;
`,pp=x.div`
    height: 100%;
    background: ${g.bg};
    display: flex;
    flex-direction: column;
    align-items: center;
    width: fit-content;
    padding: 2rem 1rem;
    border-left: ${v["width-010"]} ${v.solid} ${g.border};
    gap: 2rem;
`,hp=x.button`
    background: ${({$active:e})=>e?g["bg-selected-strong"]:"transparent"};
    color: ${g["text-primary"]};
    display: grid;
    cursor: pointer;
    border: none;
    border-radius: ${b.xs};
    padding: 1rem;

    :hover {
        background: ${g["bg-hover-strong"]};
    }

    :focus {
        outline-color: ${g["border-focus-strong"]};
    }

    svg {
        width: 1.625rem;
        height: 1.625rem;
    }
`,mp=()=>{const{currentMode:n,toggleMode:r,togglePanel:i,showSidePanel:a}=At(),o=e=>()=>{r(e),a||i(!0)};return t(pp,Object.assign({"data-testid":"toolbar"},{children:[e(hp,Object.assign({type:"button","data-testid":"add-element",$active:n===yt.ADD_ELEMENT,onClick:o(yt.ADD_ELEMENT)},{children:e(Ut,{})})),e(hp,Object.assign({type:"button",$active:n===yt.EDIT_PAGES,onClick:o(yt.EDIT_PAGES)},{children:e(Q,{})}))]}))},vp=({offset:n,onSubmit:r})=>{const{showSidePanel:i,currentMode:a,focusedElement:o,updateElement:s,updateFocusedElement:u,selectedElementType:d,toggleSubmitting:f}=At(),p=(e=>{var t,n;const{panels:r}=It();return null===(n=null===(t=null==r?void 0:r[e])||void 0===t?void 0:t.shouldShow)||void 0===n||n})("pages"),{showToast:h}=zt(),m=Qr({mode:"onTouched",resolver:ii(od.buildYupSchema(d||re.EMAIL)),defaultValues:null==o?void 0:o.element}),{getValues:v,formState:{isSubmitSuccessful:g}}=m,b=l((e=>ce(void 0,void 0,void 0,(function*(){r&&(f(!0),yield r(e),f(!1));const t={message:"Changes are saved successfully.",type:Bt.SUCCESS_TOAST};if("dropdownItems"in e){const t=v("dropdownItems").filter((e=>e.label.length>0||e.value.length>0));e.dropdownItems=t}if("pillItems"in e){const t=v("pillItems").filter((e=>e.content.length>0));e.pillItems=t}s(e),u(!1,e),h(t)}))),[s,u,r]);c((()=>{g&&setTimeout((()=>m.reset()))}),[g,m.reset]),c((()=>{o&&m.reset(o.element)}),[null==o?void 0:o.element,m.reset]);const y=null===o&&p,_=!o&&!i,w=y||!_;return e(Zn,Object.assign({},m,{children:e("form",Object.assign({onSubmit:m.handleSubmit(b)},{children:t(cp,Object.assign({$minimised:_,$offset:n||0,$narrow:!p},{children:[e(up,{showDivider:w}),t(dp,{children:[e(fp,Object.assign({$minimised:_,$isFocusedElement:!!o},{children:o?e(bf,{}):a===yt.ADD_ELEMENT?e(ip,{}):e("div",Object.assign({"data-testid":"default-content"},{children:"Some content here..."}))})),y&&e(mp,{})]})]}))}))}))},gp=x(ee.Section)`
    cursor: ${({$disabled:e})=>e?"not-allowed":"auto"};
    height: 100%;
    overflow-x: hidden;
    padding-left: 0 !important;
    padding-right: 0 !important;
`,bp=x(ee.Container)`
    position: relative;
    height: 100%;
    padding: 2rem 3rem;
    display: ${({$isLargeScreen:e})=>e?"grid":"none"};
`,yp=e=>{const t=(e=>{if(!e||0===e.length)return;const t=e.reduce(((e,t)=>{const n=t.comparator===ae.LESS_THAN||t.comparator===ae.MORE_THAN?parseInt(t.value):t.value;return e[t.fieldKey]||(e[t.fieldKey]=[{filled:!0}]),e[t.fieldKey].push({[ve[t.comparator]]:n}),e}),{});return 0===Object.keys(t).length?[]:[t]})(null==e?void 0:e.conditionalRendering);return Object.assign(Object.assign({label:Object.assign({mainLabel:e.label},e.description&&{subLabel:e.description}),uiType:e.type,columns:{desktop:"left"===e.size||"right"===e.size?6:e.columns.desktop,tablet:e.columns.tablet,mobile:e.columns.mobile}},e.required&&{validation:[Object.assign({required:!0},e.requiredErrorMsg&&{errorMessage:e.requiredErrorMsg})]}),t&&{showIf:t})},_p=e=>({max:parseInt(e.validationRule),errorMessage:e.validationErrorMessage}),wp=e=>({min:parseInt(e.validationRule),errorMessage:e.validationErrorMessage});var xp,Ep,Op,Tp,Cp,Sp,Ap;!function(e){e.elementToSchema=e=>{const t=yp(e),n=(e=>{const{defaultCountryCode:t,displayAsFixedCountryCode:n,validation:r}=e,{validationRule:i,validationErrorMessage:a}=r[0],o={contactNumber:{internationalNumber:!0},errorMessage:a};return n&&(o.contactNumber="Singapore"===t?{singaporeNumber:i}:{internationalNumber:t}),o})(e),{placeholder:r,enableClearButton:i,defaultCountryCode:a,displayAsFixedCountryCode:o}=e;return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),r&&{placeholder:r}),i&&{allowClear:!0}),!o&&a&&{defaultCountry:e.defaultCountryCode}),{validation:[...t.validation||[],n]})}}}(xp||(xp={})),function(e){e.elementToSchema=e=>{const t=yp(e);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),e.dropdownItems&&{options:e.dropdownItems})}}}(Ep||(Ep={})),function(e){e.elementToSchema=e=>{const t=yp(e),n=(e=>{if(0===e.length)return;return{matches:(e=>{if(e){const t=null==e?void 0:e.validationRule.split(","),n=`^[a-zA-Z0-9._%+-]+@(${(null==t?void 0:t.map((e=>e.trim().replace(/^@/,"").replace(/\./g,"\\.")))).join("|")})$`;return new RegExp(n)}})(e[0]).toString(),errorMessage:e[0].validationErrorMessage}})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],n]})}}}(Op||(Op={})),function(e){e.elementToSchema=e=>{var t;const n=yp(e),r=(e=>{if(0!==e.length)return _p(e[0])})(e.validation),i=e.resizableInput,a=null===(t=e.pillItems)||void 0===t?void 0:t.map((e=>e.content));return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e.placeholder&&{placeholder:e.placeholder}),r&&{validation:[...n.validation||[],r]}),i&&{resizable:!0}),e.pills&&{chipTexts:a}),e.pills&&"bottom"===e.pillPosition&&{chipPosition:e.pillPosition})}}}(Tp||(Tp={})),function(e){e.elementToSchema=e=>{const t=yp(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case oe.MAX_VALUE:e.push(_p(t));break;case oe.MIN_VALUE:e.push(wp(t));break;case oe.WHOLE_NUMBERS:e.push((e=>({integer:!0,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(Cp||(Cp={})),function(e){e.elementToSchema=e=>{const t=yp(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case oe.MAX_LENGTH:e.push(_p(t));break;case oe.MIN_LENGTH:e.push(wp(t));break;case oe.CUSTOM_REGEX:e.push((e=>({matches:e.validationRule,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(Sp||(Sp={})),function(e){e.elementToSchema=e=>{const t=yp(e);return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign({},t),{customOptions:{indicator:!0,styleType:"toggle"}}),e.placeholder&&{placeholder:e.placeholder}),e.radioItems&&{options:e.radioItems})}}}(Ap||(Ap={}));const jp=e=>(null==e?void 0:e.filter((e=>!Object.prototype.hasOwnProperty.call(e,"required"))))||[],Dp=(e,t)=>{const n=e[t];return null==n?void 0:n.filter((e=>!(null===Oe.exec(null==e?void 0:e.path)||(null==e?void 0:e.actionId)&&null===Ee.exec(null==e?void 0:e.actionId)||"Myinfo"!==(null==e?void 0:e.prefillMode)&&"Previous source"!==(null==e?void 0:e.prefillMode))))},Ip=(e,t,n,r)=>{const{showIf:i,uiType:a,validation:o,label:s}=e;let l="",u="";"string"==typeof s?l=s:s&&"mainLabel"in s&&(l=s.mainLabel,u=s.subLabel||"");const c=null==o?void 0:o.find((e=>Object.prototype.hasOwnProperty.call(e,"required"))),d=ye.generate();var f;return{columns:{desktop:12,tablet:8,mobile:4},label:l,description:u,type:a,required:!!(null==c?void 0:c.required),requiredErrorMsg:(null==c?void 0:c.errorMessage)||"",id:t,internalId:d,conditionalRendering:i?(f=i,f.reduce(((e,t)=>(Object.entries(t).forEach((([t,n])=>{n.filter((e=>!("filled"in e))).forEach((n=>{const[r,i]=Object.entries(n)[0];e.push({fieldKey:t,comparator:ge[r],value:i,internalId:""})}))})),e)),[])):[],prefill:Dp(n,t)||[],preselectedValue:r||""}},Mp=e=>({validationType:oe.MAX_LENGTH,validationRule:e.max.toString(),validationErrorMessage:e.errorMessage});var kp,Np,$p,Rp,Fp,Lp,Vp,zp;!function(e){e.schemaToElement=(e,t,n,r)=>{const i=Ip(e,t,n,r),{placeholder:a,allowClear:o,defaultCountry:s,validation:l}=e,u=(e=>{if(!e)throw new Error("Contact schema must have additional validation.");const t=e.filter((e=>Object.prototype.hasOwnProperty.call(e,"contactNumber")));if(0===t.length||t.length>1)throw new Error("Contact schema must define exactly one contactNumber validation.");const n=t[0];if(!n||!("singaporeNumber"in n.contactNumber)&&!("internationalNumber"in n.contactNumber))throw new Error("Contact schema must have contactNumber validation with either singaporeNumber or internationalNumber.");const{contactNumber:r,errorMessage:i}=n;if("singaporeNumber"in r)return{defaultCountryCode:"Singapore",displayAsFixedCountryCode:!0,validation:[{validationType:oe.CONTACT_NUMBER,validationRule:r.singaporeNumber,validationErrorMessage:i}]};if(!1===r.internationalNumber)throw new Error("Contact schema must set internationalNumber to true if it is defined.");return!0===r.internationalNumber?{displayAsFixedCountryCode:!1,validation:[{validationType:oe.CONTACT_NUMBER,validationErrorMessage:i}]}:{defaultCountryCode:r.internationalNumber,displayAsFixedCountryCode:!0,validation:[{validationType:oe.CONTACT_NUMBER,validationErrorMessage:i}]}})(l);return Object.assign(Object.assign(Object.assign({},i),{placeholder:a||"",enableClearButton:o||!1,defaultCountryCode:s||""}),u)}}(kp||(kp={})),function(e){e.schemaToElement=(e,t,n,r)=>{const i=Ip(e,t,n,r),{options:a,placeholder:o}=e;if(to(a)||a.length<2)throw new Error("Dropdown schema must have at least 2 options");return Object.assign(Object.assign({},i),{placeholder:o||"",dropdownItems:a})}}(Np||(Np={})),function(e){const t=e=>{const t=e.find((e=>Object.prototype.hasOwnProperty.call(e,se.MATCHES)));if(!t)return;const n=t.matches.toString().match(/@\((.*?)\)\$/)[1].split("|").map((e=>e.replace(/\\./g,"."))).map((e=>"@"+e)).join(", ");return/@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}/.exec(n)?[{validationType:oe.EMAIL_DOMAIN,validationRule:n,validationErrorMessage:t.errorMessage}]:void 0};e.schemaToElement=(e,n,r,i)=>{const a=Ip(e,n,r,i),{validation:o,placeholder:s}=e,l=jp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}($p||($p={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{if(n===se.MAX)e.push(Mp(t))})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=Ip(e,n,r,i),{validation:o,placeholder:s,resizable:l,chipTexts:u,chipPosition:c}=e,d=null==u?void 0:u.map((e=>({content:e})));if(d&&d.length<2)throw new Error("Long text area schema must have at least 2 chip texts if chipTexts is defined");const f=jp(o);return Object.assign(Object.assign(Object.assign(Object.assign({},a),{placeholder:s||"",validation:f.length>0&&t(f)||[],resizableInput:!!l}),d?{pills:!0,pillItems:d}:{pills:!1}),d&&{pillPosition:c||"top"})}}(Rp||(Rp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case se.MAX:e.push((r=t,{validationType:oe.MAX_VALUE,validationRule:r.max.toString(),validationErrorMessage:r.errorMessage}));break;case se.MIN:e.push((e=>({validationType:oe.MIN_VALUE,validationRule:e.min.toString(),validationErrorMessage:e.errorMessage}))(t));break;case se.INTEGER:e.push((e=>({validationType:oe.WHOLE_NUMBERS,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=Ip(e,n,r,i),{validation:o,placeholder:s}=e,l=jp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(Fp||(Fp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case se.MAX:e.push(Mp(t));break;case se.MIN:e.push((r=t,{validationType:oe.MIN_LENGTH,validationRule:r.min.toString(),validationErrorMessage:r.errorMessage}));break;case se.MATCHES:e.push((e=>({validationType:oe.CUSTOM_REGEX,validationRule:e.matches,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=Ip(e,n,r,i),{validation:o,placeholder:s}=e,l=jp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(Lp||(Lp={})),function(e){e.schemaToElement=(e,t,n,r)=>{const i=Ip(e,t,n,r),{options:a,placeholder:o}=e;if(to(a)||a.length<2)throw new Error("Radio button schema must have at least 2 options");return Object.assign(Object.assign({},i),{placeholder:o||"",radioItems:a})}}(Vp||(Vp={})),function(e){e.generateSchema=(e,t,n)=>{var r;const i=null===(r=null==n?void 0:n.shouldShowPrefill)||void 0===r||r,a=i?(e=>Object.values(e).reduce(((e,t)=>(t.prefill&&t.prefill.length>0&&(e[t.id]=t.prefill),e)),{}))(e):{},o=(e=>Object.values(e).reduce(((e,t)=>("preselectedValue"in t&&t.preselectedValue&&(e[t.id]=t.preselectedValue),e)),{}))(e),s=t.reduce(((t,n)=>(t[n.internalId]=Object.assign(Object.assign({},e[n.internalId]),{size:n.size}),t)),{}),l=Object.values(s).reduce(((e,t,n)=>{let r;switch(t.type){case re.EMAIL:r=Op.elementToSchema(t);break;case re.TEXT:r=Sp.elementToSchema(t);break;case re.TEXTAREA:r=Tp.elementToSchema(t);break;case re.CONTACT:r=xp.elementToSchema(t);break;case re.NUMERIC:r=Cp.elementToSchema(t);break;case re.DROPDOWN:r=Ep.elementToSchema(t);break;case re.RADIO:r=Ap.elementToSchema(t)}return Object.assign(Object.assign({},e),r)}),{}),u={defaultValues:o,sections:{section:{children:{grid:{children:Object.assign({},l),uiType:"grid"},"submit-button":{disabled:"invalid-form",label:"Submit",uiType:"submit"}},uiType:"section"}}};return Object.assign({schema:u},i&&{prefill:a})},e.parseSchema=(e,t)=>{var n,r,i,a,o,s,l;const u=null===(o=null===(a=null===(i=null===(r=null===(n=null==e?void 0:e.schema)||void 0===n?void 0:n.sections)||void 0===r?void 0:r.section)||void 0===i?void 0:i.children)||void 0===a?void 0:a.grid)||void 0===o?void 0:o.children,c=null===(s=null==t?void 0:t.shouldShowPrefill)||void 0===s||s;if(!u)throw new Error("Element schemas are missing");if(0===Object.keys(u).length)return null;const d=null===(l=null==e?void 0:e.schema)||void 0===l?void 0:l.defaultValues,f=[];return 0!==Object.values(u).length?(Object.entries(u).forEach((([t,n])=>{const{uiType:r}=n;if(!r)throw new Error("UI type is missing");let i;const a=d[t];switch(r){case re.EMAIL:i=$p.schemaToElement(n,t,c?e.prefill:{},a);break;case re.TEXT:i=Lp.schemaToElement(n,t,c?e.prefill:{},a);break;case re.TEXTAREA:i=Rp.schemaToElement(n,t,c?e.prefill:{},a);break;case re.NUMERIC:i=Fp.schemaToElement(n,t,c?e.prefill:{},a);break;case re.CONTACT:i=kp.schemaToElement(n,t,c?e.prefill:{},a);break;case re.DROPDOWN:i=Np.schemaToElement(n,t,c?e.prefill:{},a);break;case re.RADIO:i=Vp.schemaToElement(n,t,e.prefill,a);break;default:throw new Error("Invalid element type")}f.push(i)})),(e=>{const t={},n=[];return Object.values(e).forEach((r=>{var i;t[r.internalId]=r,n.push({internalId:r.internalId,size:"full"}),(null===(i=null==r?void 0:r.conditionalRendering)||void 0===i?void 0:i.length)>0&&r.conditionalRendering.forEach(((t,n)=>{const i=Object.values(e).find((e=>(null==e?void 0:e.id)===t.fieldKey));i?r.conditionalRendering[n]=Object.assign(Object.assign({},t),{internalId:i.internalId}):r.conditionalRendering.splice(n,1)}))})),{newElements:t,newOrderedIdentifiers:n}})(f)):null}}(zp||(zp={}));const Bp=h((({offset:n,onSubmit:r},i)=>{const[a,o]=f(window.innerWidth>=1200),{elements:s,updateElementSchema:l,orderedIdentifiers:u,isSubmitting:d,removeFocusedElement:p,focusedElement:h}=At(),v=$t(),g=(()=>{const{presetForm:e}=It();return e})();return m(i,(()=>({generateSchema:()=>zp.generateSchema(s,u,{shouldShowPrefill:v}),parseSchema:e=>{const{newOrderedIdentifiers:t,newElements:n}=zp.parseSchema(e,{shouldShowPrefill:v})||{};if(!t||!n)return l({},[]),void p();const r=Object.values(n).find((e=>{var t;return e.id===(null===(t=null==h?void 0:h.element)||void 0===t?void 0:t.id)}));l(n,t,r)}})),[s,u]),c((()=>{if(window){const e=()=>{o(window.innerWidth>=1200)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[]),c((()=>{if(g){const e=Object.keys(g).reduce(((e,t)=>(e[t]=g[t].schema,e)),{}),t={schema:{defaultValues:{},sections:{section:{children:{grid:{children:Object.assign({},e),uiType:"grid"},"submit-button":{disabled:"invalid-form",label:"Submit",uiType:"submit"}},uiType:"section"}}},prefill:{}},{newOrderedIdentifiers:n,newElements:r}=zp.parseSchema(t,{shouldShowPrefill:v})||{};l(r,n)}}),[]),t(gp,Object.assign({$disabled:d},{children:[!a&&e(xf,{}),t(bp,Object.assign({type:"grid",stretch:!0,$isLargeScreen:a},{inert:d?"":void 0},{children:[e(cn,{}),e(Ps,{}),e(Kf,{}),e(vp,{offset:n,onSubmit:r})]}))]}))})),Pp=h(((t,n)=>e(Dt,Object.assign({value:t.config},{children:e(St,{children:e(Vt,{children:e(Bp,Object.assign({ref:n},t))})})}))));export{Pp as FormBuilder};
//# sourceMappingURL=index.js.map
