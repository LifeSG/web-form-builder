import{jsx as e,jsxs as t,Fragment as n}from"react/jsx-runtime";import r,{useMemo as i,useReducer as a,createContext as o,useContext as s,useCallback as l,useLayoutEffect as u,useEffect as c,useRef as d,useState as f,memo as p,forwardRef as h,useImperativeHandle as m}from"react";import{Color as g}from"@lifesg/react-design-system/color";import v,{css as b}from"styled-components";import{ChevronDownIcon as y}from"@lifesg/react-icons/chevron-down";import{EnvelopeIcon as _}from"@lifesg/react-icons/envelope";import{PhoneIcon as x}from"@lifesg/react-icons/phone";import{PopoverTrigger as w}from"@lifesg/react-design-system/popover-v2";import{BinIcon as E}from"@lifesg/react-icons/bin";import{PlusIcon as O}from"@lifesg/react-icons/plus";import{Text as C,TextStyleHelper as T}from"@lifesg/react-design-system/text";import{Accordion as S}from"@lifesg/react-design-system/accordion";import{ButtonWithIcon as A}from"@lifesg/react-design-system/button-with-icon";import{Toast as j}from"@lifesg/react-design-system/toast";import{MediaQuery as k}from"@lifesg/react-design-system/media";import{Modal as D}from"@lifesg/react-design-system/modal";import{Form as I}from"@lifesg/react-design-system/form";import{Button as M}from"@lifesg/react-design-system/button";import{ErrorDisplay as N}from"@lifesg/react-design-system/error-display";import{unstable_batchedUpdates as $,createPortal as F}from"react-dom";import{DragHandleIcon as R,PlusCircleIcon as L,ICircleFillIcon as V}from"@lifesg/react-icons";import{CopyIcon as z}from"@lifesg/react-icons/copy";import{Toggle as P}from"@lifesg/react-design-system/toggle";import{Form as U,Text as B}from"@lifesg/react-design-system";import{Alert as q}from"@lifesg/react-design-system/alert";import{PencilIcon as W}from"@lifesg/react-icons/pencil";import{MagnifierIcon as H}from"@lifesg/react-icons/magnifier";import{InputGroup as X}from"@lifesg/react-design-system/input-group";import{CrossIcon as G}from"@lifesg/react-icons/cross";import{ChevronRightIcon as Z}from"@lifesg/react-icons/chevron-right";import{Transition as K}from"@lifesg/react-design-system/transition";import{DocIcon as Y}from"@lifesg/react-icons/doc";import{Layout as J}from"@lifesg/react-design-system/layout";const Q=v.div`
    padding: 1rem;
    border-radius: 0.5rem;
    cursor: pointer;
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    box-shadow: 0px 2px 8px 0px rgba(104, 104, 104, 0.24);

    ${({$focused:e})=>e?b`
                  border: 1px solid ${g.Primary};
                  background: ${g.Accent.Light[5]};
              `:b`
                  border: 1px solid transparent;
              `}

    :hover {
        border-color: ${g.Primary};
        box-shadow: 0px 2px 8px 0px ${g.Shadow.Accent};
    }

    :focus {
        outline-color: ${g.Primary};
    }
`,ee=({id:t,children:n,focused:r,onClick:i,className:a="pointer"})=>e(Q,Object.assign({tabIndex:0,$focused:r,onClick:i,id:t,role:"button",className:a},{children:n}));function te(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ne(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}var re;"function"==typeof SuppressedError&&SuppressedError,function(e){e.CONTACT="contact-field",e.EMAIL="email-field",e.NUMERIC="numeric-field",e.DROPDOWN="select",e.TEXT="text-field",e.TEXTAREA="textarea"}(re||(re={}));const ie=new Set([re.CONTACT,re.EMAIL,re.NUMERIC,re.TEXT,re.TEXTAREA]);var ae,oe,se,le;new Set([re.DROPDOWN]),function(e){e.MORE_THAN="More than",e.LESS_THAN="Less than",e.EQUALS="Equals",e.NOT_EQUALS="Not equals"}(ae||(ae={})),function(e){e.EMAIL_DOMAIN="Email domain",e.WHOLE_NUMBERS="Whole numbers",e.CUSTOM_REGEX="Custom regex",e.MIN_VALUE="Minimum value",e.MAX_VALUE="Maximum value",e.MIN_LENGTH="Minimum length",e.MAX_LENGTH="Maximum length",e.CONTACT_NUMBER="Contact number format"}(oe||(oe={})),function(e){e.MIN="min",e.MAX="max",e.INTEGER="integer",e.MATCHES="matches"}(se||(se={})),function(e){e.DEFAULT="default",e.MOBILE="mobile",e.HOUSE="house"}(le||(le={}));const ue=[{categoryTitle:"Text field",elementTypes:[re.EMAIL,re.TEXT,re.TEXTAREA,re.NUMERIC,re.CONTACT]},{categoryTitle:"Option group",elementTypes:[re.DROPDOWN]}],ce={[re.EMAIL]:"Email address",[re.NUMERIC]:"Numbers",[re.TEXT]:"Short text",[re.TEXTAREA]:"Long text",[re.CONTACT]:"Contact number",[re.DROPDOWN]:"Dropdown"},de={[re.EMAIL]:"email-field",[re.NUMERIC]:"numeric-field",[re.CONTACT]:"contact-field",[re.TEXT]:"short-text-field",[re.TEXTAREA]:"long-text-field",[re.DROPDOWN]:"select"},fe={"Text field":{[re.EMAIL]:{maxEntries:1,validationTypes:[oe.EMAIL_DOMAIN]},[re.NUMERIC]:{maxEntries:3,validationTypes:[oe.WHOLE_NUMBERS,oe.MIN_VALUE,oe.MAX_VALUE]},[re.TEXT]:{maxEntries:-1,validationTypes:[oe.CUSTOM_REGEX,oe.MIN_LENGTH,oe.MAX_LENGTH]},[re.TEXTAREA]:{maxEntries:1,validationTypes:[oe.MAX_LENGTH]},[re.CONTACT]:{maxEntries:1,validationTypes:[oe.CONTACT_NUMBER]}}},pe={[ae.MORE_THAN]:"moreThan",[ae.LESS_THAN]:"lessThan",[ae.EQUALS]:"equals",[ae.NOT_EQUALS]:"notEquals"},he={moreThan:ae.MORE_THAN,lessThan:ae.LESS_THAN,equals:ae.EQUALS,notEquals:ae.NOT_EQUALS};var me;!function(e){e.generate=()=>Math.random().toString(36).substring(2,9)}(me||(me={}));const ge=(e,t,n)=>{const r=new RegExp(n?`^${e}-copy(?:-(\\d+))?$`:`^${e}(?:-(\\d+))?$`);let i=n?0:-1;return t.forEach((e=>{const t=null==e?void 0:e.match(r);if(t){const e=t[1]?parseInt(t[1],10):n?1:0;i=Math.max(i,e)}})),n?`${e}-copy${i+1>1?`-${i+1}`:""}`:`${e}${i+1>0?`-${i+1}`:""}`},ve=e=>{let t;for(;!t||e.includes(t);)t=me.generate();return t};var be;!function(e){e.generate=(e,t,n)=>{const r={internalId:ve(t),type:e,id:ge(de[e],n,!1),required:!0,requiredErrorMsg:"This is a required field.",preselectedValue:"",description:"",label:ce[e],columns:{desktop:12,tablet:8,mobile:4},conditionalRendering:[],prefill:[]};switch(e){case re.EMAIL:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case re.NUMERIC:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case re.TEXT:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case re.TEXTAREA:return Object.assign(Object.assign({},r),{placeholder:"",resizableInput:!1,pills:!1,validation:[]});case re.DROPDOWN:return Object.assign(Object.assign({},r),{placeholder:"",dropdownItems:[{label:"",value:""},{label:"",value:""}]});case re.CONTACT:return Object.assign(Object.assign({},r),{placeholder:"",enableClearButton:!0,defaultCountryCode:"",validation:[{validationType:oe.CONTACT_NUMBER,validationErrorMessage:"Invalid contact number."}]});default:return null}},e.duplicate=(e,t,n)=>{const r=(e=>{const t=e.match(/^(.*?)(-copy(?:-\d+)?)?$/);return t?t[1]:e})(e.id),i=ge(r,n,!0);return Object.assign(Object.assign({},e),{internalId:ve(t),id:i})}}(be||(be={}));const ye=/^[a-zA-Z0-9_-]+$/,_e=/^[a-zA-Z0-9._-]+$/;var xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function we(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ee,Oe,Ce={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ee=Ce,Oe=Ce.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",r="__lodash_placeholder__",i=16,a=32,o=64,s=128,l=256,u=1/0,c=9007199254740991,d=NaN,f=4294967295,p=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",i],["flip",512],["partial",a],["partialRight",o],["rearg",l]],h="[object Arguments]",m="[object Array]",g="[object Boolean]",v="[object Date]",b="[object Error]",y="[object Function]",_="[object GeneratorFunction]",x="[object Map]",w="[object Number]",E="[object Object]",O="[object Promise]",C="[object RegExp]",T="[object Set]",S="[object String]",A="[object Symbol]",j="[object WeakMap]",k="[object ArrayBuffer]",D="[object DataView]",I="[object Float32Array]",M="[object Float64Array]",N="[object Int8Array]",$="[object Int16Array]",F="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]",P=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,H=RegExp(q.source),X=RegExp(W.source),G=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ne=/^\s+/,re=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="['’]",De="["+_e+"]",Ie="["+je+"]",Me="["+we+"]",Ne="\\d+",$e="["+Ce+"]",Fe="["+Te+"]",Re="[^"+_e+je+Ne+Ce+Te+Se+"]",Le="\\ud83c[\\udffb-\\udfff]",Ve="[^"+_e+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Se+"]",Be="\\u200d",qe="(?:"+Fe+"|"+Re+")",We="(?:"+Ue+"|"+Re+")",He="(?:['’](?:d|ll|m|re|s|t|ve))?",Xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Me+"|"+Le+")?",Ze="["+Ae+"]?",Ke=Ze+Ge+"(?:"+Be+"(?:"+[Ve,ze,Pe].join("|")+")"+Ze+Ge+")*",Ye="(?:"+[$e,ze,Pe].join("|")+")"+Ke,Je="(?:"+[Ve+Me+"?",Me,ze,Pe,De].join("|")+")",Qe=RegExp(ke,"g"),et=RegExp(Me,"g"),tt=RegExp(Le+"(?="+Le+")|"+Je+Ke,"g"),nt=RegExp([Ue+"?"+Fe+"+"+He+"(?="+[Ie,Ue,"$"].join("|")+")",We+"+"+Xe+"(?="+[Ie,Ue+qe,"$"].join("|")+")",Ue+"?"+qe+"+"+He,Ue+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ye].join("|"),"g"),rt=RegExp("["+Be+_e+we+Ae+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,st={};st[I]=st[M]=st[N]=st[$]=st[F]=st[R]=st[L]=st[V]=st[z]=!0,st[h]=st[m]=st[k]=st[g]=st[D]=st[v]=st[b]=st[y]=st[x]=st[w]=st[E]=st[C]=st[T]=st[S]=st[j]=!1;var lt={};lt[h]=lt[m]=lt[k]=lt[D]=lt[g]=lt[v]=lt[I]=lt[M]=lt[N]=lt[$]=lt[F]=lt[x]=lt[w]=lt[E]=lt[C]=lt[T]=lt[S]=lt[A]=lt[R]=lt[L]=lt[V]=lt[z]=!0,lt[b]=lt[y]=lt[j]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,dt=parseInt,ft="object"==typeof xe&&xe&&xe.Object===Object&&xe,pt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||pt||Function("return this")(),mt=Oe&&!Oe.nodeType&&Oe,gt=mt&&Ee&&!Ee.nodeType&&Ee,vt=gt&&gt.exports===mt,bt=vt&&ft.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,wt=yt&&yt.isMap,Et=yt&&yt.isRegExp,Ot=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function jt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function It(e,t){return!(null==e||!e.length)&&Ut(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function $t(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Rt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Ht("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Pt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ut(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Pt(e,qt,n)}function Bt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function qt(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:d}function Ht(t){return function(n){return null==n?e:n[t]}}function Xt(t){return function(n){return null==t?e:t[n]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Zt(t,n){for(var r,i=-1,a=t.length;++i<a;){var o=n(t[i]);o!==e&&(r=r===e?o:r+o)}return r}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,mn(e)+1).replace(ne,""):e}function Jt(e){return function(t){return e(t)}}function Qt(e,t){return Nt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}var rn=Xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function sn(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,i=e.length,a=0,o=[];++n<i;){var s=e[n];s!==t&&s!==r||(e[n]=r,o[a++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){for(var t=tt.lastIndex=0;tt.test(e);)++t;return t}(e):Vt(e)}function hn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var gn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),vn=function re(_e){var xe,we=(_e=null==_e?ht:vn.defaults(ht.Object(),_e,vn.pick(ht,at))).Array,Ee=_e.Date,Oe=_e.Error,Ce=_e.Function,Te=_e.Math,Se=_e.Object,Ae=_e.RegExp,je=_e.String,ke=_e.TypeError,De=we.prototype,Ie=Ce.prototype,Me=Se.prototype,Ne=_e["__core-js_shared__"],$e=Ie.toString,Fe=Me.hasOwnProperty,Re=0,Le=(xe=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+xe:"",Ve=Me.toString,ze=$e.call(Se),Pe=ht._,Ue=Ae("^"+$e.call(Fe).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=vt?_e.Buffer:e,qe=_e.Symbol,We=_e.Uint8Array,He=Be?Be.allocUnsafe:e,Xe=un(Se.getPrototypeOf,Se),Ge=Se.create,Ze=Me.propertyIsEnumerable,Ke=De.splice,Ye=qe?qe.isConcatSpreadable:e,Je=qe?qe.iterator:e,tt=qe?qe.toStringTag:e,rt=function(){try{var e=fa(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=_e.clearTimeout!==ht.clearTimeout&&_e.clearTimeout,ft=Ee&&Ee.now!==ht.Date.now&&Ee.now,pt=_e.setTimeout!==ht.setTimeout&&_e.setTimeout,mt=Te.ceil,gt=Te.floor,bt=Se.getOwnPropertySymbols,yt=Be?Be.isBuffer:e,Vt=_e.isFinite,Xt=De.join,bn=un(Se.keys,Se),yn=Te.max,_n=Te.min,xn=Ee.now,wn=_e.parseInt,En=Te.random,On=De.reverse,Cn=fa(_e,"DataView"),Tn=fa(_e,"Map"),Sn=fa(_e,"Promise"),An=fa(_e,"Set"),jn=fa(_e,"WeakMap"),kn=fa(Se,"create"),Dn=jn&&new jn,In={},Mn=La(Cn),Nn=La(Tn),$n=La(Sn),Fn=La(An),Rn=La(jn),Ln=qe?qe.prototype:e,Vn=Ln?Ln.valueOf:e,zn=Ln?Ln.toString:e;function Pn(e){if(ns(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Fe.call(e,"__wrapped__"))return Va(e)}return new qn(e)}var Un=function(){function t(){}return function(n){if(!ts(n))return{};if(Ge)return Ge(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function Bn(){}function qn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Yn(e,t){var n=Wo(e),r=!n&&qo(e),i=!n&&!r&&Zo(e),a=!n&&!r&&!i&&cs(e),o=n||r||i||a,s=o?Kt(e.length,je):[],l=s.length;for(var u in e)!t&&!Fe.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ya(u,l))||s.push(u);return s}function Jn(t){var n=t.length;return n?t[Zr(0,n-1)]:e}function Qn(e,t){return $a(ki(e),lr(t,0,e.length))}function er(e){return $a(ki(e))}function tr(t,n,r){(r!==e&&!Po(t[n],r)||r===e&&!(n in t))&&or(t,n,r)}function nr(t,n,r){var i=t[n];Fe.call(t,n)&&Po(i,r)&&(r!==e||n in t)||or(t,n,r)}function rr(e,t){for(var n=e.length;n--;)if(Po(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Di(t,Is(t),e)}function or(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(t,n){for(var r=-1,i=n.length,a=we(i),o=null==t;++r<i;)a[r]=o?e:Ss(t,n[r]);return a}function lr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function ur(t,n,r,i,a,o){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),s!==e)return s;if(!ts(t))return t;var d=Wo(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return ki(t,s)}else{var f=ma(t),p=f==y||f==_;if(Zo(t))return Oi(t,l);if(f==E||f==h||p&&!a){if(s=u||p?{}:va(t),!l)return u?function(e,t){return Di(e,ha(e),t)}(t,function(e,t){return e&&Di(t,Ms(t),e)}(s,t)):function(e,t){return Di(e,pa(e),t)}(t,ar(s,t))}else{if(!lt[f])return a?t:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case k:return Ci(e);case g:case v:return new i(+e);case D:return function(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case M:case N:case $:case F:case R:case L:case V:case z:return Ti(e,n);case x:return new i;case w:case S:return new i(e);case C:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new i;case A:return r=e,Vn?Se(Vn.call(r)):{}}}(t,f,l)}}o||(o=new Kn);var m=o.get(t);if(m)return m;o.set(t,s),ss(t)?t.forEach((function(e){s.add(ur(e,n,r,e,t,o))})):rs(t)&&t.forEach((function(e,i){s.set(i,ur(e,n,r,i,t,o))}));var b=d?e:(c?u?aa:ia:u?Ms:Is)(t);return At(b||t,(function(e,i){b&&(e=t[i=e]),nr(s,i,ur(e,n,r,i,t,o))})),s}function cr(t,n,r){var i=r.length;if(null==t)return!i;for(t=Se(t);i--;){var a=r[i],o=n[a],s=t[a];if(s===e&&!(a in t)||!o(s))return!1}return!0}function dr(n,r,i){if("function"!=typeof n)throw new ke(t);return Da((function(){n.apply(e,i)}),r)}function fr(e,t,n,r){var i=-1,a=It,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Nt(t,Jt(n))),r?(a=Mt,o=!1):t.length>=200&&(a=en,o=!1,t=new Zn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}Pn.templateSettings={escape:G,evaluate:Z,interpolate:K,variable:"",imports:{_:Pn}},Pn.prototype=Bn.prototype,Pn.prototype.constructor=Pn,qn.prototype=Un(Bn.prototype),qn.prototype.constructor=qn,Wn.prototype=Un(Bn.prototype),Wn.prototype.constructor=Wn,Hn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(t){var r=this.__data__;if(kn){var i=r[t];return i===n?e:i}return Fe.call(r,t)?r[t]:e},Hn.prototype.has=function(t){var n=this.__data__;return kn?n[t]!==e:Fe.call(n,t)},Hn.prototype.set=function(t,r){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=kn&&r===e?n:r,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Xn.prototype.get=function(t){var n=this.__data__,r=rr(n,t);return r<0?e:n[r][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Tn||Xn),string:new Hn}},Gn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ca(this,e).get(e)},Gn.prototype.has=function(e){return ca(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,n),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ni(xr),hr=Ni(wr,!0);function mr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(t,n,r){for(var i=-1,a=t.length;++i<a;){var o=t[i],s=n(o);if(null!=s&&(l===e?s==s&&!us(s):r(s,l)))var l=s,u=o}return u}function vr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?br(s,t-1,n,r,i):$t(i,s):r||(i[i.length]=s)}return i}var yr=$i(),_r=$i(!0);function xr(e,t){return e&&yr(e,t,Is)}function wr(e,t){return e&&_r(e,t,Is)}function Er(e,t){return Dt(t,(function(t){return Jo(e[t])}))}function Or(t,n){for(var r=0,i=(n=_i(n,t)).length;null!=t&&r<i;)t=t[Ra(n[r++])];return r&&r==i?t:e}function Cr(e,t,n){var r=t(e);return Wo(e)?r:$t(r,n(e))}function Tr(t){return null==t?t===e?"[object Undefined]":"[object Null]":tt&&tt in Se(t)?function(t){var n=Fe.call(t,tt),r=t[tt];try{t[tt]=e;var i=!0}catch(e){}var a=Ve.call(t);return i&&(n?t[tt]=r:delete t[tt]),a}(t):function(e){return Ve.call(e)}(t)}function Sr(e,t){return e>t}function Ar(e,t){return null!=e&&Fe.call(e,t)}function jr(e,t){return null!=e&&t in Se(e)}function kr(t,n,r){for(var i=r?Mt:It,a=t[0].length,o=t.length,s=o,l=we(o),u=1/0,c=[];s--;){var d=t[s];s&&n&&(d=Nt(d,Jt(n))),u=_n(d.length,u),l[s]=!r&&(n||a>=120&&d.length>=120)?new Zn(s&&d):e}d=t[0];var f=-1,p=l[0];e:for(;++f<a&&c.length<u;){var h=d[f],m=n?n(h):h;if(h=r||0!==h?h:0,!(p?en(p,m):i(c,m,r))){for(s=o;--s;){var g=l[s];if(!(g?en(g,m):i(t[s],m,r)))continue e}p&&p.push(m),c.push(h)}}return c}function Dr(t,n,r){var i=null==(t=Aa(t,n=_i(n,t)))?t:t[Ra(Ka(n))];return null==i?e:Tt(i,t,r)}function Ir(e){return ns(e)&&Tr(e)==h}function Mr(t,n,r,i,a){return t===n||(null==t||null==n||!ns(t)&&!ns(n)?t!=t&&n!=n:function(t,n,r,i,a,o){var s=Wo(t),l=Wo(n),u=s?m:ma(t),c=l?m:ma(n),d=(u=u==h?E:u)==E,f=(c=c==h?E:c)==E,p=u==c;if(p&&Zo(t)){if(!Zo(n))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Kn),s||cs(t)?na(t,n,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case g:case v:case w:return Po(+e,+t);case b:return e.name==t.name&&e.message==t.message;case C:case S:return e==t+"";case x:var s=ln;case T:var l=1&r;if(s||(s=dn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=na(s(e),s(t),r,i,a,o);return o.delete(e),c;case A:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}(t,n,u,r,i,a,o);if(!(1&r)){var y=d&&Fe.call(t,"__wrapped__"),_=f&&Fe.call(n,"__wrapped__");if(y||_){var O=y?t.value():t,j=_?n.value():n;return o||(o=new Kn),a(O,j,r,i,o)}}return!!p&&(o||(o=new Kn),function(t,n,r,i,a,o){var s=1&r,l=ia(t),u=l.length,c=ia(n),d=c.length;if(u!=d&&!s)return!1;for(var f=u;f--;){var p=l[f];if(!(s?p in n:Fe.call(n,p)))return!1}var h=o.get(t),m=o.get(n);if(h&&m)return h==n&&m==t;var g=!0;o.set(t,n),o.set(n,t);for(var v=s;++f<u;){var b=t[p=l[f]],y=n[p];if(i)var _=s?i(y,b,p,n,t,o):i(b,y,p,t,n,o);if(!(_===e?b===y||a(b,y,r,i,o):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var x=t.constructor,w=n.constructor;x==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(t),o.delete(n),g}(t,n,r,i,a,o))}(t,n,r,i,Mr,a))}function Nr(t,n,r,i){var a=r.length,o=a,s=!i;if(null==t)return!o;for(t=Se(t);a--;){var l=r[a];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<o;){var u=(l=r[a])[0],c=t[u],d=l[1];if(s&&l[2]){if(c===e&&!(u in t))return!1}else{var f=new Kn;if(i)var p=i(c,d,u,t,n,f);if(!(p===e?Mr(d,c,3,i,f):p))return!1}}return!0}function $r(e){return!(!ts(e)||(t=e,Le&&Le in t))&&(Jo(e)?Ue:he).test(La(e));var t}function Fr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Wo(e)?Ur(e[0],e[1]):Pr(e):pl(e)}function Rr(e){if(!Oa(e))return bn(e);var t=[];for(var n in Se(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Oa(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}function Vr(e,t){return e<t}function zr(e,t){var n=-1,r=Xo(e)?we(e.length):[];return pr(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Pr(e){var t=da(e);return 1==t.length&&t[0][2]?Ta(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Ur(t,n){return xa(t)&&Ca(n)?Ta(Ra(t),n):function(r){var i=Ss(r,t);return i===e&&i===n?As(r,t):Mr(n,i,3)}}function Br(t,n,r,i,a){t!==n&&yr(n,(function(o,s){if(a||(a=new Kn),ts(o))!function(t,n,r,i,a,o,s){var l=ja(t,r),u=ja(n,r),c=s.get(u);if(c)tr(t,r,c);else{var d=o?o(l,u,r+"",t,n,s):e,f=d===e;if(f){var p=Wo(u),h=!p&&Zo(u),m=!p&&!h&&cs(u);d=u,p||h||m?Wo(l)?d=l:Go(l)?d=ki(l):h?(f=!1,d=Oi(u,!0)):m?(f=!1,d=Ti(u,!0)):d=[]:as(u)||qo(u)?(d=l,qo(l)?d=bs(l):ts(l)&&!Jo(l)||(d=va(u))):f=!1}f&&(s.set(u,d),a(d,u,i,o,s),s.delete(u)),tr(t,r,d)}}(t,n,s,r,Br,i,a);else{var l=i?i(ja(t,s),o,s+"",t,n,a):e;l===e&&(l=o),tr(t,s,l)}}),Ms)}function qr(t,n){var r=t.length;if(r)return ya(n+=n<0?r:0,r)?t[n]:e}function Wr(e,t,n){t=t.length?Nt(t,(function(e){return Wo(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=Nt(t,Jt(ua()));var i=zr(e,(function(e,n,i){var a=Nt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Si(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Or(e,o);n(s,o)&&ei(a,_i(o,e),s)}return a}function Xr(e,t,n,r){var i=r?Bt:Ut,a=-1,o=t.length,s=e;for(e===t&&(t=ki(t)),n&&(s=Nt(e,Jt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Zr(e,t){return e+gt(En()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>c)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ia(Sa(e,t,il),e+"")}function Jr(e){return Jn(Ps(e))}function Qr(e,t){var n=Ps(e);return $a(n,lr(t,0,n.length))}function ei(t,n,r,i){if(!ts(t))return t;for(var a=-1,o=(n=_i(n,t)).length,s=o-1,l=t;null!=l&&++a<o;){var u=Ra(n[a]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(a!=s){var d=l[u];(c=i?i(d,u,l):e)===e&&(c=ts(d)?d:ya(n[a+1])?[]:{})}nr(l,u,c),l=l[u]}return t}var ti=Dn?function(e,t){return Dn.set(e,t),e}:il,ni=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return $a(Ps(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=we(i);++r<i;)a[r]=e[r+t];return a}function ai(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!us(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return si(e,t,il,n)}function si(t,n,r,i){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(n=r(n))!=n,l=null===n,u=us(n),c=n===e;a<o;){var d=gt((a+o)/2),f=r(t[d]),p=f!==e,h=null===f,m=f==f,g=us(f);if(s)var v=i||m;else v=c?m&&(i||p):l?m&&p&&(i||!h):u?m&&p&&!h&&(i||!g):!h&&!g&&(i?f<=n:f<n);v?a=d+1:o=d}return _n(o,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Po(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:us(e)?d:+e}function ci(e){if("string"==typeof e)return e;if(Wo(e))return Nt(e,ci)+"";if(us(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=It,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Mt;else if(a>=200){var u=t?null:Ki(e);if(u)return dn(u);o=!1,i=en,l=new Zn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function fi(e,t){return null==(e=Aa(e,t=_i(t,e)))||delete e[Ra(Ka(t))]}function pi(e,t,n,r){return ei(e,t,n(Or(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function mi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,$t([e],t.args))}),n)}function gi(e,t,n){var r=e.length;if(r<2)return r?di(e[0]):[];for(var i=-1,a=we(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=fr(a[i]||o,e[s],t,n));return di(br(a,1),t,n)}function vi(t,n,r){for(var i=-1,a=t.length,o=n.length,s={};++i<a;){var l=i<o?n[i]:e;r(s,t[i],l)}return s}function bi(e){return Go(e)?e:[]}function yi(e){return"function"==typeof e?e:il}function _i(e,t){return Wo(e)?e:xa(e,t)?[e]:Fa(ys(e))}var xi=Yr;function wi(t,n,r){var i=t.length;return r=r===e?i:r,!n&&r>=i?t:ii(t,n,r)}var Ei=ut||function(e){return ht.clearTimeout(e)};function Oi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ci(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(t,n){if(t!==n){var r=t!==e,i=null===t,a=t==t,o=us(t),s=n!==e,l=null===n,u=n==n,c=us(n);if(!l&&!c&&!o&&t>n||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&t<n||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}function Ai(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=yn(a-o,0),c=we(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<o;)(d||i<a)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function ji(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=yn(a-s,0),d=we(c+u),f=!r;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++o<s;)(f||i<a)&&(d[p+n[o]]=e[i++]);return d}function ki(e,t){var n=-1,r=e.length;for(t||(t=we(r));++n<r;)t[n]=e[n];return t}function Di(t,n,r,i){var a=!r;r||(r={});for(var o=-1,s=n.length;++o<s;){var l=n[o],u=i?i(r[l],t[l],l,r,t):e;u===e&&(u=t[l]),a?or(r,l,u):nr(r,l,u)}return r}function Ii(e,t){return function(n,r){var i=Wo(n)?St:ir,a=t?t():{};return i(n,e,ua(r,2),a)}}function Mi(t){return Yr((function(n,r){var i=-1,a=r.length,o=a>1?r[a-1]:e,s=a>2?r[2]:e;for(o=t.length>3&&"function"==typeof o?(a--,o):e,s&&_a(r[0],r[1],s)&&(o=a<3?e:o,a=1),n=Se(n);++i<a;){var l=r[i];l&&t(n,l,i,o)}return n}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Xo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Se(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function $i(e){return function(t,n,r){for(var i=-1,a=Se(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Fi(t){return function(n){var r=sn(n=ys(n))?hn(n):e,i=r?r[0]:n.charAt(0),a=r?wi(r,1).join(""):n.slice(1);return i[t]()+a}}function Ri(e){return function(t){return Ft(Js(qs(t).replace(Qe,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Vi(t){return function(n,r,i){var a=Se(n);if(!Xo(n)){var o=ua(r,3);n=Is(n),r=function(e){return o(a[e],e,a)}}var s=t(n,r,i);return s>-1?a[o?n[s]:s]:e}}function zi(n){return ra((function(r){var i=r.length,a=i,o=qn.prototype.thru;for(n&&r.reverse();a--;){var s=r[a];if("function"!=typeof s)throw new ke(t);if(o&&!l&&"wrapper"==sa(s))var l=new qn([],!0)}for(a=l?a:i;++a<i;){var u=sa(s=r[a]),c="wrapper"==u?oa(s):e;l=c&&wa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[sa(c[0])].apply(l,c[3]):1==s.length&&wa(s)?l[u]():l.thru(s)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Wo(t))return l.plant(t).value();for(var n=0,a=i?r[n].apply(this,e):t;++n<i;)a=r[n].call(this,a);return a}}))}function Pi(t,n,r,i,a,o,l,u,c,d){var f=n&s,p=1&n,h=2&n,m=24&n,g=512&n,v=h?e:Li(t);return function s(){for(var b=arguments.length,y=we(b),_=b;_--;)y[_]=arguments[_];if(m)var x=la(s),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,x);if(i&&(y=Ai(y,i,a,m)),o&&(y=ji(y,o,l,m)),b-=w,m&&b<d){var E=cn(y,x);return Gi(t,n,Pi,s.placeholder,r,y,E,u,c,d-b)}var O=p?r:this,C=h?O[t]:t;return b=y.length,u?y=function(t,n){for(var r=t.length,i=_n(n.length,r),a=ki(t);i--;){var o=n[i];t[i]=ya(o,r)?a[o]:e}return t}(y,u):g&&b>1&&y.reverse(),f&&c<b&&(y.length=c),this&&this!==ht&&this instanceof s&&(C=v||Li(C)),C.apply(O,y)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Bi(t,n){return function(r,i){var a;if(r===e&&i===e)return n;if(r!==e&&(a=r),i!==e){if(a===e)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=ui(r),i=ui(i)),a=t(r,i)}return a}}function qi(e){return ra((function(t){return t=Nt(t,Jt(ua())),Yr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Wi(t,n){var r=(n=n===e?" ":ci(n)).length;if(r<2)return r?Kr(n,t):n;var i=Kr(n,mt(t/pn(n)));return sn(n)?wi(hn(i),0,t).join(""):i.slice(0,t)}function Hi(t){return function(n,r,i){return i&&"number"!=typeof i&&_a(n,r,i)&&(r=i=e),n=hs(n),r===e?(r=n,n=0):r=hs(r),function(e,t,n,r){for(var i=-1,a=yn(mt((t-e)/(n||1)),0),o=we(a);a--;)o[r?a:++i]=e,e+=n;return o}(n,r,i=i===e?n<r?1:-1:hs(i),t)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vs(t),n=vs(n)),e(t,n)}}function Gi(t,n,r,i,s,l,u,c,d,f){var p=8&n;n|=p?a:o,4&(n&=~(p?o:a))||(n&=-4);var h=[t,n,s,p?l:e,p?u:e,p?e:l,p?e:u,c,d,f],m=r.apply(e,h);return wa(t)&&ka(m,h),m.placeholder=i,Ma(m,t,n)}function Zi(e){var t=Te[e];return function(e,n){if(e=vs(e),(n=null==n?0:_n(ms(n),292))&&Vt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=An&&1/dn(new An([,-0]))[1]==u?function(e){return new An(e)}:ul;function Yi(e){return function(t){var n=ma(t);return n==x?ln(t):n==T?fn(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(n,u,c,d,f,p,h,m){var g=2&u;if(!g&&"function"!=typeof n)throw new ke(t);var v=d?d.length:0;if(v||(u&=-97,d=f=e),h=h===e?h:yn(ms(h),0),m=m===e?m:ms(m),v-=f?f.length:0,u&o){var b=d,y=f;d=f=e}var _=g?e:oa(n),x=[n,u,c,d,f,b,y,p,h,m];if(_&&function(e,t){var n=e[1],i=t[1],a=n|i,o=a<131,u=i==s&&8==n||i==s&&n==l&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!u)return e;1&i&&(e[2]=t[2],a|=1&n?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?Ai(d,c,t[4]):c,e[4]=d?cn(e[3],r):t[4]}(c=t[5])&&(d=e[5],e[5]=d?ji(d,c,t[6]):c,e[6]=d?cn(e[5],r):t[6]),(c=t[7])&&(e[7]=c),i&s&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(x,_),n=x[0],u=x[1],c=x[2],d=x[3],f=x[4],!(m=x[9]=x[9]===e?g?0:n.length:yn(x[9]-v,0))&&24&u&&(u&=-25),u&&1!=u)w=8==u||u==i?function(t,n,r){var i=Li(t);return function a(){for(var o=arguments.length,s=we(o),l=o,u=la(a);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:cn(s,u);return(o-=c.length)<r?Gi(t,n,Pi,a.placeholder,e,s,c,e,e,r-o):Tt(this&&this!==ht&&this instanceof a?i:t,this,s)}}(n,u,m):u!=a&&33!=u||f.length?Pi.apply(e,x):function(e,t,n,r){var i=1&t,a=Li(e);return function t(){for(var o=-1,s=arguments.length,l=-1,u=r.length,c=we(u+s),d=this&&this!==ht&&this instanceof t?a:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++o];return Tt(d,i?n:this,c)}}(n,u,c,d);else var w=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(n,u,c);return Ma((_?ti:ka)(w,x),n,u)}function Qi(t,n,r,i){return t===e||Po(t,Me[r])&&!Fe.call(i,r)?n:t}function ea(t,n,r,i,a,o){return ts(t)&&ts(n)&&(o.set(n,t),Br(t,n,e,ea,o),o.delete(n)),t}function ta(t){return as(t)?e:t}function na(t,n,r,i,a,o){var s=1&r,l=t.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(t),d=o.get(n);if(c&&d)return c==n&&d==t;var f=-1,p=!0,h=2&r?new Zn:e;for(o.set(t,n),o.set(n,t);++f<l;){var m=t[f],g=n[f];if(i)var v=s?i(g,m,f,n,t,o):i(m,g,f,t,n,o);if(v!==e){if(v)continue;p=!1;break}if(h){if(!Lt(n,(function(e,t){if(!en(h,t)&&(m===e||a(m,e,r,i,o)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!a(m,g,r,i,o)){p=!1;break}}return o.delete(t),o.delete(n),p}function ra(t){return Ia(Sa(t,e,Wa),t+"")}function ia(e){return Cr(e,Is,pa)}function aa(e){return Cr(e,Ms,ha)}var oa=Dn?function(e){return Dn.get(e)}:ul;function sa(e){for(var t=e.name+"",n=In[t],r=Fe.call(In,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Fe.call(Pn,"placeholder")?Pn:e).placeholder}function ua(){var e=Pn.iteratee||al;return e=e===al?Fr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function da(e){for(var t=Is(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ca(i)]}return t}function fa(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return $r(r)?r:e}var pa=bt?function(e){return null==e?[]:(e=Se(e),Dt(bt(e),(function(t){return Ze.call(e,t)})))}:gl,ha=bt?function(e){for(var t=[];e;)$t(t,pa(e)),e=Xe(e);return t}:gl,ma=Tr;function ga(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,a=!1;++r<i;){var o=Ra(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&es(i)&&ya(o,i)&&(Wo(e)||qo(e))}function va(e){return"function"!=typeof e.constructor||Oa(e)?{}:Un(Xe(e))}function ba(e){return Wo(e)||qo(e)||!!(Ye&&e&&e[Ye])}function ya(e,t){var n=typeof e;return!!(t=null==t?c:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function _a(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Xo(n)&&ya(t,n.length):"string"==r&&t in n)&&Po(n[t],e)}function xa(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||J.test(e)||!Y.test(e)||null!=t&&e in Se(t)}function wa(e){var t=sa(e),n=Pn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(Cn&&ma(new Cn(new ArrayBuffer(1)))!=D||Tn&&ma(new Tn)!=x||Sn&&ma(Sn.resolve())!=O||An&&ma(new An)!=T||jn&&ma(new jn)!=j)&&(ma=function(t){var n=Tr(t),r=n==E?t.constructor:e,i=r?La(r):"";if(i)switch(i){case Mn:return D;case Nn:return x;case $n:return O;case Fn:return T;case Rn:return j}return n});var Ea=Ne?Jo:vl;function Oa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Ca(e){return e==e&&!ts(e)}function Ta(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in Se(r))}}function Sa(t,n,r){return n=yn(n===e?t.length-1:n,0),function(){for(var e=arguments,i=-1,a=yn(e.length-n,0),o=we(a);++i<a;)o[i]=e[n+i];i=-1;for(var s=we(n+1);++i<n;)s[i]=e[i];return s[n]=r(o),Tt(t,this,s)}}function Aa(e,t){return t.length<2?e:Or(e,ii(t,0,-1))}function ja(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ka=Na(ti),Da=pt||function(e,t){return ht.setTimeout(e,t)},Ia=Na(ni);function Ma(e,t,n){var r=t+"";return Ia(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(p,(function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(oe):[]}(r),n)))}function Na(t){var n=0,r=0;return function(){var i=xn(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function $a(t,n){var r=-1,i=t.length,a=i-1;for(n=n===e?i:n;++r<n;){var o=Zr(r,a),s=t[o];t[o]=t[r],t[r]=s}return t.length=n,t}var Fa=function(e){var t=$o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t}));function Ra(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function La(e){if(null!=e){try{return $e.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Va(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=ki(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Yr((function(e,t){return Go(e)?fr(e,br(t,1,Go,!0)):[]})),Pa=Yr((function(t,n){var r=Ka(n);return Go(r)&&(r=e),Go(t)?fr(t,br(n,1,Go,!0),ua(r,2)):[]})),Ua=Yr((function(t,n){var r=Ka(n);return Go(r)&&(r=e),Go(t)?fr(t,br(n,1,Go,!0),e,r):[]}));function Ba(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Pt(e,ua(t,3),i)}function qa(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return r!==e&&(a=ms(r),a=r<0?yn(i+a,0):_n(a,i-1)),Pt(t,ua(n,3),a,!0)}function Wa(e){return null!=e&&e.length?br(e,1):[]}function Ha(t){return t&&t.length?t[0]:e}var Xa=Yr((function(e){var t=Nt(e,bi);return t.length&&t[0]===e[0]?kr(t):[]})),Ga=Yr((function(t){var n=Ka(t),r=Nt(t,bi);return n===Ka(r)?n=e:r.pop(),r.length&&r[0]===t[0]?kr(r,ua(n,2)):[]})),Za=Yr((function(t){var n=Ka(t),r=Nt(t,bi);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?kr(r,e,n):[]}));function Ka(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Ya=Yr(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var Qa=ra((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Nt(t,(function(e){return ya(e,n)?+e:e})).sort(Si)),r}));function eo(e){return null==e?e:On.call(e)}var to=Yr((function(e){return di(br(e,1,Go,!0))})),no=Yr((function(t){var n=Ka(t);return Go(n)&&(n=e),di(br(t,1,Go,!0),ua(n,2))})),ro=Yr((function(t){var n=Ka(t);return n="function"==typeof n?n:e,di(br(t,1,Go,!0),e,n)}));function io(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Go(e))return t=yn(e.length,t),!0})),Kt(t,(function(t){return Nt(e,Ht(t))}))}function ao(t,n){if(!t||!t.length)return[];var r=io(t);return null==n?r:Nt(r,(function(t){return Tt(n,e,t)}))}var oo=Yr((function(e,t){return Go(e)?fr(e,t):[]})),so=Yr((function(e){return gi(Dt(e,Go))})),lo=Yr((function(t){var n=Ka(t);return Go(n)&&(n=e),gi(Dt(t,Go),ua(n,2))})),uo=Yr((function(t){var n=Ka(t);return n="function"==typeof n?n:e,gi(Dt(t,Go),e,n)})),co=Yr(io),fo=Yr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,ao(t,r)}));function po(e){var t=Pn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var mo=ra((function(t){var n=t.length,r=n?t[0]:0,i=this.__wrapped__,a=function(e){return sr(e,t)};return!(n>1||this.__actions__.length)&&i instanceof Wn&&ya(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:ho,args:[a],thisArg:e}),new qn(i,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(a)})),go=Ii((function(e,t,n){Fe.call(e,n)?++e[n]:or(e,n,1)})),vo=Vi(Ba),bo=Vi(qa);function yo(e,t){return(Wo(e)?At:pr)(e,ua(t,3))}function _o(e,t){return(Wo(e)?jt:hr)(e,ua(t,3))}var xo=Ii((function(e,t,n){Fe.call(e,n)?e[n].push(t):or(e,n,[t])})),wo=Yr((function(e,t,n){var r=-1,i="function"==typeof t,a=Xo(e)?we(e.length):[];return pr(e,(function(e){a[++r]=i?Tt(t,e,n):Dr(e,t,n)})),a})),Eo=Ii((function(e,t,n){or(e,n,t)}));function Oo(e,t){return(Wo(e)?Nt:zr)(e,ua(t,3))}var Co=Ii((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),To=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_a(e,t[0],t[1])?t=[]:n>2&&_a(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,br(t,1),[])})),So=ft||function(){return ht.Date.now()};function Ao(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Ji(t,s,e,e,e,e,n)}function jo(n,r){var i;if("function"!=typeof r)throw new ke(t);return n=ms(n),function(){return--n>0&&(i=r.apply(this,arguments)),n<=1&&(r=e),i}}var ko=Yr((function(e,t,n){var r=1;if(n.length){var i=cn(n,la(ko));r|=a}return Ji(e,r,t,n,i)})),Do=Yr((function(e,t,n){var r=3;if(n.length){var i=cn(n,la(Do));r|=a}return Ji(t,r,e,n,i)}));function Io(n,r,i){var a,o,s,l,u,c,d=0,f=!1,p=!1,h=!0;if("function"!=typeof n)throw new ke(t);function m(t){var r=a,i=o;return a=o=e,d=t,l=n.apply(i,r)}function g(t){var n=t-c;return c===e||n>=r||n<0||p&&t-d>=s}function v(){var e=So();if(g(e))return b(e);u=Da(v,function(e){var t=r-(e-c);return p?_n(t,s-(e-d)):t}(e))}function b(t){return u=e,h&&a?m(t):(a=o=e,l)}function y(){var t=So(),n=g(t);if(a=arguments,o=this,c=t,n){if(u===e)return function(e){return d=e,u=Da(v,r),f?m(e):l}(c);if(p)return Ei(u),u=Da(v,r),m(c)}return u===e&&(u=Da(v,r)),l}return r=vs(r)||0,ts(i)&&(f=!!i.leading,s=(p="maxWait"in i)?yn(vs(i.maxWait)||0,r):s,h="trailing"in i?!!i.trailing:h),y.cancel=function(){u!==e&&Ei(u),d=0,a=c=o=u=e},y.flush=function(){return u===e?l:b(So())},y}var Mo=Yr((function(e,t){return dr(e,1,t)})),No=Yr((function(e,t,n){return dr(e,vs(t)||0,n)}));function $o(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new ke(t);var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,t);return r.cache=a.set(i,o)||a,o};return r.cache=new($o.Cache||Gn),r}function Fo(e){if("function"!=typeof e)throw new ke(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}$o.Cache=Gn;var Ro=xi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Nt(t[0],Jt(ua())):Nt(br(t,1),Jt(ua()))).length;return Yr((function(r){for(var i=-1,a=_n(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Lo=Yr((function(t,n){var r=cn(n,la(Lo));return Ji(t,a,e,n,r)})),Vo=Yr((function(t,n){var r=cn(n,la(Vo));return Ji(t,o,e,n,r)})),zo=ra((function(t,n){return Ji(t,l,e,e,e,n)}));function Po(e,t){return e===t||e!=e&&t!=t}var Uo=Xi(Sr),Bo=Xi((function(e,t){return e>=t})),qo=Ir(function(){return arguments}())?Ir:function(e){return ns(e)&&Fe.call(e,"callee")&&!Ze.call(e,"callee")},Wo=we.isArray,Ho=_t?Jt(_t):function(e){return ns(e)&&Tr(e)==k};function Xo(e){return null!=e&&es(e.length)&&!Jo(e)}function Go(e){return ns(e)&&Xo(e)}var Zo=yt||vl,Ko=xt?Jt(xt):function(e){return ns(e)&&Tr(e)==v};function Yo(e){if(!ns(e))return!1;var t=Tr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Jo(e){if(!ts(e))return!1;var t=Tr(e);return t==y||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qo(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=wt?Jt(wt):function(e){return ns(e)&&ma(e)==x};function is(e){return"number"==typeof e||ns(e)&&Tr(e)==w}function as(e){if(!ns(e)||Tr(e)!=E)return!1;var t=Xe(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$e.call(n)==ze}var os=Et?Jt(Et):function(e){return ns(e)&&Tr(e)==C},ss=Ot?Jt(Ot):function(e){return ns(e)&&ma(e)==T};function ls(e){return"string"==typeof e||!Wo(e)&&ns(e)&&Tr(e)==S}function us(e){return"symbol"==typeof e||ns(e)&&Tr(e)==A}var cs=Ct?Jt(Ct):function(e){return ns(e)&&es(e.length)&&!!st[Tr(e)]},ds=Xi(Vr),fs=Xi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xo(e))return ls(e)?hn(e):ki(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=ma(e);return(t==x?ln:t==T?dn:Ps)(e)}function hs(e){return e?(e=vs(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function gs(e){return e?lr(ms(e),0,f):0}function vs(e){if("number"==typeof e)return e;if(us(e))return d;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=pe.test(e);return n||me.test(e)?dt(e.slice(2),n?2:8):fe.test(e)?d:+e}function bs(e){return Di(e,Ms(e))}function ys(e){return null==e?"":ci(e)}var _s=Mi((function(e,t){if(Oa(t)||Xo(t))Di(t,Is(t),e);else for(var n in t)Fe.call(t,n)&&nr(e,n,t[n])})),xs=Mi((function(e,t){Di(t,Ms(t),e)})),ws=Mi((function(e,t,n,r){Di(t,Ms(t),e,r)})),Es=Mi((function(e,t,n,r){Di(t,Is(t),e,r)})),Os=ra(sr),Cs=Yr((function(t,n){t=Se(t);var r=-1,i=n.length,a=i>2?n[2]:e;for(a&&_a(n[0],n[1],a)&&(i=1);++r<i;)for(var o=n[r],s=Ms(o),l=-1,u=s.length;++l<u;){var c=s[l],d=t[c];(d===e||Po(d,Me[c])&&!Fe.call(t,c))&&(t[c]=o[c])}return t})),Ts=Yr((function(t){return t.push(e,ea),Tt($s,e,t)}));function Ss(t,n,r){var i=null==t?e:Or(t,n);return i===e?r:i}function As(e,t){return null!=e&&ga(e,t,jr)}var js=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),e[t]=n}),tl(il)),ks=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Ds=Yr(Dr);function Is(e){return Xo(e)?Yn(e):Rr(e)}function Ms(e){return Xo(e)?Yn(e,!0):Lr(e)}var Ns=Mi((function(e,t,n){Br(e,t,n)})),$s=Mi((function(e,t,n,r){Br(e,t,n,r)})),Fs=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Di(e,aa(e),n),r&&(n=ur(n,7,ta));for(var i=t.length;i--;)fi(n,t[i]);return n})),Rs=ra((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var n=Nt(aa(e),(function(e){return[e]}));return t=ua(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Vs=Yi(Is),zs=Yi(Ms);function Ps(e){return null==e?[]:Qt(e,Is(e))}var Us=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Bs(t):t)}));function Bs(e){return Ys(ys(e).toLowerCase())}function qs(e){return(e=ys(e))&&e.replace(ve,rn).replace(et,"")}var Ws=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=Fi("toLowerCase"),Gs=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Zs=Ri((function(e,t,n){return e+(n?" ":"")+Ys(t)})),Ks=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=Fi("toUpperCase");function Js(t,n,r){return t=ys(t),(n=r?e:n)===e?function(e){return it.test(e)}(t)?function(e){return e.match(nt)||[]}(t):function(e){return e.match(se)||[]}(t):t.match(n)||[]}var Qs=Yr((function(t,n){try{return Tt(t,e,n)}catch(e){return Yo(e)?e:new Oe(e)}})),el=ra((function(e,t){return At(t,(function(t){t=Ra(t),or(e,t,ko(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=zi(),rl=zi(!0);function il(e){return e}function al(e){return Fr("function"==typeof e?e:ur(e,1))}var ol=Yr((function(e,t){return function(n){return Dr(n,e,t)}})),sl=Yr((function(e,t){return function(n){return Dr(e,n,t)}}));function ll(e,t,n){var r=Is(t),i=Er(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Is(t)));var a=!(ts(n)&&"chain"in n&&!n.chain),o=Jo(e);return At(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=ki(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,$t([this.value()],arguments))})})),e}function ul(){}var cl=qi(Nt),dl=qi(kt),fl=qi(Lt);function pl(e){return xa(e)?Ht(Ra(e)):function(e){return function(t){return Or(t,e)}}(e)}var hl=Hi(),ml=Hi(!0);function gl(){return[]}function vl(){return!1}var bl,yl=Bi((function(e,t){return e+t}),0),_l=Zi("ceil"),xl=Bi((function(e,t){return e/t}),1),wl=Zi("floor"),El=Bi((function(e,t){return e*t}),1),Ol=Zi("round"),Cl=Bi((function(e,t){return e-t}),0);return Pn.after=function(e,n){if("function"!=typeof n)throw new ke(t);return e=ms(e),function(){if(--e<1)return n.apply(this,arguments)}},Pn.ary=Ao,Pn.assign=_s,Pn.assignIn=xs,Pn.assignInWith=ws,Pn.assignWith=Es,Pn.at=Os,Pn.before=jo,Pn.bind=ko,Pn.bindAll=el,Pn.bindKey=Do,Pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Pn.chain=po,Pn.chunk=function(t,n,r){n=(r?_a(t,n,r):n===e)?1:yn(ms(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,o=0,s=we(mt(i/n));a<i;)s[o++]=ii(t,a,a+=n);return s},Pn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=we(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return $t(Wo(n)?ki(n):[n],br(t,1))},Pn.cond=function(e){var n=null==e?0:e.length,r=ua();return e=n?Nt(e,(function(e){if("function"!=typeof e[1])throw new ke(t);return[r(e[0]),e[1]]})):[],Yr((function(t){for(var r=-1;++r<n;){var i=e[r];if(Tt(i[0],this,t))return Tt(i[1],this,t)}}))},Pn.conforms=function(e){return function(e){var t=Is(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Pn.constant=tl,Pn.countBy=go,Pn.create=function(e,t){var n=Un(e);return null==t?n:ar(n,t)},Pn.curry=function t(n,r,i){var a=Ji(n,8,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},Pn.curryRight=function t(n,r,a){var o=Ji(n,i,e,e,e,e,e,r=a?e:r);return o.placeholder=t.placeholder,o},Pn.debounce=Io,Pn.defaults=Cs,Pn.defaultsDeep=Ts,Pn.defer=Mo,Pn.delay=No,Pn.difference=za,Pn.differenceBy=Pa,Pn.differenceWith=Ua,Pn.drop=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,(n=r||n===e?1:ms(n))<0?0:n,i):[]},Pn.dropRight=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,0,(n=i-(n=r||n===e?1:ms(n)))<0?0:n):[]},Pn.dropRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0,!0):[]},Pn.dropWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0):[]},Pn.fill=function(t,n,r,i){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&_a(t,n,r)&&(r=0,i=a),function(t,n,r,i){var a=t.length;for((r=ms(r))<0&&(r=-r>a?0:a+r),(i=i===e||i>a?a:ms(i))<0&&(i+=a),i=r>i?0:gs(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},Pn.filter=function(e,t){return(Wo(e)?Dt:vr)(e,ua(t,3))},Pn.flatMap=function(e,t){return br(Oo(e,t),1)},Pn.flatMapDeep=function(e,t){return br(Oo(e,t),u)},Pn.flatMapDepth=function(t,n,r){return r=r===e?1:ms(r),br(Oo(t,n),r)},Pn.flatten=Wa,Pn.flattenDeep=function(e){return null!=e&&e.length?br(e,u):[]},Pn.flattenDepth=function(t,n){return null!=t&&t.length?br(t,n=n===e?1:ms(n)):[]},Pn.flip=function(e){return Ji(e,512)},Pn.flow=nl,Pn.flowRight=rl,Pn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Pn.functions=function(e){return null==e?[]:Er(e,Is(e))},Pn.functionsIn=function(e){return null==e?[]:Er(e,Ms(e))},Pn.groupBy=xo,Pn.initial=function(e){return null!=e&&e.length?ii(e,0,-1):[]},Pn.intersection=Xa,Pn.intersectionBy=Ga,Pn.intersectionWith=Za,Pn.invert=js,Pn.invertBy=ks,Pn.invokeMap=wo,Pn.iteratee=al,Pn.keyBy=Eo,Pn.keys=Is,Pn.keysIn=Ms,Pn.map=Oo,Pn.mapKeys=function(e,t){var n={};return t=ua(t,3),xr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Pn.mapValues=function(e,t){var n={};return t=ua(t,3),xr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Pn.matches=function(e){return Pr(ur(e,1))},Pn.matchesProperty=function(e,t){return Ur(e,ur(t,1))},Pn.memoize=$o,Pn.merge=Ns,Pn.mergeWith=$s,Pn.method=ol,Pn.methodOf=sl,Pn.mixin=ll,Pn.negate=Fo,Pn.nthArg=function(e){return e=ms(e),Yr((function(t){return qr(t,e)}))},Pn.omit=Fs,Pn.omitBy=function(e,t){return Ls(e,Fo(ua(t)))},Pn.once=function(e){return jo(2,e)},Pn.orderBy=function(t,n,r,i){return null==t?[]:(Wo(n)||(n=null==n?[]:[n]),Wo(r=i?e:r)||(r=null==r?[]:[r]),Wr(t,n,r))},Pn.over=cl,Pn.overArgs=Ro,Pn.overEvery=dl,Pn.overSome=fl,Pn.partial=Lo,Pn.partialRight=Vo,Pn.partition=Co,Pn.pick=Rs,Pn.pickBy=Ls,Pn.property=pl,Pn.propertyOf=function(t){return function(n){return null==t?e:Or(t,n)}},Pn.pull=Ya,Pn.pullAll=Ja,Pn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,ua(n,2)):e},Pn.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Xr(t,n,e,r):t},Pn.pullAt=Qa,Pn.range=hl,Pn.rangeRight=ml,Pn.rearg=zo,Pn.reject=function(e,t){return(Wo(e)?Dt:vr)(e,Fo(ua(t,3)))},Pn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ua(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Gr(e,i),n},Pn.rest=function(n,r){if("function"!=typeof n)throw new ke(t);return Yr(n,r=r===e?r:ms(r))},Pn.reverse=eo,Pn.sampleSize=function(t,n,r){return n=(r?_a(t,n,r):n===e)?1:ms(n),(Wo(t)?Qn:Qr)(t,n)},Pn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Pn.setWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:ei(t,n,r,i)},Pn.shuffle=function(e){return(Wo(e)?er:ri)(e)},Pn.slice=function(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&_a(t,n,r)?(n=0,r=i):(n=null==n?0:ms(n),r=r===e?i:ms(r)),ii(t,n,r)):[]},Pn.sortBy=To,Pn.sortedUniq=function(e){return e&&e.length?li(e):[]},Pn.sortedUniqBy=function(e,t){return e&&e.length?li(e,ua(t,2)):[]},Pn.split=function(t,n,r){return r&&"number"!=typeof r&&_a(t,n,r)&&(n=r=e),(r=r===e?f:r>>>0)?(t=ys(t))&&("string"==typeof n||null!=n&&!os(n))&&!(n=ci(n))&&sn(t)?wi(hn(t),0,r):t.split(n,r):[]},Pn.spread=function(e,n){if("function"!=typeof e)throw new ke(t);return n=null==n?0:yn(ms(n),0),Yr((function(t){var r=t[n],i=wi(t,0,n);return r&&$t(i,r),Tt(e,this,i)}))},Pn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Pn.take=function(t,n,r){return t&&t.length?ii(t,0,(n=r||n===e?1:ms(n))<0?0:n):[]},Pn.takeRight=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,(n=i-(n=r||n===e?1:ms(n)))<0?0:n,i):[]},Pn.takeRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!1,!0):[]},Pn.takeWhile=function(e,t){return e&&e.length?hi(e,ua(t,3)):[]},Pn.tap=function(e,t){return t(e),e},Pn.throttle=function(e,n,r){var i=!0,a=!0;if("function"!=typeof e)throw new ke(t);return ts(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),Io(e,n,{leading:i,maxWait:n,trailing:a})},Pn.thru=ho,Pn.toArray=ps,Pn.toPairs=Vs,Pn.toPairsIn=zs,Pn.toPath=function(e){return Wo(e)?Nt(e,Ra):us(e)?[e]:ki(Fa(ys(e)))},Pn.toPlainObject=bs,Pn.transform=function(e,t,n){var r=Wo(e),i=r||Zo(e)||cs(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ts(e)&&Jo(a)?Un(Xe(e)):{}}return(i?At:xr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Pn.unary=function(e){return Ao(e,1)},Pn.union=to,Pn.unionBy=no,Pn.unionWith=ro,Pn.uniq=function(e){return e&&e.length?di(e):[]},Pn.uniqBy=function(e,t){return e&&e.length?di(e,ua(t,2)):[]},Pn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?di(t,e,n):[]},Pn.unset=function(e,t){return null==e||fi(e,t)},Pn.unzip=io,Pn.unzipWith=ao,Pn.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Pn.updateWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:pi(t,n,yi(r),i)},Pn.values=Ps,Pn.valuesIn=function(e){return null==e?[]:Qt(e,Ms(e))},Pn.without=oo,Pn.words=Js,Pn.wrap=function(e,t){return Lo(yi(t),e)},Pn.xor=so,Pn.xorBy=lo,Pn.xorWith=uo,Pn.zip=co,Pn.zipObject=function(e,t){return vi(e||[],t||[],nr)},Pn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},Pn.zipWith=fo,Pn.entries=Vs,Pn.entriesIn=zs,Pn.extend=xs,Pn.extendWith=ws,ll(Pn,Pn),Pn.add=yl,Pn.attempt=Qs,Pn.camelCase=Us,Pn.capitalize=Bs,Pn.ceil=_l,Pn.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=vs(r))==r?r:0),n!==e&&(n=(n=vs(n))==n?n:0),lr(vs(t),n,r)},Pn.clone=function(e){return ur(e,4)},Pn.cloneDeep=function(e){return ur(e,5)},Pn.cloneDeepWith=function(t,n){return ur(t,5,n="function"==typeof n?n:e)},Pn.cloneWith=function(t,n){return ur(t,4,n="function"==typeof n?n:e)},Pn.conformsTo=function(e,t){return null==t||cr(e,t,Is(t))},Pn.deburr=qs,Pn.defaultTo=function(e,t){return null==e||e!=e?t:e},Pn.divide=xl,Pn.endsWith=function(t,n,r){t=ys(t),n=ci(n);var i=t.length,a=r=r===e?i:lr(ms(r),0,i);return(r-=n.length)>=0&&t.slice(r,a)==n},Pn.eq=Po,Pn.escape=function(e){return(e=ys(e))&&X.test(e)?e.replace(W,an):e},Pn.escapeRegExp=function(e){return(e=ys(e))&&te.test(e)?e.replace(ee,"\\$&"):e},Pn.every=function(t,n,r){var i=Wo(t)?kt:mr;return r&&_a(t,n,r)&&(n=e),i(t,ua(n,3))},Pn.find=vo,Pn.findIndex=Ba,Pn.findKey=function(e,t){return zt(e,ua(t,3),xr)},Pn.findLast=bo,Pn.findLastIndex=qa,Pn.findLastKey=function(e,t){return zt(e,ua(t,3),wr)},Pn.floor=wl,Pn.forEach=yo,Pn.forEachRight=_o,Pn.forIn=function(e,t){return null==e?e:yr(e,ua(t,3),Ms)},Pn.forInRight=function(e,t){return null==e?e:_r(e,ua(t,3),Ms)},Pn.forOwn=function(e,t){return e&&xr(e,ua(t,3))},Pn.forOwnRight=function(e,t){return e&&wr(e,ua(t,3))},Pn.get=Ss,Pn.gt=Uo,Pn.gte=Bo,Pn.has=function(e,t){return null!=e&&ga(e,t,Ar)},Pn.hasIn=As,Pn.head=Ha,Pn.identity=il,Pn.includes=function(e,t,n,r){e=Xo(e)?e:Ps(e),n=n&&!r?ms(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Pn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Ut(e,t,i)},Pn.inRange=function(t,n,r){return n=hs(n),r===e?(r=n,n=0):r=hs(r),function(e,t,n){return e>=_n(t,n)&&e<yn(t,n)}(t=vs(t),n,r)},Pn.invoke=Ds,Pn.isArguments=qo,Pn.isArray=Wo,Pn.isArrayBuffer=Ho,Pn.isArrayLike=Xo,Pn.isArrayLikeObject=Go,Pn.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Tr(e)==g},Pn.isBuffer=Zo,Pn.isDate=Ko,Pn.isElement=function(e){return ns(e)&&1===e.nodeType&&!as(e)},Pn.isEmpty=function(e){if(null==e)return!0;if(Xo(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Zo(e)||cs(e)||qo(e)))return!e.length;var t=ma(e);if(t==x||t==T)return!e.size;if(Oa(e))return!Rr(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},Pn.isEqual=function(e,t){return Mr(e,t)},Pn.isEqualWith=function(t,n,r){var i=(r="function"==typeof r?r:e)?r(t,n):e;return i===e?Mr(t,n,e,r):!!i},Pn.isError=Yo,Pn.isFinite=function(e){return"number"==typeof e&&Vt(e)},Pn.isFunction=Jo,Pn.isInteger=Qo,Pn.isLength=es,Pn.isMap=rs,Pn.isMatch=function(e,t){return e===t||Nr(e,t,da(t))},Pn.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Nr(t,n,da(n),r)},Pn.isNaN=function(e){return is(e)&&e!=+e},Pn.isNative=function(e){if(Ea(e))throw new Oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $r(e)},Pn.isNil=function(e){return null==e},Pn.isNull=function(e){return null===e},Pn.isNumber=is,Pn.isObject=ts,Pn.isObjectLike=ns,Pn.isPlainObject=as,Pn.isRegExp=os,Pn.isSafeInteger=function(e){return Qo(e)&&e>=-9007199254740991&&e<=c},Pn.isSet=ss,Pn.isString=ls,Pn.isSymbol=us,Pn.isTypedArray=cs,Pn.isUndefined=function(t){return t===e},Pn.isWeakMap=function(e){return ns(e)&&ma(e)==j},Pn.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==Tr(e)},Pn.join=function(e,t){return null==e?"":Xt.call(e,t)},Pn.kebabCase=Ws,Pn.last=Ka,Pn.lastIndexOf=function(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i;return r!==e&&(a=(a=ms(r))<0?yn(i+a,0):_n(a,i-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(t,n,a):Pt(t,qt,a,!0)},Pn.lowerCase=Hs,Pn.lowerFirst=Xs,Pn.lt=ds,Pn.lte=fs,Pn.max=function(t){return t&&t.length?gr(t,il,Sr):e},Pn.maxBy=function(t,n){return t&&t.length?gr(t,ua(n,2),Sr):e},Pn.mean=function(e){return Wt(e,il)},Pn.meanBy=function(e,t){return Wt(e,ua(t,2))},Pn.min=function(t){return t&&t.length?gr(t,il,Vr):e},Pn.minBy=function(t,n){return t&&t.length?gr(t,ua(n,2),Vr):e},Pn.stubArray=gl,Pn.stubFalse=vl,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=El,Pn.nth=function(t,n){return t&&t.length?qr(t,ms(n)):e},Pn.noConflict=function(){return ht._===this&&(ht._=Pe),this},Pn.noop=ul,Pn.now=So,Pn.pad=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(gt(i),n)+e+Wi(mt(i),n)},Pn.padEnd=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},Pn.padStart=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Pn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ys(e).replace(ne,""),t||0)},Pn.random=function(t,n,r){if(r&&"boolean"!=typeof r&&_a(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=hs(t),n===e?(n=t,t=0):n=hs(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var a=En();return _n(t+a*(n-t+ct("1e-"+((a+"").length-1))),n)}return Zr(t,n)},Pn.reduce=function(e,t,n){var r=Wo(e)?Ft:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,pr)},Pn.reduceRight=function(e,t,n){var r=Wo(e)?Rt:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,hr)},Pn.repeat=function(t,n,r){return n=(r?_a(t,n,r):n===e)?1:ms(n),Kr(ys(t),n)},Pn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Pn.result=function(t,n,r){var i=-1,a=(n=_i(n,t)).length;for(a||(a=1,t=e);++i<a;){var o=null==t?e:t[Ra(n[i])];o===e&&(i=a,o=r),t=Jo(o)?o.call(t):o}return t},Pn.round=Ol,Pn.runInContext=re,Pn.sample=function(e){return(Wo(e)?Jn:Jr)(e)},Pn.size=function(e){if(null==e)return 0;if(Xo(e))return ls(e)?pn(e):e.length;var t=ma(e);return t==x||t==T?e.size:Rr(e).length},Pn.snakeCase=Gs,Pn.some=function(t,n,r){var i=Wo(t)?Lt:ai;return r&&_a(t,n,r)&&(n=e),i(t,ua(n,3))},Pn.sortedIndex=function(e,t){return oi(e,t)},Pn.sortedIndexBy=function(e,t,n){return si(e,t,ua(n,2))},Pn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Po(e[r],t))return r}return-1},Pn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Pn.sortedLastIndexBy=function(e,t,n){return si(e,t,ua(n,2),!0)},Pn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=oi(e,t,!0)-1;if(Po(e[n],t))return n}return-1},Pn.startCase=Zs,Pn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:lr(ms(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Pn.subtract=Cl,Pn.sum=function(e){return e&&e.length?Zt(e,il):0},Pn.sumBy=function(e,t){return e&&e.length?Zt(e,ua(t,2)):0},Pn.template=function(t,n,r){var i=Pn.templateSettings;r&&_a(t,n,r)&&(n=e),t=ys(t),n=ws({},n,i,Qi);var a,o,s=ws({},n.imports,i.imports,Qi),l=Is(s),u=Qt(s,l),c=0,d=n.interpolate||be,f="__p += '",p=Ae((n.escape||be).source+"|"+d.source+"|"+(d===K?ce:be).source+"|"+(n.evaluate||be).source+"|$","g"),h="//# sourceURL="+(Fe.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";t.replace(p,(function(e,n,r,i,s,l){return r||(r=i),f+=t.slice(c,l).replace(ye,on),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),f+="';\n";var m=Fe.call(n,"variable")&&n.variable;if(m){if(le.test(m))throw new Oe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(P,""):f).replace(U,"$1").replace(B,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Qs((function(){return Ce(l,h+"return "+f).apply(e,u)}));if(g.source=f,Yo(g))throw g;return g},Pn.times=function(e,t){if((e=ms(e))<1||e>c)return[];var n=f,r=_n(e,f);t=ua(t),e-=f;for(var i=Kt(r,t);++n<e;)t(n);return i},Pn.toFinite=hs,Pn.toInteger=ms,Pn.toLength=gs,Pn.toLower=function(e){return ys(e).toLowerCase()},Pn.toNumber=vs,Pn.toSafeInteger=function(e){return e?lr(ms(e),-9007199254740991,c):0===e?e:0},Pn.toString=ys,Pn.toUpper=function(e){return ys(e).toUpperCase()},Pn.trim=function(t,n,r){if((t=ys(t))&&(r||n===e))return Yt(t);if(!t||!(n=ci(n)))return t;var i=hn(t),a=hn(n);return wi(i,tn(i,a),nn(i,a)+1).join("")},Pn.trimEnd=function(t,n,r){if((t=ys(t))&&(r||n===e))return t.slice(0,mn(t)+1);if(!t||!(n=ci(n)))return t;var i=hn(t);return wi(i,0,nn(i,hn(n))+1).join("")},Pn.trimStart=function(t,n,r){if((t=ys(t))&&(r||n===e))return t.replace(ne,"");if(!t||!(n=ci(n)))return t;var i=hn(t);return wi(i,tn(i,hn(n))).join("")},Pn.truncate=function(t,n){var r=30,i="...";if(ts(n)){var a="separator"in n?n.separator:a;r="length"in n?ms(n.length):r,i="omission"in n?ci(n.omission):i}var o=(t=ys(t)).length;if(sn(t)){var s=hn(t);o=s.length}if(r>=o)return t;var l=r-pn(i);if(l<1)return i;var u=s?wi(s,0,l).join(""):t.slice(0,l);if(a===e)return u+i;if(s&&(l+=u.length-l),os(a)){if(t.slice(l).search(a)){var c,d=u;for(a.global||(a=Ae(a.source,ys(de.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var f=c.index;u=u.slice(0,f===e?l:f)}}else if(t.indexOf(ci(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+i},Pn.unescape=function(e){return(e=ys(e))&&H.test(e)?e.replace(q,gn):e},Pn.uniqueId=function(e){var t=++Re;return ys(e)+t},Pn.upperCase=Ks,Pn.upperFirst=Ys,Pn.each=yo,Pn.eachRight=_o,Pn.first=Ha,ll(Pn,(bl={},xr(Pn,(function(e,t){Fe.call(Pn.prototype,t)||(bl[t]=e)})),bl),{chain:!1}),Pn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Pn[e].placeholder=Pn})),At(["drop","take"],(function(t,n){Wn.prototype[t]=function(r){r=r===e?1:yn(ms(r),0);var i=this.__filtered__&&!n?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=_n(r,i.__takeCount__):i.__views__.push({size:_n(r,f),type:t+(i.__dir__<0?"Right":"")}),i},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Dr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Fo(ua(e)))},Wn.prototype.slice=function(t,n){t=ms(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Wn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=ms(n))<0?r.dropRight(-n):r.take(n-t)),r)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(f)},xr(Wn.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),a=Pn[i?"take"+("last"==n?"Right":""):n],o=i||/^find/.test(n);a&&(Pn.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,l=n instanceof Wn,u=s[0],c=l||Wo(n),d=function(e){var t=a.apply(Pn,$t([e],s));return i&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=o&&!f,m=l&&!p;if(!o&&c){n=m?n:new Wn(this);var g=t.apply(n,s);return g.__actions__.push({func:ho,args:[d],thisArg:e}),new qn(g,f)}return h&&m?t.apply(this,s):(g=this.thru(d),h?i?g.value()[0]:g.value():g)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Pn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),xr(Wn.prototype,(function(e,t){var n=Pn[t];if(n){var r=n.name+"";Fe.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}})),In[Pi(e,2).name]=[{name:"wrapper",func:e}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=ki(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ki(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ki(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=_n(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,p=_n(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return mi(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,g=e[u+=t];++m<d;){var v=c[m],b=v.iteratee,y=v.type,_=b(g);if(2==y)g=_;else if(!_){if(1==y)continue e;break e}}h[f++]=g}return h},Pn.prototype.at=mo,Pn.prototype.chain=function(){return po(this)},Pn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Pn.prototype.next=function(){this.__values__===e&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Pn.prototype.plant=function(t){for(var n,r=this;r instanceof Bn;){var i=Va(r);i.__index__=0,i.__values__=e,n?a.__wrapped__=i:n=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,n},Pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var n=t;return this.__actions__.length&&(n=new Wn(this)),(n=n.reverse()).__actions__.push({func:ho,args:[eo],thisArg:e}),new qn(n,this.__chain__)}return this.thru(eo)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Je&&(Pn.prototype[Je]=function(){return this}),Pn}();gt?((gt.exports=vn)._=vn,mt._=vn):ht._=vn}.call(xe);var Te=Ce.exports,Se=Symbol.for("immer-nothing"),Ae=Symbol.for("immer-draftable"),je=Symbol.for("immer-state"),ke="production"!==process.env.NODE_ENV?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}]:[];function De(e,...t){if("production"!==process.env.NODE_ENV){const n=ke[e],r="function"==typeof n?n.apply(null,t):n;throw new Error(`[Immer] ${r}`)}throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ie=Object.getPrototypeOf;function Me(e){return!!e&&!!e[je]}function Ne(e){return!!e&&(Fe(e)||Array.isArray(e)||!!e[Ae]||!!e.constructor?.[Ae]||Pe(e)||Ue(e))}var $e=Object.prototype.constructor.toString();function Fe(e){if(!e||"object"!=typeof e)return!1;const t=Ie(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$e}function Re(e,t){0===Le(e)?Object.entries(e).forEach((([n,r])=>{t(n,r,e)})):e.forEach(((n,r)=>t(r,n,e)))}function Le(e){const t=e[je];return t?t.type_:Array.isArray(e)?1:Pe(e)?2:Ue(e)?3:0}function Ve(e,t){return 2===Le(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ze(e,t,n){const r=Le(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Pe(e){return e instanceof Map}function Ue(e){return e instanceof Set}function Be(e){return e.copy_||e.base_}function qe(e,t){if(Pe(e))return new Map(e);if(Ue(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Fe(e)){if(!Ie(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[je];let r=Reflect.ownKeys(n);for(let t=0;t<r.length;t++){const i=r[t],a=n[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Ie(e),n)}function We(e,t=!1){return Xe(e)||Me(e)||!Ne(e)||(Le(e)>1&&(e.set=e.add=e.clear=e.delete=He),Object.freeze(e),t&&Re(e,((e,t)=>We(t,!0)))),e}function He(){De(2)}function Xe(e){return Object.isFrozen(e)}var Ge,Ze={};function Ke(e){const t=Ze[e];return t||De(0,e),t}function Ye(){return Ge}function Je(e,t){t&&(Ke("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qe(e){et(e),e.drafts_.forEach(nt),e.drafts_=null}function et(e){e===Ge&&(Ge=e.parent_)}function tt(e){return Ge={drafts_:[],parent_:Ge,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nt(e){const t=e[je];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function rt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[je].modified_&&(Qe(t),De(4)),Ne(e)&&(e=it(t,e),t.parent_||ot(t,e)),t.patches_&&Ke("Patches").generateReplacementPatches_(n[je].base_,e,t.patches_,t.inversePatches_)):e=it(t,n,[]),Qe(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Se?e:void 0}function it(e,t,n){if(Xe(t))return t;const r=t[je];if(!r)return Re(t,((i,a)=>at(e,r,t,i,a,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return ot(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Re(i,((i,o)=>at(e,r,t,i,o,n,a))),ot(e,t,!1),n&&e.patches_&&Ke("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function at(e,t,n,r,i,a,o){if("production"!==process.env.NODE_ENV&&i===n&&De(5),Me(i)){const o=it(e,i,a&&t&&3!==t.type_&&!Ve(t.assigned_,r)?a.concat(r):void 0);if(ze(n,r,o),!Me(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Ne(i)&&!Xe(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;it(e,i),t&&t.scope_.parent_||ot(e,i)}}function ot(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&We(t,n)}var st={get(e,t){if(t===je)return e;const n=Be(e);if(!Ve(n,t))return function(e,t,n){const r=ct(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Ne(r)?r:r===ut(e.base_,t)?(ft(e),e.copy_[t]=pt(r,e)):r},has:(e,t)=>t in Be(e),ownKeys:e=>Reflect.ownKeys(Be(e)),set(e,t,n){const r=ct(Be(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=ut(Be(e),t),o=r?.[je];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||Ve(e.base_,t)))return!0;ft(e),dt(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==ut(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ft(e),dt(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Be(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){De(11)},getPrototypeOf:e=>Ie(e.base_),setPrototypeOf(){De(12)}},lt={};function ut(e,t){const n=e[je];return(n?Be(n):e)[t]}function ct(e,t){if(!(t in e))return;let n=Ie(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ie(n)}}function dt(e){e.modified_||(e.modified_=!0,e.parent_&&dt(e.parent_))}function ft(e){e.copy_||(e.copy_=qe(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Re(st,((e,t)=>{lt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),lt.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&De(13),lt.set.call(this,e,t,void 0)},lt.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&De(14),st.set.call(this,e[0],t,n,e[0])};function pt(e,t){const n=Pe(e)?Ke("MapSet").proxyMap_(e,t):Ue(e)?Ke("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ye(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=st;n&&(i=[r],a=lt);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Ye()).drafts_.push(n),n}function ht(e){if(!Ne(e)||Xe(e))return e;const t=e[je];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qe(e,t.scope_.immer_.useStrictShallowCopy_)}else n=qe(e,!0);return Re(n,((e,t)=>{ze(n,e,ht(t))})),t&&(t.finalized_=!1),n}var mt,gt,vt=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&De(6),void 0!==n&&"function"!=typeof n&&De(7),Ne(e)){const i=tt(this),a=pt(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?Qe(i):et(i)}return Je(i,n),rt(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Se&&(r=void 0),this.autoFreeze_&&We(r,!0),n){const t=[],i=[];Ke("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}De(1,e)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ne(e)||De(8),Me(e)&&(e=function(e){Me(e)||De(10,e);return ht(e)}(e));const t=tt(this),n=pt(e,void 0);return n[je].isManual_=!0,et(t),n}finishDraft(e,t){const n=e&&e[je];n&&n.isManual_||De(9);const{scope_:r}=n;return Je(r,t),rt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ke("Patches").applyPatches_;return Me(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},bt=vt.produce;function yt(e,t,n){var r=i((function(){return bt(e)}),[e]);return a(r,t,n)}vt.produceWithPatches.bind(vt),vt.setAutoFreeze.bind(vt),vt.setUseStrictShallowCopy.bind(vt),vt.applyPatches.bind(vt),vt.createDraft.bind(vt),vt.finishDraft.bind(vt),function(e){e.ADD_ELEMENT="add-element",e.EDIT_ELEMENT="edit-element",e.EDIT_PAGES="edit-pages"}(mt||(mt={})),function(e){e.EMAIL_FIELD="email-field",e.NUMERIC_FIELD="numeric-field",e.TEXT_FIELD="text-field",e.CONTACT_FIELD="contact-field",e.TEXTAREA_FIELD="textarea-field"}(gt||(gt={}));const _t={mode:mt.ADD_ELEMENT,elements:{},focusedElement:null,showSidePanel:!0,orderedIdentifiers:[],deletedElements:{},elementCounter:0,selectedElementType:null,isSubmitting:!1},xt=(e,t)=>{switch(t.type){case"toggle-submitting":e.isSubmitting=t.payload;break;case"toggle-panel":e.showSidePanel=t.payload;break;case"toggle-mode":e.mode=t.payload;break;case"update-ordered-identifiers":e.orderedIdentifiers=t.payload;break;case"add-element":{const n=t.payload.element;e.elements[n.internalId]=n,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.elementCounter+=1;break}case"delete-element":case"undo-delete-element":e.elements=t.payload.updatedElements,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.deletedElements=t.payload.deletedElements;break;case"focus-element":e.focusedElement=t.payload,e.selectedElementType=t.payload.element.type;break;case"remove-focused-element":e.focusedElement=null;break;case"update-element":{const n=e.focusedElement.element.internalId;e.elements=Object.assign(Object.assign({},e.elements),{[n]:Object.assign(Object.assign({},t.payload),{internalId:n})});break}case"update-focused-element":if(t.payload.element){const n=Object.assign(Object.assign({},t.payload.element),{internalId:e.focusedElement.element.internalId});e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty,element:n})}else e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty});break;case"select-element-type":e.selectedElementType=t.payload;break;case"update-schema-element":e.elements=Object.assign({},t.payload.elements),e.orderedIdentifiers=t.payload.orderedIdentifiers}return e},wt=o({state:_t,dispatch:Te.noop}),Et=({children:t})=>{const[n,r]=yt(xt,_t);return e(wt.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},Ot=()=>{const{state:e,dispatch:t}=s(wt),n=l((e=>{t({type:"toggle-submitting",payload:e})}),[]),r=l((e=>{t({type:"toggle-panel",payload:e})}),[]),i=l((e=>{const n=[...e.map((e=>e.position))].sort(((e,t)=>e-t)),r=e.map(((e,t)=>Object.assign(Object.assign({},e),{position:n[t]})));t({type:"update-ordered-identifiers",payload:r})}),[]),a=l(((n,r)=>{const i=e.orderedIdentifiers.map((e=>e.internalId)),a=Object.values(e.elements).map((e=>e.id)),o=be.generate(n,i,a),s=[...e.orderedIdentifiers,{internalId:o.internalId,position:e.elementCounter,size:"full"}];t({type:"add-element",payload:{element:o,orderedIdentifiers:s}}),r&&t({type:"focus-element",payload:{element:o,isDirty:!1}})}),[e.orderedIdentifiers,e.elements]),o=l((n=>{const r=e.orderedIdentifiers.map((e=>e.internalId)),i=Object.values(e.elements).map((e=>e.id)),a=be.duplicate(n,r,i),o=[...e.orderedIdentifiers,{internalId:a.internalId,position:e.elementCounter}];t({type:"add-element",payload:{element:a,orderedIdentifiers:o}}),t({type:"focus-element",payload:{element:a,isDirty:!0}})}),[e.orderedIdentifiers]),u=l((n=>{const r=e.elements,i=n,a=r[i],o=te(r,["symbol"==typeof i?i:i+""]),s=e.orderedIdentifiers.find((e=>e.internalId===n)).position,l=e.orderedIdentifiers.filter((e=>e.internalId!==n)),u=Object.fromEntries(Object.entries(o).map((([e,t])=>{var r;return[e,Object.assign(Object.assign({},t),{conditionalRendering:null===(r=null==t?void 0:t.conditionalRendering)||void 0===r?void 0:r.filter((e=>e.internalId!==n))})]}))),c=Object.assign(Object.assign({},e.deletedElements),{[n]:{element:a,position:s}});t({type:"delete-element",payload:{updatedElements:u,orderedIdentifiers:l,deletedElements:c}}),null!==e.focusedElement&&(f(),p(mt.ADD_ELEMENT))}),[e.orderedIdentifiers,e.elements,e.mode,e.deletedElements,e.focusedElement]),c=l((n=>{const r=e.deletedElements[n];if(!r)return;const i=e.orderedIdentifiers;let a=i.findIndex((e=>e.position>r.position));-1===a&&(a=i.length);const o=[...i];o.splice(a,0,{internalId:n,position:r.position}),t({type:"undo-delete-element",payload:{updatedElements:Object.assign(Object.assign({},e.elements),{[n]:r.element}),orderedIdentifiers:o,deletedElements:Object.fromEntries(Object.entries(e.deletedElements).filter((([e])=>e!==n)))}})}),[e.deletedElements,e.orderedIdentifiers,e.elements]),d=l((e=>{t({type:"focus-element",payload:{element:e}})}),[]),f=l((()=>{t({type:"remove-focused-element"})}),[]),p=l((e=>{t({type:"toggle-mode",payload:e})}),[]),h=l((e=>{t({type:"update-element",payload:e})}),[]),m=l(((e,n,r)=>{t({type:"update-schema-element",payload:{elements:e,orderedIdentifiers:n}}),r&&(t({type:"remove-focused-element"}),t({type:"focus-element",payload:{element:r}}))}),[]),g=l(((e,n)=>{t({type:"update-focused-element",payload:{isDirty:e,element:n}})}),[]),v=l((e=>{t({type:"select-element-type",payload:e})}),[]);return{isSubmitting:e.isSubmitting,deletedElements:e.deletedElements,elements:e.elements,showSidePanel:e.showSidePanel,currentMode:e.mode,orderedIdentifiers:e.orderedIdentifiers,focusedElement:e.focusedElement,selectedElementType:e.selectedElementType,toggleSubmitting:n,togglePanel:r,toggleMode:p,updateOrderedIdentifiers:i,addElement:a,deleteElement:u,undoDeleteElement:c,focusElement:d,removeFocusedElement:f,updateElement:h,updateFocusedElement:g,duplicateElement:o,selectElementType:v,updateElementSchema:m}};const Ct={toasts:[],modals:[]},Tt=(e,t)=>{switch(t.type){case"set-modal":e.modals=[t.payload];break;case"show-toast":e.toasts=[...e.toasts,t.payload];break;case"dismiss-toast":{const n=[...e.toasts].filter((e=>e.id!==t.payload));e.toasts=n;break}case"hide-modal":e=Object.assign(Object.assign({},e),{modals:t.payload?e.modals.filter((e=>e.type!==t.payload)):[]})}return e},St=o({state:Ct,dispatch:we((function(){}))}),At=({children:t})=>{const[n,r]=yt(Tt,Ct);return e(St.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},jt=()=>{const{state:e,dispatch:t}=s(St);return{showToast:l((e=>{const n=me.generate();t({type:"show-toast",payload:Object.assign(Object.assign({},e),{id:n})})}),[t,e.toasts]),dismissToast:l((e=>{t({type:"dismiss-toast",payload:e})}),[]),toasts:e.toasts}};var kt,Dt;!function(e){e.DELETE_ELEMENT_TOAST="delete-element-toast",e.SUCCESS_TOAST="success-toast"}(kt||(kt={})),function(e){e.DiscardChanges="discard-changes",e.BulkEdit="bulk-edit",e.ResetFields="reset-fields"}(Dt||(Dt={}));const It=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M3.33333 9.16667C3.09722 9.16667 2.89931 9.08681 2.73958 8.92708C2.57986 8.76736 2.5 8.56944 2.5 8.33333V3.33333C2.5 3.09722 2.57986 2.89931 2.73958 2.73958C2.89931 2.57986 3.09722 2.5 3.33333 2.5H8.33333C8.56944 2.5 8.76736 2.57986 8.92708 2.73958C9.08681 2.89931 9.16667 3.09722 9.16667 3.33333V8.33333C9.16667 8.56944 9.08681 8.76736 8.92708 8.92708C8.76736 9.08681 8.56944 9.16667 8.33333 9.16667H3.33333ZM11.6667 9.16667C11.4306 9.16667 11.2326 9.08681 11.0729 8.92708C10.9132 8.76736 10.8333 8.56944 10.8333 8.33333V3.33333C10.8333 3.09722 10.9132 2.89931 11.0729 2.73958C11.2326 2.57986 11.4306 2.5 11.6667 2.5H16.6667C16.9028 2.5 17.1007 2.57986 17.2604 2.73958C17.4201 2.89931 17.5 3.09722 17.5 3.33333V8.33333C17.5 8.56944 17.4201 8.76736 17.2604 8.92708C17.1007 9.08681 16.9028 9.16667 16.6667 9.16667H11.6667ZM3.33333 17.5C3.09722 17.5 2.89931 17.4201 2.73958 17.2604C2.57986 17.1007 2.5 16.9028 2.5 16.6667V11.6667C2.5 11.4306 2.57986 11.2326 2.73958 11.0729C2.89931 10.9132 3.09722 10.8333 3.33333 10.8333H8.33333C8.56944 10.8333 8.76736 10.9132 8.92708 11.0729C9.08681 11.2326 9.16667 11.4306 9.16667 11.6667V16.6667C9.16667 16.9028 9.08681 17.1007 8.92708 17.2604C8.76736 17.4201 8.56944 17.5 8.33333 17.5H3.33333ZM14.1667 17.5C13.9306 17.5 13.7326 17.4201 13.5729 17.2604C13.4132 17.1007 13.3333 16.9028 13.3333 16.6667V15H11.6458C11.4097 15 11.2153 14.9201 11.0625 14.7604C10.9097 14.6007 10.8333 14.4028 10.8333 14.1667C10.8333 13.9306 10.9132 13.7326 11.0729 13.5729C11.2326 13.4132 11.4306 13.3333 11.6667 13.3333H13.3333V11.6458C13.3333 11.4097 13.4132 11.2153 13.5729 11.0625C13.7326 10.9097 13.9306 10.8333 14.1667 10.8333C14.4028 10.8333 14.6007 10.9132 14.7604 11.0729C14.9201 11.2326 15 11.4306 15 11.6667V13.3333H16.6875C16.9236 13.3333 17.1181 13.4132 17.2708 13.5729C17.4236 13.7326 17.5 13.9306 17.5 14.1667C17.5 14.4028 17.4201 14.6007 17.2604 14.7604C17.1007 14.9201 16.9028 15 16.6667 15H15V16.6875C15 16.9236 14.9201 17.1181 14.7604 17.2708C14.6007 17.4236 14.4028 17.5 14.1667 17.5ZM12.5 4.16667V7.5H15.8333V4.16667H12.5ZM4.16667 4.16667V7.5H7.5V4.16667H4.16667ZM4.16667 12.5V15.8333H7.5V12.5H4.16667Z",fill:"currentColor"})}));It.displayName="AddElementIcon";const Mt=n=>t("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[e("mask",Object.assign({id:"path-1-inside-1_6699_38328",fill:"white"},{children:e("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1"})})),e("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1",stroke:"currentColor",strokeWidth:"4",mask:"url(#path-1-inside-1_6699_38328)"}),e("rect",{x:"2",y:"19.5",width:"22",height:"2",rx:"1",fill:"currentColor"})]}));Mt.displayName="BottomPositionIcon";const Nt=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M3.33333 15C3.09722 15 2.89931 14.9201 2.73958 14.7604C2.57986 14.6007 2.5 14.4028 2.5 14.1667C2.5 13.9306 2.57986 13.7326 2.73958 13.5729C2.89931 13.4132 3.09722 13.3333 3.33333 13.3333H11.6667C11.9028 13.3333 12.1007 13.4132 12.2604 13.5729C12.4201 13.7326 12.5 13.9306 12.5 14.1667C12.5 14.4028 12.4201 14.6007 12.2604 14.7604C12.1007 14.9201 11.9028 15 11.6667 15H3.33333ZM3.33333 10.8333C3.09722 10.8333 2.89931 10.7535 2.73958 10.5938C2.57986 10.434 2.5 10.2361 2.5 10C2.5 9.76389 2.57986 9.56597 2.73958 9.40625C2.89931 9.24653 3.09722 9.16667 3.33333 9.16667H16.6667C16.9028 9.16667 17.1007 9.24653 17.2604 9.40625C17.4201 9.56597 17.5 9.76389 17.5 10C17.5 10.2361 17.4201 10.434 17.2604 10.5938C17.1007 10.7535 16.9028 10.8333 16.6667 10.8333H3.33333ZM3.33333 6.66667C3.09722 6.66667 2.89931 6.58681 2.73958 6.42708C2.57986 6.26736 2.5 6.06944 2.5 5.83333C2.5 5.59722 2.57986 5.39931 2.73958 5.23958C2.89931 5.07986 3.09722 5 3.33333 5H16.6667C16.9028 5 17.1007 5.07986 17.2604 5.23958C17.4201 5.39931 17.5 5.59722 17.5 5.83333C17.5 6.06944 17.4201 6.26736 17.2604 6.42708C17.1007 6.58681 16.9028 6.66667 16.6667 6.66667H3.33333Z",fill:"currentColor"})}));Nt.displayName="LongTextIcon";const $t=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M7.49939 13.3334L6.81189 16.0625C6.77022 16.2431 6.67994 16.3889 6.54105 16.5C6.40216 16.6112 6.2355 16.6667 6.04105 16.6667C5.77716 16.6667 5.56189 16.5625 5.39522 16.3542C5.22855 16.1459 5.17994 15.9167 5.24939 15.6667L5.83272 13.3334H3.56189C3.28411 13.3334 3.06189 13.2257 2.89522 13.0105C2.72855 12.7952 2.67994 12.5556 2.74939 12.2917C2.79105 12.0973 2.88828 11.9445 3.04105 11.8334C3.19383 11.7223 3.36744 11.6667 3.56189 11.6667H6.24939L7.08272 8.33337H4.81189C4.53411 8.33337 4.31189 8.22574 4.14522 8.01046C3.97855 7.79518 3.92994 7.5556 3.99939 7.29171C4.04105 7.09726 4.13828 6.94449 4.29105 6.83337C4.44383 6.72226 4.61744 6.66671 4.81189 6.66671H7.49939L8.18689 3.93754C8.22855 3.75699 8.31883 3.61115 8.45772 3.50004C8.59661 3.38893 8.76328 3.33337 8.95772 3.33337C9.22161 3.33337 9.43689 3.43754 9.60355 3.64587C9.77022 3.85421 9.81883 4.08337 9.74939 4.33337L9.16605 6.66671H12.4994L13.1869 3.93754C13.2286 3.75699 13.3188 3.61115 13.4577 3.50004C13.5966 3.38893 13.7633 3.33337 13.9577 3.33337C14.2216 3.33337 14.4369 3.43754 14.6036 3.64587C14.7702 3.85421 14.8188 4.08337 14.7494 4.33337L14.1661 6.66671H16.4369C16.7147 6.66671 16.9369 6.77435 17.1036 6.98962C17.2702 7.2049 17.3188 7.44449 17.2494 7.70837C17.2077 7.90282 17.1105 8.0556 16.9577 8.16671C16.8049 8.27782 16.6313 8.33337 16.4369 8.33337H13.7494L12.9161 11.6667H15.1869C15.4647 11.6667 15.6869 11.7743 15.8536 11.9896C16.0202 12.2049 16.0688 12.4445 15.9994 12.7084C15.9577 12.9028 15.8605 13.0556 15.7077 13.1667C15.5549 13.2778 15.3813 13.3334 15.1869 13.3334H12.4994L11.8119 16.0625C11.7702 16.2431 11.6799 16.3889 11.5411 16.5C11.4022 16.6112 11.2355 16.6667 11.0411 16.6667C10.7772 16.6667 10.5619 16.5625 10.3952 16.3542C10.2286 16.1459 10.1799 15.9167 10.2494 15.6667L10.8327 13.3334H7.49939ZM7.91605 11.6667H11.2494L12.0827 8.33337H8.74939L7.91605 11.6667Z",fill:"currentColor"})}));$t.displayName="NumbersIcon";const Ft=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M4.16732 12.5C3.93121 12.5 3.73329 12.4201 3.57357 12.2604C3.41385 12.1007 3.33398 11.9028 3.33398 11.6667C3.33398 11.4306 3.41385 11.2326 3.57357 11.0729C3.73329 10.9132 3.93121 10.8333 4.16732 10.8333H10.834C11.0701 10.8333 11.268 10.9132 11.4277 11.0729C11.5875 11.2326 11.6673 11.4306 11.6673 11.6667C11.6673 11.9028 11.5875 12.1007 11.4277 12.2604C11.268 12.4201 11.0701 12.5 10.834 12.5H4.16732ZM4.16732 9.16667C3.93121 9.16667 3.73329 9.08681 3.57357 8.92708C3.41385 8.76736 3.33398 8.56944 3.33398 8.33333C3.33398 8.09722 3.41385 7.89931 3.57357 7.73958C3.73329 7.57986 3.93121 7.5 4.16732 7.5H15.834C16.0701 7.5 16.268 7.57986 16.4277 7.73958C16.5875 7.89931 16.6673 8.09722 16.6673 8.33333C16.6673 8.56944 16.5875 8.76736 16.4277 8.92708C16.268 9.08681 16.0701 9.16667 15.834 9.16667H4.16732Z",fill:"currentColor"})}));Ft.displayName="ShortTextIcon";const Rt=n=>t("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[e("rect",{x:"2",y:"4.5",width:"22",height:"2",rx:"1",fill:"currentColor"}),e("mask",Object.assign({id:"path-2-inside-1_6699_38329",fill:"white"},{children:e("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1"})})),e("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1",stroke:"currentColor",fill:"white",strokeWidth:"4",mask:"url(#path-2-inside-1_6699_38329)"})]}));Rt.displayName="TopPositionIcon";const Lt=v.div`
    width: 2rem;
    height: 2rem;
    display: grid;
    place-items: center;
    border-radius: 0.4rem;
    background: ${g.Accent.Light[5]};

    svg {
        color: ${g.Accent.Light[2]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,Vt=({elementType:t})=>{let n;switch(t){case re.EMAIL:n=e(_,{});break;case re.CONTACT:n=e(x,{});break;case re.NUMERIC:n=e($t,{});break;case re.TEXT:n=e(Ft,{});break;case re.TEXTAREA:n=e(Nt,{});break;case re.DROPDOWN:n=e(y,{})}return e(Lt,{children:n})},zt=v.button`
    padding: 1rem; // Increase hit zone
    border: none;
    background: transparent;
    cursor: pointer;

    :hover {
        box-shadow: none;
    }

    :focus {
        outline-color: ${g.Primary};
    }

    svg {
        width: ${({$iconSize:e})=>e};
        height: ${({$iconSize:e})=>e};
        color: ${({$iconColor:e})=>e};
        margin-bottom: -5px; // Tweak to align to label
    }
`,Pt=v.button`
    background: none;
    border: none;
    margin-top: 0.625rem;
    svg {
        color: ${({disabled:e})=>e?g.Neutral[3]:g.Accent.Light[1]};
        width: 1.625rem;
        height: 1.625rem;
        cursor: ${({disabled:e})=>e?"not-allowed":"pointer"};
    }
`,Ut=({onClick:t,disabled:n,popoverMessage:r})=>{const i=e(Pt,Object.assign({type:"button",disabled:n,"data-testid":"delete-button",onClick:n?void 0:t},{children:e(E,{})}));return n?e(w,Object.assign({popoverContent:r,trigger:"hover",position:"bottom-end","data-testid":"delete-button-popover"},{children:i})):i},Bt=v.div`
    background: ${g.Neutral[7]};
    display: flex;
    flex: 1;
    width: 100%;
    align-items: center;
    margin-bottom: 2rem;
    padding-right: 1rem;
`,qt=v.div`
    padding: 1rem;
    flex: 1;
`,Wt=({onDelete:n,children:r})=>t(Bt,{children:[e(qt,{children:r}),e(Ut,{onClick:n,"data-testid":"delete-button"})]}),Ht=v(C.Body)`
    margin-bottom: 2rem;
`,Xt=v(S.Item)`
    width: 100%;
    border-top: 0;
    border-bottom: 1px solid ${g.Neutral[6]};
    padding-bottom: ${({$hasSubtitle:e})=>e?"0.5rem":"0"};

    #content-container {
        padding: 0;
    }

    ${Ht} {
        font-size: 0.875rem !important;
    }

    [data-testid="accordion-item-expandable-container"] {
        padding: 0 1rem;
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin-right: 0.1rem;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hasSubtitle:e})=>e?"1rem 0 0.5rem 1rem":"1rem 0 1rem 1rem"};
    }
`,Gt=v(A.Default)`
    width: 100%;
    margin: 1rem 0;
`,Zt=({title:r,buttonLabel:i,onAdd:a,children:o,disabledButton:s,popoverMessage:l,subtitle:u,expanded:c,hideAddButton:d})=>e(Xt,Object.assign({title:r,$hasSubtitle:!!u,expanded:c},{children:t(n,{children:[u&&e(Ht,{children:u}),o,!d&&(s&&l?e(w,Object.assign({popoverContent:l,trigger:"hover","data-testid":"add-button-popover"},{children:e(Gt,Object.assign({icon:e(O,{}),styleType:"light",onClick:a,role:"button",disabled:s,type:"button"},{children:"Add "+i}))})):e(Gt,Object.assign({icon:e(O,{}),styleType:"light",onClick:a,role:"button",disabled:s,type:"button"},{children:"Add "+i})))]})})),Kt=({toast:t})=>{const{dismissToast:n,showToast:r}=jt(),{undoDeleteElement:i}=Ot(),a=e=>{n(e)},o=()=>{i(t.elementInternalId),a(t.id);const e=Object.assign(Object.assign({},t),{type:kt.SUCCESS_TOAST,message:"Deleted element reverted."});r(e)};switch(t.type){case kt.SUCCESS_TOAST:return e(j,{type:"success",label:t.message,autoDismiss:!0,fixed:!1,onDismiss:()=>a(t.id)});case kt.DELETE_ELEMENT_TOAST:return e(j,{type:"success",label:t.message,autoDismiss:!0,autoDismissTime:7e3,fixed:!1,onDismiss:()=>a(t.id),actionButton:{label:"Undo",onClick:o}});default:return console.error("Unable to render toast required."),null}},Yt=v.div`
    position: fixed;
    top: 1rem;
    right: 3rem;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 1rem;
`,Jt=()=>{const{toasts:t}=jt();return e(Yt,{children:t.map((t=>e(Kt,{toast:t},t.id)))})},Qt=()=>{const{state:e,dispatch:t}=s(St),{showToast:n}=jt(),r=l((e=>{t({type:"set-modal",payload:e})}),[t]),i=l((e=>t({type:"hide-modal",payload:e})),[t]),a=l((()=>{const e={message:"Changes discarded.",type:kt.SUCCESS_TOAST};t({type:"hide-modal",payload:Dt.DiscardChanges}),n(e)}),[]);return{modals:e.modals,showModal:r,hideModal:i,discardChanges:a}},en=v(D.Box)`
    width: 100%;
    max-width: 42rem;

    /* to grow with content */
    height: auto;
    max-height: none;

    margin: auto;
`,tn=v.div`
    margin: 4rem;
    text-align: center;

    ${k.MaxWidth.mobileL} {
        margin: 4rem 1.25rem;
    }
`,nn=v.div`
    margin: auto;
    padding: 5rem 1.25rem;
    width: 100%;

    ${k.MaxWidth.mobileL} {
        padding: 1rem 1.25rem;
    }
`,rn=t=>{var{type:n,onClose:r,children:i}=t,a=te(t,["type","onClose","children"]);const{hideModal:o}=Qt();return e(nn,{children:e(en,Object.assign({onClose:null!=r?r:()=>{o(n)}},a,{children:e(tn,Object.assign({"data-testid":"modal-content"},{children:i}))}))})};var an=e=>"checkbox"===e.type,on=e=>e instanceof Date,sn=e=>null==e;const ln=e=>"object"==typeof e;var un=e=>!sn(e)&&!Array.isArray(e)&&ln(e)&&!on(e),cn=e=>un(e)&&e.target?an(e.target)?e.target.checked:e.target.value:e,dn=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),fn=e=>{const t=e.constructor&&e.constructor.prototype;return un(t)&&t.hasOwnProperty("isPrototypeOf")},pn="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function hn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(pn&&(e instanceof Blob||e instanceof FileList)||!n&&!un(e))return e;if(t=n?[]:{},n||fn(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=hn(e[n]));else t=e}return t}var mn=e=>Array.isArray(e)?e.filter(Boolean):[],gn=e=>void 0===e,vn=(e,t,n)=>{if(!t||!un(e))return n;const r=mn(t.split(/[,[\].]+?/)).reduce(((e,t)=>sn(e)?e:e[t]),e);return gn(r)||r===e?gn(e[t])?n:e[t]:r},bn=e=>"boolean"==typeof e;const yn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_n={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xn="max",wn="min",En="maxLength",On="minLength",Cn="pattern",Tn="required",Sn="validate",An=r.createContext(null),jn=()=>r.useContext(An),kn=e=>{const{children:t,...n}=e;return r.createElement(An.Provider,{value:n},t)};var Dn=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==_n.all&&(t._proxyFormState[i]=!r||_n.all),n&&(n[i]=!0),e[i]}});return i},In=e=>un(e)&&!Object.keys(e).length,Mn=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return In(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||_n.all)))},Nn=e=>Array.isArray(e)?e:[e],$n=(e,t,n)=>!e||!t||e===t||Nn(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function Fn(e){const t=r.useRef(e);t.current=e,r.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Rn=e=>"string"==typeof e,Ln=(e,t,n,r,i)=>Rn(e)?(r&&t.watch.add(e),vn(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),vn(n,e)))):(r&&(t.watchAll=!0),n);var Vn=e=>/^\w*$/.test(e),zn=e=>mn(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Pn=(e,t,n)=>{let r=-1;const i=Vn(t)?[t]:zn(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=un(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=a,e=e[t]}return e};function Un(e){const t=jn(),{name:n,disabled:i,control:a=t.control,shouldUnregister:o}=e,s=dn(a._names.array,n),l=function(e){const t=jn(),{control:n=t.control,name:i,defaultValue:a,disabled:o,exact:s}=e||{},l=r.useRef(i);l.current=i,Fn({disabled:o,subject:n._subjects.values,next:e=>{$n(l.current,e.name,s)&&c(hn(Ln(l.current,n._names,e.values||n._formValues,!1,a)))}});const[u,c]=r.useState(n._getWatch(i,a));return r.useEffect((()=>n._removeUnmounted())),u}({control:a,name:n,defaultValue:vn(a._formValues,n,vn(a._defaultValues,n,e.defaultValue)),exact:!0}),u=function(e){const t=jn(),{control:n=t.control,disabled:i,name:a,exact:o}=e||{},[s,l]=r.useState(n._formState),u=r.useRef(!0),c=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=r.useRef(a);return d.current=a,Fn({disabled:i,next:e=>u.current&&$n(d.current,e.name,o)&&Mn(e,c.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),r.useEffect((()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1})),[n]),Dn(s,n,c.current,!1)}({control:a,name:n}),c=r.useRef(a.register(n,{...e.rules,value:l,...bn(e.disabled)?{disabled:e.disabled}:{}}));return r.useEffect((()=>{const e=a._options.shouldUnregister||o,t=(e,t)=>{const n=vn(a._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){const e=hn(vn(a._options.defaultValues,n));Pn(a._defaultValues,n,e),gn(vn(a._formValues,n))&&Pn(a._formValues,n,e)}return()=>{(s?e&&!a._state.action:e)?a.unregister(n):t(n,!1)}}),[n,a,s,o]),r.useEffect((()=>{vn(a._fields,n)&&a._updateDisabledField({disabled:i,fields:a._fields,name:n,value:vn(a._fields,n)._f.value})}),[i,n,a]),{field:{name:n,value:l,...bn(i)||u.disabled?{disabled:u.disabled||i}:{},onChange:r.useCallback((e=>c.current.onChange({target:{value:cn(e),name:n},type:yn.CHANGE})),[n]),onBlur:r.useCallback((()=>c.current.onBlur({target:{value:vn(a._formValues,n),name:n},type:yn.BLUR})),[n,a]),ref:e=>{const t=vn(a._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!vn(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!vn(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!vn(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!vn(u.validatingFields,n)},error:{enumerable:!0,get:()=>vn(u.errors,n)}})}}const Bn=e=>e.render(Un(e));var qn=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Wn=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},Hn=(e,t,n={})=>n.shouldFocus||gn(n.shouldFocus)?n.focusName||`${e}.${gn(n.focusIndex)?t:n.focusIndex}.`:"",Xn=e=>({isOnSubmit:!e||e===_n.onSubmit,isOnBlur:e===_n.onBlur,isOnChange:e===_n.onChange,isOnAll:e===_n.all,isOnTouch:e===_n.onTouched}),Gn=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const Zn=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=vn(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)break;if(e.ref&&t(e.ref,e.name)&&!r)break;Zn(a,t)}else un(a)&&Zn(a,t)}}};var Kn=(e,t,n)=>{const r=mn(vn(e,n));return Pn(r,"root",t[n]),Pn(e,n,r),e},Yn=e=>"file"===e.type,Jn=e=>"function"==typeof e,Qn=e=>{if(!pn)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},er=e=>Rn(e),tr=e=>"radio"===e.type,nr=e=>e instanceof RegExp;const rr={value:!1,isValid:!1},ir={value:!0,isValid:!0};var ar=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gn(e[0].attributes.value)?gn(e[0].value)||""===e[0].value?ir:{value:e[0].value,isValid:!0}:ir:rr}return rr};const or={isValid:!1,value:null};var sr=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),or):or;function lr(e,t,n="validate"){if(er(e)||Array.isArray(e)&&e.every(er)||bn(e)&&!e)return{type:n,message:er(e)?e:"",ref:t}}var ur=e=>un(e)&&!nr(e)?e:{value:e,message:""},cr=async(e,t,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:p,name:h,valueAsNumber:m,mount:g,disabled:v}=e._f,b=vn(t,h);if(!g||v)return{};const y=o?o[0]:a,_=e=>{r&&y.reportValidity&&(y.setCustomValidity(bn(e)?"":e||""),y.reportValidity())},x={},w=tr(a),E=an(a),O=w||E,C=(m||Yn(a))&&gn(a.value)&&gn(b)||Qn(a)&&""===a.value||""===b||Array.isArray(b)&&!b.length,T=qn.bind(null,h,n,x),S=(e,t,n,r=En,i=On)=>{const o=e?t:n;x[h]={type:e?r:i,message:o,ref:a,...T(e?r:i,o)}};if(i?!Array.isArray(b)||!b.length:s&&(!O&&(C||sn(b))||bn(b)&&!b||E&&!ar(o).isValid||w&&!sr(o).isValid)){const{value:e,message:t}=er(s)?{value:!!s,message:s}:ur(s);if(e&&(x[h]={type:Tn,message:t,ref:y,...T(Tn,t)},!n))return _(t),x}if(!(C||sn(c)&&sn(d))){let e,t;const r=ur(d),i=ur(c);if(sn(b)||isNaN(b)){const n=a.valueAsDate||new Date(b),o=e=>new Date((new Date).toDateString()+" "+e),s="time"==a.type,l="week"==a.type;Rn(r.value)&&b&&(e=s?o(b)>o(r.value):l?b>r.value:n>new Date(r.value)),Rn(i.value)&&b&&(t=s?o(b)<o(i.value):l?b<i.value:n<new Date(i.value))}else{const n=a.valueAsNumber||(b?+b:b);sn(r.value)||(e=n>r.value),sn(i.value)||(t=n<i.value)}if((e||t)&&(S(!!e,r.message,i.message,xn,wn),!n))return _(x[h].message),x}if((l||u)&&!C&&(Rn(b)||i&&Array.isArray(b))){const e=ur(l),t=ur(u),r=!sn(e.value)&&b.length>+e.value,i=!sn(t.value)&&b.length<+t.value;if((r||i)&&(S(r,e.message,t.message),!n))return _(x[h].message),x}if(f&&!C&&Rn(b)){const{value:e,message:t}=ur(f);if(nr(e)&&!b.match(e)&&(x[h]={type:Cn,message:t,ref:a,...T(Cn,t)},!n))return _(t),x}if(p)if(Jn(p)){const e=lr(await p(b,t),y);if(e&&(x[h]={...e,...T(Sn,e.message)},!n))return _(e.message),x}else if(un(p)){let e={};for(const r in p){if(!In(e)&&!n)break;const i=lr(await p[r](b,t),y,r);i&&(e={...i,...T(r,i.message)},_(i.message),n&&(x[h]=e))}if(!In(e)&&(x[h]={ref:y,...e},!n))return x}return _(!0),x},dr=(e,t)=>[...e,...Nn(t)],fr=e=>Array.isArray(e)?e.map((()=>{})):void 0;function pr(e,t,n){return[...e.slice(0,t),...Nn(n),...e.slice(t)]}var hr=(e,t,n)=>Array.isArray(e)?(gn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],mr=(e,t)=>[...Nn(t),...Nn(e)];var gr=(e,t)=>gn(t)?[]:function(e,t){let n=0;const r=[...e];for(const e of t)r.splice(e-n,1),n++;return mn(r).length?r:[]}(e,Nn(t).sort(((e,t)=>e-t))),vr=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function br(e,t){const n=Array.isArray(t)?t:Vn(t)?[t]:zn(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=gn(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(un(r)&&In(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!gn(e[t]))return!1;return!0}(r))&&br(e,n.slice(0,-1)),e}var yr=(e,t,n)=>(e[t]=n,e);function _r(e){const t=jn(),{control:n=t.control,name:i,keyName:a="id",shouldUnregister:o}=e,[s,l]=r.useState(n._getFieldArray(i)),u=r.useRef(n._getFieldArray(i).map(Wn)),c=r.useRef(s),d=r.useRef(i),f=r.useRef(!1);d.current=i,c.current=s,n._names.array.add(i),e.rules&&n.register(i,e.rules),Fn({next:({values:e,name:t})=>{if(t===d.current||!t){const t=vn(e,d.current);Array.isArray(t)&&(l(t),u.current=t.map(Wn))}},subject:n._subjects.array});const p=r.useCallback((e=>{f.current=!0,n._updateFieldArray(i,e)}),[n,i]);return r.useEffect((()=>{if(n._state.action=!1,Gn(i,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!Xn(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([i]).then((e=>{const t=vn(e.errors,i),r=vn(n._formState.errors,i);(r?!t&&r.type||t&&(r.type!==t.type||r.message!==t.message):t&&t.type)&&(t?Pn(n._formState.errors,i,t):br(n._formState.errors,i),n._subjects.state.next({errors:n._formState.errors}))}));else{const e=vn(n._fields,i);!e||!e._f||Xn(n._options.reValidateMode).isOnSubmit&&Xn(n._options.mode).isOnSubmit||cr(e,n._formValues,n._options.criteriaMode===_n.all,n._options.shouldUseNativeValidation,!0).then((e=>!In(e)&&n._subjects.state.next({errors:Kn(n._formState.errors,e,i)})))}n._subjects.values.next({name:i,values:{...n._formValues}}),n._names.focus&&Zn(n._fields,((e,t)=>{if(n._names.focus&&t.startsWith(n._names.focus)&&e.focus)return e.focus(),1})),n._names.focus="",n._updateValid(),f.current=!1}),[s,i,n]),r.useEffect((()=>(!vn(n._formValues,i)&&n._updateFieldArray(i),()=>{(n._options.shouldUnregister||o)&&n.unregister(i)})),[i,n,a,o]),{swap:r.useCallback(((e,t)=>{const r=n._getFieldArray(i);vr(r,e,t),vr(u.current,e,t),p(r),l(r),n._updateFieldArray(i,r,vr,{argA:e,argB:t},!1)}),[p,i,n]),move:r.useCallback(((e,t)=>{const r=n._getFieldArray(i);hr(r,e,t),hr(u.current,e,t),p(r),l(r),n._updateFieldArray(i,r,hr,{argA:e,argB:t},!1)}),[p,i,n]),prepend:r.useCallback(((e,t)=>{const r=Nn(hn(e)),a=mr(n._getFieldArray(i),r);n._names.focus=Hn(i,0,t),u.current=mr(u.current,r.map(Wn)),p(a),l(a),n._updateFieldArray(i,a,mr,{argA:fr(e)})}),[p,i,n]),append:r.useCallback(((e,t)=>{const r=Nn(hn(e)),a=dr(n._getFieldArray(i),r);n._names.focus=Hn(i,a.length-1,t),u.current=dr(u.current,r.map(Wn)),p(a),l(a),n._updateFieldArray(i,a,dr,{argA:fr(e)})}),[p,i,n]),remove:r.useCallback((e=>{const t=gr(n._getFieldArray(i),e);u.current=gr(u.current,e),p(t),l(t),n._updateFieldArray(i,t,gr,{argA:e})}),[p,i,n]),insert:r.useCallback(((e,t,r)=>{const a=Nn(hn(t)),o=pr(n._getFieldArray(i),e,a);n._names.focus=Hn(i,e,r),u.current=pr(u.current,e,a.map(Wn)),p(o),l(o),n._updateFieldArray(i,o,pr,{argA:e,argB:fr(t)})}),[p,i,n]),update:r.useCallback(((e,t)=>{const r=hn(t),a=yr(n._getFieldArray(i),e,r);u.current=[...a].map(((t,n)=>t&&n!==e?u.current[n]:Wn())),p(a),l([...a]),n._updateFieldArray(i,a,yr,{argA:e,argB:r},!0,!1)}),[p,i,n]),replace:r.useCallback((e=>{const t=Nn(hn(e));u.current=t.map(Wn),p([...t]),l([...t]),n._updateFieldArray(i,[...t],(e=>e),{},!0,!1)}),[p,i,n]),fields:r.useMemo((()=>s.map(((e,t)=>({...e,[a]:u.current[t]||Wn()})))),[s,a])}}var xr=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},wr=e=>sn(e)||!ln(e);function Er(e,t){if(wr(e)||wr(t))return e===t;if(on(e)&&on(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(on(n)&&on(e)||un(n)&&un(e)||Array.isArray(n)&&Array.isArray(e)?!Er(n,e):n!==e)return!1}}return!0}var Or=e=>"select-multiple"===e.type,Cr=e=>tr(e)||an(e),Tr=e=>Qn(e)&&e.isConnected,Sr=e=>{for(const t in e)if(Jn(e[t]))return!0;return!1};function Ar(e,t={}){const n=Array.isArray(e);if(un(e)||n)for(const n in e)Array.isArray(e[n])||un(e[n])&&!Sr(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ar(e[n],t[n])):sn(e[n])||(t[n]=!0);return t}function jr(e,t,n){const r=Array.isArray(e);if(un(e)||r)for(const r in e)Array.isArray(e[r])||un(e[r])&&!Sr(e[r])?gn(t)||wr(n[r])?n[r]=Array.isArray(e[r])?Ar(e[r],[]):{...Ar(e[r])}:jr(e[r],sn(t)?{}:t[r],n[r]):n[r]=!Er(e[r],t[r]);return n}var kr=(e,t)=>jr(e,t,Ar(t)),Dr=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>gn(e)?e:t?""===e?NaN:e?+e:e:n&&Rn(e)?new Date(e):r?r(e):e;function Ir(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return Yn(t)?t.files:tr(t)?sr(e.refs).value:Or(t)?[...t.selectedOptions].map((({value:e})=>e)):an(t)?ar(e.refs).value:Dr(gn(t.value)?e.ref.value:t.value,e)}var Mr=(e,t,n,r)=>{const i={};for(const n of e){const e=vn(t,n);e&&Pn(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Nr=e=>gn(e)?e:nr(e)?e.source:un(e)?nr(e.value)?e.value.source:e.value:e,$r=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Fr(e,t,n){const r=vn(e,n);if(r||Vn(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=vn(t,r),o=vn(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};i.pop()}return{name:n}}var Rr=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),Lr=(e,t)=>!mn(vn(e,t)).length&&br(e,t);const Vr={mode:_n.onSubmit,reValidateMode:_n.onChange,shouldFocusError:!0};function zr(e={}){let t,n={...Vr,...e},r={submitCount:0,isDirty:!1,isLoading:Jn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(un(n.defaultValues)||un(n.values))&&hn(n.defaultValues||n.values)||{},o=n.shouldUnregister?{}:hn(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:xr(),array:xr(),state:xr()},f=Xn(n.mode),p=Xn(n.reValidateMode),h=n.criteriaMode===_n.all,m=async e=>{if(c.isValid||e){const e=n.resolver?In((await _()).errors):await x(i,!0);e!==r.isValid&&d.state.next({isValid:e})}},g=(e,t)=>{(c.isValidating||c.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>e&&Pn(r.validatingFields,e,!!t))),r.isValidating=Object.values(r.validatingFields).some((e=>e)),d.state.next({validatingFields:r.validatingFields,isValidating:r.isValidating}))},v=(e,t,n,r)=>{const l=vn(i,e);if(l){const i=vn(o,e,gn(n)?vn(a,e):n);gn(i)||r&&r.defaultChecked||t?Pn(o,e,t?i:Ir(l._f)):O(e,i),s.mount&&m()}},b=(e,t,n,o,s)=>{let l=!1,u=!1;const f={name:e},p=!(!vn(i,e)||!vn(i,e)._f.disabled);if(!n||o){c.isDirty&&(u=r.isDirty,r.isDirty=f.isDirty=w(),l=u!==f.isDirty);const n=p||Er(vn(a,e),t);u=!(p||!vn(r.dirtyFields,e)),n||p?br(r.dirtyFields,e):Pn(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||c.dirtyFields&&u!==!n}if(n){const t=vn(r.touchedFields,e);t||(Pn(r.touchedFields,e,n),f.touchedFields=r.touchedFields,l=l||c.touchedFields&&t!==n)}return l&&s&&d.state.next(f),l?f:{}},y=(n,i,a,o)=>{const s=vn(r.errors,n),l=c.isValid&&bn(i)&&r.isValid!==i;var f;if(e.delayError&&a?(f=()=>((e,t)=>{Pn(r.errors,e,t),d.state.next({errors:r.errors})})(n,a),t=e=>{clearTimeout(u),u=setTimeout(f,e)},t(e.delayError)):(clearTimeout(u),t=null,a?Pn(r.errors,n,a):br(r.errors,n)),(a?!Er(s,a):s)||!In(o)||l){const e={...o,...l&&bn(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},d.state.next(e)}},_=async e=>{g(e,!0);const t=await n.resolver(o,n.context,Mr(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return g(e),t},x=async(e,t,i={valid:!0})=>{for(const a in e){const s=e[a];if(s){const{_f:e,...u}=s;if(e){const u=l.array.has(e.name);g([a],!0);const c=await cr(s,o,h,n.shouldUseNativeValidation&&!t,u);if(g([a]),c[e.name]&&(i.valid=!1,t))break;!t&&(vn(c,e.name)?u?Kn(r.errors,c,e.name):Pn(r.errors,e.name,c[e.name]):br(r.errors,e.name))}u&&await x(u,t,i)}}return i.valid},w=(e,t)=>(e&&t&&Pn(o,e,t),!Er(k(),a)),E=(e,t,n)=>Ln(e,l,{...s.mount?o:gn(t)?a:Rn(e)?{[e]:t}:t},n,t),O=(e,t,n={})=>{const r=vn(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&Pn(o,e,Dr(t,n)),a=Qn(n.ref)&&sn(t)?"":t,Or(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?an(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):Yn(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||d.values.next({name:e,values:{...o}})))}(n.shouldDirty||n.shouldTouch)&&b(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},C=(e,t,n)=>{for(const r in t){const a=t[r],o=`${e}.${r}`,s=vn(i,o);!l.array.has(e)&&wr(a)&&(!s||s._f)||on(a)?O(o,a,n):C(o,a,n)}},T=(e,t,n={})=>{const u=vn(i,e),f=l.array.has(e),p=hn(t);Pn(o,e,p),f?(d.array.next({name:e,values:{...o}}),(c.isDirty||c.dirtyFields)&&n.shouldDirty&&d.state.next({name:e,dirtyFields:kr(a,o),isDirty:w(e,p)})):!u||u._f||sn(p)?O(e,p,n):C(e,p,n),Gn(e,l)&&d.state.next({...r}),d.values.next({name:s.mount?e:void 0,values:{...o}})},S=async e=>{const a=e.target;let s=a.name,u=!0;const v=vn(i,s),w=e=>{u=Number.isNaN(e)||e===vn(o,s,e)};if(v){let E,O;const C=a.type?Ir(v._f):cn(e),T=e.type===yn.BLUR||e.type===yn.FOCUS_OUT,S=!$r(v._f)&&!n.resolver&&!vn(r.errors,s)&&!v._f.deps||Rr(T,vn(r.touchedFields,s),r.isSubmitted,p,f),A=Gn(s,l,T);Pn(o,s,C),T?(v._f.onBlur&&v._f.onBlur(e),t&&t(0)):v._f.onChange&&v._f.onChange(e);const k=b(s,C,T,!1),D=!In(k)||A;if(!T&&d.values.next({name:s,type:e.type,values:{...o}}),S)return c.isValid&&m(),D&&d.state.next({name:s,...A?{}:k});if(!T&&A&&d.state.next({...r}),n.resolver){const{errors:e}=await _([s]);if(w(C),u){const t=Fr(r.errors,i,s),n=Fr(e,i,t.name||s);E=n.error,s=n.name,O=In(e)}}else g([s],!0),E=(await cr(v,o,h,n.shouldUseNativeValidation))[s],g([s]),w(C),u&&(E?O=!1:c.isValid&&(O=await x(i,!0)));u&&(v._f.deps&&j(v._f.deps),y(s,O,E,k))}},A=(e,t)=>{if(vn(r.errors,t)&&e.focus)return e.focus(),1},j=async(e,t={})=>{let a,o;const s=Nn(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await _(e);if(e)for(const n of e){const e=vn(t,n);e?Pn(r.errors,n,e):br(r.errors,n)}else r.errors=t;return t})(gn(e)?e:s);a=In(t),o=e?!s.some((e=>vn(t,e))):a}else e?(o=(await Promise.all(s.map((async e=>{const t=vn(i,e);return await x(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||r.isValid)&&m()):o=a=await x(i);return d.state.next({...!Rn(e)||c.isValid&&a!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:a}:{},errors:r.errors}),t.shouldFocus&&!o&&Zn(i,A,e?s:l.mount),o},k=e=>{const t={...a,...s.mount?o:{}};return gn(e)?t:Rn(e)?vn(t,e):e.map((e=>vn(t,e)))},D=(e,t)=>({invalid:!!vn((t||r).errors,e),isDirty:!!vn((t||r).dirtyFields,e),isTouched:!!vn((t||r).touchedFields,e),isValidating:!!vn((t||r).validatingFields,e),error:vn((t||r).errors,e)}),I=(e,t,n)=>{const a=(vn(i,e,{_f:{}})._f||{}).ref;Pn(r.errors,e,{...t,ref:a}),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},M=(e,t={})=>{for(const s of e?Nn(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(br(i,s),br(o,s)),!t.keepError&&br(r.errors,s),!t.keepDirty&&br(r.dirtyFields,s),!t.keepTouched&&br(r.touchedFields,s),!t.keepIsValidating&&br(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&br(a,s);d.values.next({values:{...o}}),d.state.next({...r,...t.keepDirty?{isDirty:w()}:{}}),!t.keepIsValid&&m()},N=({disabled:e,name:t,field:n,fields:r,value:i})=>{if(bn(e)){const a=e?void 0:gn(i)?Ir(n?n._f:vn(r,t)._f):i;Pn(o,t,a),b(t,a,!1,!1,!0)}},$=(e,t={})=>{let r=vn(i,e);const o=bn(t.disabled);return Pn(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),r?N({field:r,disabled:t.disabled,name:e,value:t.value}):v(e,!0,t.value),{...o?{disabled:t.disabled}:{},...n.progressive?{required:!!t.required,min:Nr(t.min),max:Nr(t.max),minLength:Nr(t.minLength),maxLength:Nr(t.maxLength),pattern:Nr(t.pattern)}:{},name:e,onChange:S,onBlur:S,ref:o=>{if(o){$(e,t),r=vn(i,e);const n=gn(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=Cr(n),l=r._f.refs||[];if(s?l.find((e=>e===n)):n===r._f.ref)return;Pn(i,e,{_f:{...r._f,...s?{refs:[...l.filter(Tr),n,...Array.isArray(vn(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),v(e,!1,void 0,n)}else r=vn(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!dn(l.array,e)||!s.action)&&l.unMount.add(e)}}},F=()=>n.shouldFocusError&&Zn(i,A,l.mount),R=(e,t)=>async a=>{let s;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let l=hn(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await _();r.errors=e,l=t}else await x(i);if(br(r.errors,"root"),In(r.errors)){d.state.next({errors:{}});try{await e(l,a)}catch(e){s=e}}else t&&await t({...r.errors},a),F(),setTimeout(F);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:In(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},L=(t,n={})=>{const u=t?hn(t):a,f=hn(u),p=In(t),h=p?a:f;if(n.keepDefaultValues||(a=u),!n.keepValues){if(n.keepDirtyValues)for(const e of l.mount)vn(r.dirtyFields,e)?Pn(h,e,vn(o,e)):T(e,vn(h,e));else{if(pn&&gn(t))for(const e of l.mount){const t=vn(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Qn(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}o=e.shouldUnregister?n.keepDefaultValues?hn(a):{}:hn(h),d.array.next({values:{...h}}),d.values.next({values:{...h}})}l={mount:n.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!n.keepIsValid||!!n.keepDirtyValues,s.watch=!!e.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!p&&(n.keepDirty?r.isDirty:!(!n.keepDefaultValues||Er(t,a))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?[]:n.keepDirtyValues?n.keepDefaultValues&&o?kr(a,o):r.dirtyFields:n.keepDefaultValues&&t?kr(a,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},V=(e,t)=>L(Jn(e)?e(o):e,t);return{control:{register:$,unregister:M,getFieldState:D,handleSubmit:R,setError:I,_executeSchema:_,_getWatch:E,_getDirty:w,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=vn(i,e);t&&(t._f.refs?t._f.refs.every((e=>!Tr(e))):!Tr(t._f.ref))&&M(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],n,l,u=!0,f=!0)=>{if(l&&n){if(s.action=!0,f&&Array.isArray(vn(i,e))){const t=n(vn(i,e),l.argA,l.argB);u&&Pn(i,e,t)}if(f&&Array.isArray(vn(r.errors,e))){const t=n(vn(r.errors,e),l.argA,l.argB);u&&Pn(r.errors,e,t),Lr(r.errors,e)}if(c.touchedFields&&f&&Array.isArray(vn(r.touchedFields,e))){const t=n(vn(r.touchedFields,e),l.argA,l.argB);u&&Pn(r.touchedFields,e,t)}c.dirtyFields&&(r.dirtyFields=kr(a,o)),d.state.next({name:e,isDirty:w(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Pn(o,e,t)},_updateDisabledField:N,_getFieldArray:t=>mn(vn(s.mount?o:a,t,e.shouldUnregister?vn(a,t,[]):[])),_reset:L,_resetDefaultValues:()=>Jn(n.defaultValues)&&n.defaultValues().then((e=>{V(e,n.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{bn(e)&&(d.state.next({disabled:e}),Zn(i,((t,n)=>{let r=e;const a=vn(i,n);a&&bn(a._f.disabled)&&(r||(r=a._f.disabled)),t.disabled=r}),0,!1))},_subjects:d,_proxyFormState:c,_setErrors:e=>{r.errors=e,d.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:j,register:$,handleSubmit:R,watch:(e,t)=>Jn(e)?d.values.subscribe({next:n=>e(E(void 0,t),n)}):E(e,t,!0),setValue:T,getValues:k,reset:V,resetField:(e,t={})=>{vn(i,e)&&(gn(t.defaultValue)?T(e,hn(vn(a,e))):(T(e,t.defaultValue),Pn(a,e,hn(t.defaultValue))),t.keepTouched||br(r.touchedFields,e),t.keepDirty||(br(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,hn(vn(a,e))):w()),t.keepError||(br(r.errors,e),c.isValid&&m()),d.state.next({...r}))},clearErrors:e=>{e&&Nn(e).forEach((e=>br(r.errors,e))),d.state.next({errors:e?r.errors:{}})},unregister:M,setError:I,setFocus:(e,t={})=>{const n=vn(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:D}}function Pr(e={}){const t=r.useRef(),n=r.useRef(),[i,a]=r.useState({isDirty:!1,isValidating:!1,isLoading:Jn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Jn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...zr(e),formState:i});const o=t.current.control;return o._options=e,Fn({subject:o._subjects.state,next:e=>{Mn(e,o._proxyFormState,o._updateFormState,!0)&&a({...o._formState})}}),r.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),r.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==i.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,i.isDirty]),r.useEffect((()=>{e.values&&!Er(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,a((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),r.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),r.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),r.useEffect((()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})}),[e.shouldUnregister,o]),t.current.formState=Dn(i,o),t.current}var Ur=function(e,t,n){if(e&&"reportValidity"in e){var r=vn(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Br=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Ur(r.ref,n,e):r.refs&&r.refs.forEach((function(t){return Ur(t,n,e)}))};for(var r in t.fields)n(r)},qr=function(e,t){t.shouldUseNativeValidation&&Br(e,t);var n={};for(var r in e){var i=vn(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(Wr(t.names||Object.keys(e),r)){var o=Object.assign({},vn(n,r));Pn(o,"root",a),Pn(n,r,o)}else Pn(n,r,a)}return n},Wr=function(e,t){return e.some((function(e){return e.startsWith(t+".")}))};function Hr(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,s){try{var l=(t.context&&"development"===process.env.NODE_ENV&&console.warn("You should not used the yup options context. Please, use the 'useForm' context object instead"),Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:i}))).then((function(e){return a.shouldUseNativeValidation&&Br({},a),{values:n.raw?r:e,errors:{}}})))}catch(e){return s(e)}return l&&l.then?l.then(void 0,s):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:qr((t=e,n=!a.shouldUseNativeValidation&&"all"===a.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,i=r&&r[t.type];e[t.path]=qn(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e}),{})),a)};var t,n})))}catch(e){return Promise.reject(e)}}}var Xr=Object.prototype;var Gr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Xr)};var Zr=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Kr=Gr,Yr=Zr,Jr=Object.prototype.hasOwnProperty;var Qr=function(e){if(!Kr(e))return Yr(e);var t=[];for(var n in Object(e))Jr.call(e,n)&&"constructor"!=n&&t.push(n);return t},ei="object"==typeof xe&&xe&&xe.Object===Object&&xe,ti=ei,ni="object"==typeof self&&self&&self.Object===Object&&self,ri=ti||ni||Function("return this")(),ii=ri.Symbol,ai=ii,oi=Object.prototype,si=oi.hasOwnProperty,li=oi.toString,ui=ai?ai.toStringTag:void 0;var ci=function(e){var t=si.call(e,ui),n=e[ui];try{e[ui]=void 0;var r=!0}catch(e){}var i=li.call(e);return r&&(t?e[ui]=n:delete e[ui]),i},di=Object.prototype.toString;var fi=ci,pi=function(e){return di.call(e)},hi=ii?ii.toStringTag:void 0;var mi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":hi&&hi in Object(e)?fi(e):pi(e)};var gi=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},vi=mi,bi=gi;var yi,_i=function(e){if(!bi(e))return!1;var t=vi(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},xi=ri["__core-js_shared__"],wi=(yi=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||""))?"Symbol(src)_1."+yi:"";var Ei=function(e){return!!wi&&wi in e},Oi=Function.prototype.toString;var Ci=function(e){if(null!=e){try{return Oi.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ti=_i,Si=Ei,Ai=gi,ji=Ci,ki=/^\[object .+?Constructor\]$/,Di=Function.prototype,Ii=Object.prototype,Mi=Di.toString,Ni=Ii.hasOwnProperty,$i=RegExp("^"+Mi.call(Ni).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Fi=function(e,t){return null==e?void 0:e[t]},Ri=function(e){return!(!Ai(e)||Si(e))&&(Ti(e)?$i:ki).test(ji(e))},Li=Fi;var Vi=function(e,t){var n=Li(e,t);return Ri(n)?n:void 0},zi=Vi(ri,"DataView"),Pi=Vi(ri,"Map"),Ui=Vi(ri,"Promise"),Bi=Vi(ri,"Set"),qi=Vi(ri,"WeakMap"),Wi=mi,Hi=Ci,Xi="[object Map]",Gi="[object Promise]",Zi="[object Set]",Ki="[object WeakMap]",Yi="[object DataView]",Ji=Hi(zi),Qi=Hi(Pi),ea=Hi(Ui),ta=Hi(Bi),na=Hi(qi),ra=Wi;(zi&&ra(new zi(new ArrayBuffer(1)))!=Yi||Pi&&ra(new Pi)!=Xi||Ui&&ra(Ui.resolve())!=Gi||Bi&&ra(new Bi)!=Zi||qi&&ra(new qi)!=Ki)&&(ra=function(e){var t=Wi(e),n="[object Object]"==t?e.constructor:void 0,r=n?Hi(n):"";if(r)switch(r){case Ji:return Yi;case Qi:return Xi;case ea:return Gi;case ta:return Zi;case na:return Ki}return t});var ia=ra;var aa=function(e){return null!=e&&"object"==typeof e},oa=mi,sa=aa;var la=function(e){return sa(e)&&"[object Arguments]"==oa(e)},ua=aa,ca=Object.prototype,da=ca.hasOwnProperty,fa=ca.propertyIsEnumerable,pa=la(function(){return arguments}())?la:function(e){return ua(e)&&da.call(e,"callee")&&!fa.call(e,"callee")},ha=Array.isArray;var ma=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ga=_i,va=ma;var ba=function(e){return null!=e&&va(e.length)&&!ga(e)},ya={exports:{}};var _a=function(){return!1};!function(e,t){var n=ri,r=_a,i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||r;e.exports=s}(ya,ya.exports);var xa=ya.exports,wa=mi,Ea=ma,Oa=aa,Ca={};Ca["[object Float32Array]"]=Ca["[object Float64Array]"]=Ca["[object Int8Array]"]=Ca["[object Int16Array]"]=Ca["[object Int32Array]"]=Ca["[object Uint8Array]"]=Ca["[object Uint8ClampedArray]"]=Ca["[object Uint16Array]"]=Ca["[object Uint32Array]"]=!0,Ca["[object Arguments]"]=Ca["[object Array]"]=Ca["[object ArrayBuffer]"]=Ca["[object Boolean]"]=Ca["[object DataView]"]=Ca["[object Date]"]=Ca["[object Error]"]=Ca["[object Function]"]=Ca["[object Map]"]=Ca["[object Number]"]=Ca["[object Object]"]=Ca["[object RegExp]"]=Ca["[object Set]"]=Ca["[object String]"]=Ca["[object WeakMap]"]=!1;var Ta=function(e){return Oa(e)&&Ea(e.length)&&!!Ca[wa(e)]};var Sa=function(e){return function(t){return e(t)}},Aa={exports:{}};!function(e,t){var n=ei,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o}(Aa,Aa.exports);var ja=Aa.exports,ka=Ta,Da=Sa,Ia=ja&&ja.isTypedArray,Ma=Ia?Da(Ia):ka,Na=Qr,$a=ia,Fa=pa,Ra=ha,La=ba,Va=xa,za=Gr,Pa=Ma,Ua=Object.prototype.hasOwnProperty;var Ba=we((function(e){if(null==e)return!0;if(La(e)&&(Ra(e)||"string"==typeof e||"function"==typeof e.splice||Va(e)||Pa(e)||Fa(e)))return!e.length;var t=$a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(za(e))return!Na(e).length;for(var n in e)if(Ua.call(e,n))return!1;return!0}));function qa(e){this._maxSize=e,this.clear()}qa.prototype.clear=function(){this._size=0,this._values=Object.create(null)},qa.prototype.get=function(e){return this._values[e]},qa.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Wa=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Ha=/^\d+$/,Xa=/^\d/,Ga=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Za=/^\s*(['"]?)(.*?)(\1)\s*$/,Ka=new qa(512),Ya=new qa(512),Ja=new qa(512),Qa={Cache:qa,split:to,normalizePath:eo,setter:function(e){var t=eo(e);return Ya.get(e)||Ya.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=eo(e);return Ja.get(e)||Ja.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(no(t)||Ha.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(ro(r)&&(r='"'+r+'"'),a=!(o=no(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:to(e),t,n)}};function eo(e){return Ka.get(e)||Ka.set(e,to(e).map((function(e){return e.replace(Za,"$2")})))}function to(e){return e.match(Wa)||[""]}function no(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function ro(e){return!no(e)&&(function(e){return e.match(Xa)&&!e.match(Ha)}(e)||function(e){return Ga.test(e)}(e))}const io=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ao=e=>e.match(io)||[],oo=(e,t)=>ao(e).join(t).toLowerCase(),so=e=>ao(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");var lo=so,uo=e=>oo(e,"_"),co={exports:{}};function fo(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||l(e[a],a,new Set);return r;function l(e,t,a){if(a.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var d=c[--t];l(d,s.get(d),a)}while(t);a.delete(e)}r[--n]=e}}}co.exports=function(e){return fo(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},co.exports.array=fo;var po=we(co.exports);const ho=Object.prototype.toString,mo=Error.prototype.toString,go=RegExp.prototype.toString,vo="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",bo=/^Symbol\((.*)\)(.*)$/;function yo(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return vo.call(e).replace(bo,"Symbol($1)");const r=ho.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+mo.call(e)+"]":"RegExp"===r?go.call(e):null}function _o(e,t){let n=yo(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=yo(this[e],t);return null!==r?r:n}),2)}function xo(e){return null==e?[]:[].concat(e)}let wo,Eo,Oo,Co=/\$\{\s*(\w+)\s*\}/g;wo=Symbol.toStringTag;class To{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[wo]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],xo(e).forEach((e=>{if(So.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Eo=Symbol.hasInstance,Oo=Symbol.toStringTag;class So extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=Object.assign({},t,{path:n})),"string"==typeof e?e.replace(Co,((e,n)=>_o(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,i){const a=new To(e,t,n,r);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Oo]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,So)}static[Eo](e){return To[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ao={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=null!=r&&r!==n?` (cast from the value \`${_o(r,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${_o(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${_o(n,!0)}\``+i}},jo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ko={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Do={isValue:"${path} field must be ${value}"},Io={noUnknown:"${path} field has unspecified keys: ${unknown}"},Mo={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},No={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${_o(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${_o(n,!0)}\``}return So.formatError(Ao.notType,e)}};Object.assign(Object.create(null),{mixed:Ao,string:jo,number:{min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date:ko,object:Io,array:Mo,boolean:Do,tuple:No});const $o=e=>e&&e.__isYupSchema__;class Fo{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:i}=t,a="function"==typeof n?n:(...e)=>e.every((e=>e===n));return new Fo(e,((e,t)=>{var n;let o=a(...e)?r:i;return null!=(n=null==o?void 0:o(t))?n:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!$o(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const Ro="$",Lo=".";class Vo{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ro,this.isValue=this.key[0]===Lo,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Ro:this.isValue?Lo:"";this.path=this.key.slice(n.length),this.getter=this.path&&Qa.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Vo.prototype.__isYupRef=!0;const zo=e=>null==e;function Po(e){function t({value:t,path:n="",options:r,originalValue:i,schema:a},o,s){const{name:l,test:u,params:c,message:d,skipAbsent:f}=e;let{parent:p,context:h,abortEarly:m=a.spec.abortEarly,disableStackTrace:g=a.spec.disableStackTrace}=r;function v(e){return Vo.isRef(e)?e.getValue(t,p,h):e}function b(e={}){const r=Object.assign({value:t,originalValue:i,label:a.spec.label,path:e.path||n,spec:a.spec,disableStackTrace:e.disableStackTrace||g},c,e.params);for(const e of Object.keys(r))r[e]=v(r[e]);const o=new So(So.formatError(e.message||d,r),t,r.path,e.type||l,r.disableStackTrace);return o.params=r,o}const y=m?o:s;let _={path:n,parent:p,type:l,from:r.from,createError:b,resolve:v,options:r,originalValue:i,schema:a};const x=e=>{So.isError(e)?y(e):e?s(null):y(b())},w=e=>{So.isError(e)?y(e):o(e)};if(f&&zo(t))return x(!0);let E;try{var O;if(E=u.call(_,t,_),"function"==typeof(null==(O=E)?void 0:O.then)){if(r.sync)throw new Error(`Validation test of type: "${_.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(x,w)}}catch(e){return void w(e)}x(E)}return t.OPTIONS=e,t}function Uo(e,t,n,r=n){let i,a,o;return t?(Qa.forEach(t,((s,l,u)=>{let c=l?s.slice(1,s.length-1):s,d="tuple"===(e=e.resolve({context:r,parent:i,value:n})).type,f=u?parseInt(c,10):0;if(e.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=d?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);i=n,n=n&&n[c],e=e.fields[c]}a=c,o=l?"["+s+"]":"."+s})),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}class Bo extends Set{describe(){const e=[];for(const t of this.values())e.push(Vo.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Bo(this.values())}merge(e,t){const n=this.clone();return e.forEach((e=>n.add(e))),t.forEach((e=>n.delete(e))),n}}function qo(e,t=new Map){if($o(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=qo(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,qo(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(qo(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=qo(i,t)}return n}class Wo{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Bo,this._blacklist=new Bo,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(Ao.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=qo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,i;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(i=e.disableStackTrace)?i:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,i=n._cast(e,t);if(!1!==t.assert&&!n.isType(i)){if(r&&zo(i))return i;let a=_o(e),o=_o(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${a} \n`+(o!==a?`result of cast: ${o}`:""))}return i}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:i,originalValue:a=e,strict:o=this.spec.strict}=t,s=e;o||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:i,value:s,originalValue:a,options:t,tests:l},n,(e=>{if(e.length)return r(e,s);this.runTests({path:i,value:s,originalValue:a,options:t,tests:this.tests},n,r)}))}runTests(e,t,n){let r=!1,{tests:i,value:a,originalValue:o,path:s,options:l}=e,u=e=>{r||(r=!0,t(e,a))},c=e=>{r||(r=!0,n(e,a))},d=i.length,f=[];if(!d)return c([]);let p={value:a,originalValue:o,path:s,options:l,schema:this};for(let e=0;e<i.length;e++){(0,i[e])(p,u,(function(e){e&&(Array.isArray(e)?f.push(...e):f.push(e)),--d<=0&&c(f)}))}}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:i,options:a}){const o=null!=e?e:t;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const s="number"==typeof o;let l=n[o];const u=Object.assign({},a,{strict:!0,parent:n,value:l,originalValue:i[o],key:void 0,[s?"index":"key"]:o,path:s||o.includes(".")?`${r||""}[${s?o:`"${o}"`}]`:(r?`${r}.`:"")+e});return(e,t,n)=>this.resolve(u)._validate(l,u,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),i=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise(((n,a)=>r._validate(e,t,((e,t)=>{So.isError(e)&&(e.value=t),a(e)}),((e,t)=>{e.length?a(new So(e,t,void 0,void 0,i)):n(t)}))))}validateSync(e,t){var n;let r,i=this.resolve(Object.assign({},t,{value:e})),a=null!=(n=null==t?void 0:t.disableStackTrace)?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw So.isError(e)&&(e.value=t),e}),((t,n)=>{if(t.length)throw new So(t,e,void 0,void 0,a);r=n})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(So.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(So.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):qo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Po({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Po({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=Ao.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ao.notNull){return this.nullability(!1,e)}required(e=Ao.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=Ao.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Po(t),i=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(i)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=xo(e).map((e=>new Vo(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"==typeof t?new Fo(r,t):Fo.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Po({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Ao.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=Po({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e,t=Ao.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=Po({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:i,nullable:a}=t.spec,o={meta:r,label:n,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))};return o}}Wo.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Wo.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:a,schema:o}=Uo(this,t,n,r.context);return o[e](i&&i[a],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Wo.prototype[e]=Wo.prototype.oneOf;for(const e of["not","nope"])Wo.prototype[e]=Wo.prototype.notOneOf;function Ho(){return new Xo}class Xo extends Wo{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(e=Do.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>zo(e)||!0===e})}isFalse(e=Do.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>zo(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Ho.prototype=Xo.prototype;const Go=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Zo(e){var t,n;const r=Go.exec(e);return r?{year:Ko(r[1]),month:Ko(r[2],1)-1,day:Ko(r[3],1),hour:Ko(r[4]),minute:Ko(r[5]),second:Ko(r[6]),millisecond:r[7]?Ko(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ko(r[10]),minuteOffset:Ko(r[11])}:null}function Ko(e,t=0){return Number(e)||t}let Yo=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Jo=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Qo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,es=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),ts=e=>zo(e)||e===e.trim(),ns={}.toString();function rs(){return new is}class is extends Wo{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===ns?e:r}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||Ao.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=jo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=jo.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=jo.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,i=!1;return t&&("object"==typeof t?({excludeEmptyString:i=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||jo.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&i||-1!==t.search(e)})}email(e=jo.email){return this.matches(Yo,{name:"email",message:e,excludeEmptyString:!0})}url(e=jo.url){return this.matches(Jo,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=jo.uuid){return this.matches(Qo,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"==typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(es,{name:"datetime",message:r||jo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||jo.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=Zo(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||jo.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||null==n)return!0;const t=Zo(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=jo.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:ts})}lowercase(e=jo.lowercase){return this.transform((e=>zo(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>zo(e)||e===e.toLowerCase()})}uppercase(e=jo.uppercase){return this.transform((e=>zo(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>zo(e)||e===e.toUpperCase()})}}rs.prototype=is.prototype;let as=new Date("");class os extends Wo{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=Zo(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?os.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let n;if(Vo.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=ko.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e,t=ko.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function ss(e,t){let n=1/0;return e.some(((e,r)=>{var i;if(null!=(i=t.path)&&i.includes(e))return n=r,!0})),n}function ls(e){return(t,n)=>ss(e,t)-ss(e,n)}os.INVALID_DATE=as,os.prototype;const us=(e,t,n)=>{if("string"!=typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(e){}return n.isType(r)?r:e};function cs(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=cs(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=cs(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(cs)}):"optional"in e?e.optional():e}let ds=e=>"[object Object]"===Object.prototype.toString.call(e);const fs=ls([]);function ps(e){return new hs(e)}class hs extends Wo{constructor(e){super({type:"object",check:e=>ds(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=fs,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let i=this.fields,a=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(r).filter((e=>!this._nodes.includes(e)))),s={},l=Object.assign({},t,{parent:s,__validating:t.__validating||!1}),u=!1;for(const e of o){let n=i[e],o=e in r;if(n){let i,a=r[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:a,context:t.context,parent:s});let o=n instanceof Wo?n.spec:void 0,c=null==o?void 0:o.strict;if(null!=o&&o.strip){u=u||e in r;continue}i=t.__validating&&c?r[e]:n.cast(r[e],l),void 0!==i&&(s[e]=i)}else o&&!a&&(s[e]=r[e]);o===e in s&&s[e]===r[e]||(u=!0)}return u?s:r}_validate(e,t={},n,r){let{from:i=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,((e,i)=>{if(!o||!ds(i))return void r(e,i);a=a||i;let s=[];for(let e of this._nodes){let n=this.fields[e];n&&!Vo.isRef(n)&&s.push(n.asNestedTest({options:t,key:e,parent:i,parentPath:t.path,originalParent:a}))}this.runTests({tests:s,value:i,originalValue:a,options:t},n,(t=>{r(t.sort(this._sortErrors).concat(e),i)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];n[e]=void 0===r?t:r}return t.withMutation((t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((n=>{var r;const i=this.fields[n];let a=e;null!=(r=a)&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(a):void 0})),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e,t=[]){let n=[],r=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function a(e,t){let a=Qa.split(e)[0];r.add(a),i.has(`${t}-${a}`)||n.push([t,a])}for(const t of Object.keys(e)){let n=e[t];r.add(t),Vo.isRef(n)&&n.isSibling?a(n.path,t):$o(n)&&"deps"in n&&n.deps.forEach((e=>a(e,t)))}return po.array(Array.from(r),n).reverse()}(e,t),n._sortErrors=ls(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation((n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)}))}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return cs(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter((([t,n])=>e.includes(t)&&e.includes(n))))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let r=Qa.getter(e,!0);return this.transform((i=>{if(!i)return i;let a=i;return((e,t)=>{const n=[...Qa.normalizePath(t)];if(1===n.length)return n[0]in e;let r=n.pop(),i=Qa.getter(Qa.join(n),!0)(e);return!(!i||!(r in i))})(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=r(i)),a}))}json(){return this.transform(us)}noUnknown(e=!0,t=Io.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=function(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=Io.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n}))}camelCase(){return this.transformKeys(lo)}snakeCase(){return this.transformKeys(uo)}constantCase(){return this.transformKeys((e=>uo(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,a]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[i]})),n.fields[i]=a.describe(t)}return n}}function ms(e){return new gs(e)}ps.prototype=hs.prototype;class gs extends Wo{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const i=n.map(((e,n)=>{const i=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${n}]`}));return i!==e&&(r=!0),i}));return r?i:n}_validate(e,t={},n,r){var i;let a=this.innerType,o=null!=(i=t.recursive)?i:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,((i,s)=>{var l;if(!o||!a||!this._typeCheck(s))return void r(i,s);let u=new Array(s.length);for(let n=0;n<s.length;n++){var c;u[n]=a.asNestedTest({options:t,index:n,parent:s,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:s,tests:u,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,(e=>r(e.concat(i),s)))}))}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(us)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!$o(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+_o(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=Mo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||Mo.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||Mo.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default((()=>[])).transform(((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t)))}compact(e){let t=e?(t,n,r)=>!e(t,n,r):e=>!!e;return this.transform((e=>null!=e?e.filter(t):e))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var r;let i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=t.innerType.describe(i)}return n}}function vs(e,t,n){if(!e||!$o(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof t)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n}ms.prototype=gs.prototype;const bs=e=>e.split("\n").filter((e=>!Ba(e))),ys=e=>{const t=e.split("|").map((e=>e.trim()));return 2!==t.length||Ba(t[0])||Ba(t[1])?null:{label:t[0],value:t[1]}},_s=ps().shape({items:rs().test("validate-format",'Incorrect format. Check that all labels and values are filled and separated with "|".',(e=>{if(Ba(e))return!0;return bs(e).every((e=>ys(e)))}))}),xs=v.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
    text-align: left;
`,ws=v(D)`
    /* increase specificity as the styles are overwritten */
    && {
        height: 100%;
        overflow-y: auto;
    }
    cursor: pointer;
`,Es=v.div`
    display: flex;
    justify-content: center;
    margin-top: 2rem;
    gap: 2rem;
`,Os=v(M.Default)`
    width: 100%;
`,Cs=v(C.H3)`
    padding: 2rem 0 1rem 0;
`,Ts=({modal:n})=>{const{hideModal:r}=Qt(),{type:i,onClickActionButton:a,dropdownItemsString:o}=n,s=Pr({mode:"onTouched",resolver:Hr(_s),defaultValues:{items:o}}),l=s.formState.isValid,u=()=>{r(i)};return e(rn,Object.assign({type:null==n?void 0:n.type},{children:e(kn,Object.assign({},s,{children:t("form",Object.assign({onSubmit:s.handleSubmit((e=>{a(e.items),r(i)}))},{children:[t(xs,Object.assign({"data-testid":"bulk-edit-modal"},{children:[e(C.H3,Object.assign({weight:600},{children:"Bulk Edit"})),e(C.Body,Object.assign({weight:400},{children:"To add multiple entries at once, input each item on a new line, separating the label and value with a bar “|”."})),t(C.H6,Object.assign({weight:400},{children:["Example:",e("br",{}),"Banana | banana",e("br",{}),"Green Apple | green-apple"]})),e(Bn,{name:"items",control:s.control,render:({field:t})=>{var n,r;return e(I.Textarea,Object.assign({},t,{placeholder:"Enter label and value",value:t.value,onChange:e=>t.onChange(e.target.value),errorMessage:null===(r=null===(n=s.formState.errors)||void 0===n?void 0:n.items)||void 0===r?void 0:r.message}))}})]})),t(Es,{children:[e(Os,Object.assign({type:"button",onClick:u,styleType:"light"},{children:"Cancel"})),e(Os,Object.assign({disabled:!l},{children:"Save"}))]})]}))}))}))},Ss=({modal:n})=>{const{hideModal:r}=Qt(),{type:i,onClickActionButton:a}=n,o=()=>{r(i)};return t(rn,Object.assign({type:null==n?void 0:n.type},{children:[e(N,{type:"confirmation",title:e(Cs,Object.assign({weight:"semibold"},{children:"Discard changes?"}))}),t(Es,{children:[e(Os,Object.assign({onClick:a},{children:"Discard changes"})),e(Os,Object.assign({onClick:o,styleType:"light"},{children:"Keep editing"}))]})]}))},As=({modal:n})=>{const{onClickActionButton:r,onClose:i}=n;return t(rn,Object.assign({type:null==n?void 0:n.type,onClose:i},{children:[e(N,{type:"confirmation",description:"You've changed the element type. This will reset all fields to match the new element type.",title:e(Cs,Object.assign({weight:"semibold"},{children:"Reset all fields?"}))}),t(Es,{children:[e(Os,Object.assign({onClick:r},{children:"Reset all fields"})),e(Os,Object.assign({onClick:i,styleType:"light"},{children:"Return to edit"}))]})]}))},js=()=>{const{modals:t}=Qt();return e(ws,Object.assign({show:!!(null==t?void 0:t.length)},{children:((t,n)=>{if(null==t?void 0:t.type)switch(null==t?void 0:t.type){case Dt.DiscardChanges:return e(Ss,{modal:t});case Dt.BulkEdit:return e(Ts,{modal:t});case Dt.ResetFields:return e(As,{modal:t});default:console.error("type given is not a modal type!")}})(t[0])}))};const ks="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Ds(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Is(e){return"nodeType"in e}function Ms(e){var t,n;return e?Ds(e)?e:Is(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Ns(e){const{Document:t}=Ms(e);return e instanceof t}function $s(e){return!Ds(e)&&e instanceof Ms(e).HTMLElement}function Fs(e){return e instanceof Ms(e).SVGElement}function Rs(e){return e?Ds(e)?e.document:Is(e)?Ns(e)?e:$s(e)||Fs(e)?e.ownerDocument:document:document:document}const Ls=ks?u:c;function Vs(e){const t=d(e);return Ls((()=>{t.current=e})),l((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function zs(e,t){void 0===t&&(t=[e]);const n=d(e);return Ls((()=>{n.current!==e&&(n.current=e)}),t),n}function Ps(e,t){const n=d();return i((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function Us(e){const t=Vs(e),n=d(null),r=l((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}function Bs(e){const t=d();return c((()=>{t.current=e}),[e]),t.current}let qs={};function Ws(e,t){return i((()=>{if(t)return t;const n=null==qs[e]?0:qs[e]+1;return qs[e]=n,e+"-"+n}),[e,t])}function Hs(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}const Xs=Hs(1),Gs=Hs(-1);function Zs(e){if(!e)return!1;const{KeyboardEvent:t}=Ms(e.target);return t&&e instanceof t}function Ks(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Ms(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Ys=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ys.Translate.toString(e),Ys.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Js="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Qs(e){return e.matches(Js)?e:e.querySelector(Js)}const el={display:"none"};function tl(e){let{id:t,value:n}=e;return r.createElement("div",{id:t,style:el},n)}function nl(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;return r.createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":i,"aria-atomic":!0},n)}const rl=o(null);const il={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},al={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ol(e){let{announcements:t=al,container:n,hiddenTextDescribedById:a,screenReaderInstructions:o=il}=e;const{announce:u,announcement:d}=function(){const[e,t]=f("");return{announce:l((e=>{null!=e&&t(e)}),[]),announcement:e}}(),p=Ws("DndLiveRegion"),[h,m]=f(!1);if(c((()=>{m(!0)}),[]),function(e){const t=s(rl);c((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}(i((()=>({onDragStart(e){let{active:n}=e;u(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&u(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;u(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;u(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;u(t.onDragCancel({active:n,over:r}))}})),[u,t])),!h)return null;const g=r.createElement(r.Fragment,null,r.createElement(tl,{id:a,value:o.draggable}),r.createElement(nl,{id:p,announcement:d}));return n?F(g,n):g}var sl;function ll(){}function ul(e,t){return i((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function cl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i((()=>[...t].filter((e=>null!=e))),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(sl||(sl={}));const dl=Object.freeze({x:0,y:0});function fl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pl(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function hl(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ml(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function gl(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function vl(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const bl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=vl(t,t.left,t.top),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=fl(vl(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(pl)},yl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=ml(t),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=ml(r),o=i.reduce(((e,t,r)=>e+fl(n[r],t)),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(pl)};function _l(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const n=t.width*t.height,r=e.width*e.height,i=o*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const xl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const e of r){const{id:r}=e,a=n.get(r);if(a){const n=_l(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(hl)};function wl(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:dl}function El(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const Ol=El(1);const Cl={ignoreTransform:!1};function Tl(e,t){void 0===t&&(t=Cl);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Ms(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=e.left-o-(1-i)*parseFloat(n),u=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}(n,t,r))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function Sl(e){return Tl(e,{ignoreTransform:!0})}function Al(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(Ns(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!$s(i)||Fs(i))return n;if(n.includes(i))return n;const a=Ms(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=Ms(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(i,a)&&n.push(i),function(e,t){return void 0===t&&(t=Ms(e).getComputedStyle(e)),"fixed"===t.position}(i,a)?n:r(i.parentNode)}(e):n}function jl(e){const[t]=Al(e,1);return null!=t?t:null}function kl(e){return ks&&e?Ds(e)?e:Is(e)?Ns(e)||e===Rs(e).scrollingElement?window:$s(e)?e:null:null:null}function Dl(e){return Ds(e)?e.scrollX:e.scrollLeft}function Il(e){return Ds(e)?e.scrollY:e.scrollTop}function Ml(e){return{x:Dl(e),y:Il(e)}}var Nl;function $l(e){return!(!ks||!e)&&e===document.scrollingElement}function Fl(e){const t={x:0,y:0},n=$l(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Nl||(Nl={}));const Rl={x:.2,y:.2};function Ll(e,t,n,r,i){let{top:a,left:o,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=Rl);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=Fl(e),p={x:0,y:0},h={x:0,y:0},m=t.height*i.y,g=t.width*i.x;return!u&&a<=t.top+m?(p.y=Nl.Backward,h.y=r*Math.abs((t.top+m-a)/m)):!c&&l>=t.bottom-m&&(p.y=Nl.Forward,h.y=r*Math.abs((t.bottom-m-l)/m)),!f&&s>=t.right-g?(p.x=Nl.Forward,h.x=r*Math.abs((t.right-g-s)/g)):!d&&o<=t.left+g&&(p.x=Nl.Backward,h.x=r*Math.abs((t.left+g-o)/g)),{direction:p,speed:h}}function Vl(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function zl(e){return e.reduce(((e,t)=>Xs(e,Ml(t))),dl)}const Pl=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+Dl(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Il(t)),0)}]];class Ul{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Al(t),r=zl(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of Pl)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function ql(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Wl,Hl;function Xl(e){e.preventDefault()}function Gl(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Wl||(Wl={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(Hl||(Hl={}));const Zl={start:[Hl.Space,Hl.Enter],cancel:[Hl.Esc],end:[Hl.Space,Hl.Enter]},Kl=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Hl.Right:return{...n,x:n.x+25};case Hl.Left:return{...n,x:n.x-25};case Hl.Down:return{...n,y:n.y+25};case Hl.Up:return{...n,y:n.y-25}}};class Yl{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Bl(Rs(t)),this.windowListeners=new Bl(Ms(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wl.Resize,this.handleCancel),this.windowListeners.add(Wl.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Wl.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=Tl),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);jl(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(dl)}handleKeyDown(e){if(Zs(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Zl,coordinateGetter:a=Kl,scrollBehavior:o="smooth"}=r,{code:s}=e;if(i.end.includes(s))return void this.handleEnd(e);if(i.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:dl;this.referenceCoordinates||(this.referenceCoordinates=u);const c=a(e,{active:t,context:n.current,currentCoordinates:u});if(c){const t=Gs(c,u),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:a,isRight:s,isLeft:l,isBottom:u,maxScroll:d,minScroll:f}=Fl(n),p=Vl(n),h={x:Math.min(i===Hl.Right?p.right-p.width/2:p.right,Math.max(i===Hl.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(i===Hl.Down?p.bottom-p.height/2:p.bottom,Math.max(i===Hl.Down?p.top:p.top+p.height/2,c.y))},m=i===Hl.Right&&!s||i===Hl.Left&&!l,g=i===Hl.Down&&!u||i===Hl.Up&&!a;if(m&&h.x!==c.x){const e=n.scrollLeft+t.x,a=i===Hl.Right&&e<=d.x||i===Hl.Left&&e>=f.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=a?n.scrollLeft-e:i===Hl.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(g&&h.y!==c.y){const e=n.scrollTop+t.y,a=i===Hl.Down&&e<=d.y||i===Hl.Up&&e>=f.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=a?n.scrollTop-e:i===Hl.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,Xs(Gs(c,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Jl(e){return Boolean(e&&"distance"in e)}function Ql(e){return Boolean(e&&"delay"in e)}Yl.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Zl,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class eu{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Ms(e);return e instanceof t?e:Rs(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=Rs(a),this.documentListeners=new Bl(this.document),this.listeners=new Bl(n),this.windowListeners=new Bl(Ms(a)),this.initialCoordinates=null!=(r=Ks(i))?r:dl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Wl.Resize,this.handleCancel),this.windowListeners.add(Wl.DragStart,Xl),this.windowListeners.add(Wl.VisibilityChange,this.handleCancel),this.windowListeners.add(Wl.ContextMenu,Xl),this.documentListeners.add(Wl.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ql(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(Jl(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Wl.Click,Gl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wl.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!r)return;const s=null!=(t=Ks(e))?t:dl,l=Gs(r,s);if(!n&&o){if(Jl(o)){if(null!=o.tolerance&&ql(l,o.tolerance))return this.handleCancel();if(ql(l,o.distance))return this.handleStart()}return Ql(o)&&ql(l,o.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Hl.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const tu={move:{name:"pointermove"},end:{name:"pointerup"}};class nu extends eu{constructor(e){const{event:t}=e,n=Rs(t.target);super(e,tu,n)}}nu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const ru={move:{name:"mousemove"},end:{name:"mouseup"}};var iu;!function(e){e[e.RightClick=2]="RightClick"}(iu||(iu={}));class au extends eu{constructor(e){super(e,ru,Rs(e.event.target))}}au.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==iu.RightClick&&(null==r||r({event:n}),!0)}}];const ou={move:{name:"touchmove"},end:{name:"touchend"}};class su extends eu{constructor(e){super(e,ou)}static setup(){return window.addEventListener(ou.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ou.move.name,e)};function e(){}}}var lu,uu;function cu(e){let{acceleration:t,activator:n=lu.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:s=5,order:u=uu.TreeOrder,pointerCoordinates:f,scrollableAncestors:p,scrollableAncestorRects:h,delta:m,threshold:g}=e;const v=function(e){let{delta:t,disabled:n}=e;const r=Bs(t);return Ps((e=>{if(n||!r||!e)return du;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Nl.Backward]:e.x[Nl.Backward]||-1===i.x,[Nl.Forward]:e.x[Nl.Forward]||1===i.x},y:{[Nl.Backward]:e.y[Nl.Backward]||-1===i.y,[Nl.Forward]:e.y[Nl.Forward]||1===i.y}}}),[n,t,r])}({delta:m,disabled:!o}),[b,y]=function(){const e=d(null);return[l(((t,n)=>{e.current=setInterval(t,n)}),[]),l((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),_=d({x:0,y:0}),x=d({x:0,y:0}),w=i((()=>{switch(n){case lu.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case lu.DraggableRect:return a}}),[n,a,f]),E=d(null),O=l((()=>{const e=E.current;if(!e)return;const t=_.current.x*x.current.x,n=_.current.y*x.current.y;e.scrollBy(t,n)}),[]),C=i((()=>u===uu.TreeOrder?[...p].reverse():p),[u,p]);c((()=>{if(o&&p.length&&w){for(const e of C){if(!1===(null==r?void 0:r(e)))continue;const n=p.indexOf(e),i=h[n];if(!i)continue;const{direction:a,speed:o}=Ll(e,i,w,t,g);for(const e of["x","y"])v[e][a[e]]||(o[e]=0,a[e]=0);if(o.x>0||o.y>0)return y(),E.current=e,b(O,s),_.current=o,void(x.current=a)}_.current={x:0,y:0},x.current={x:0,y:0},y()}else y()}),[t,O,r,y,o,s,JSON.stringify(w),JSON.stringify(v),b,p,C,h,JSON.stringify(g)])}su.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(lu||(lu={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(uu||(uu={}));const du={x:{[Nl.Backward]:!1,[Nl.Forward]:!1},y:{[Nl.Backward]:!1,[Nl.Forward]:!1}};var fu,pu;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(fu||(fu={})),function(e){e.Optimized="optimized"}(pu||(pu={}));const hu=new Map;function mu(e,t){return Ps((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function gu(e){let{callback:t,disabled:n}=e;const r=Vs(t),a=i((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return c((()=>()=>null==a?void 0:a.disconnect()),[a]),a}function vu(e){return new Ul(Tl(e),e)}function bu(e,t,n){void 0===t&&(t=vu);const[r,o]=a((function(r){if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=r?r:n)?i:null;const a=t(e);if(JSON.stringify(r)===JSON.stringify(a))return r;return a}),null),s=function(e){let{callback:t,disabled:n}=e;const r=Vs(t),a=i((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return c((()=>()=>null==a?void 0:a.disconnect()),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),l=gu({callback:o});return Ls((()=>{o(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())}),[e]),r}const yu=[];function _u(e,t){void 0===t&&(t=[]);const n=d(null);return c((()=>{n.current=null}),t),c((()=>{const t=e!==dl;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?Gs(e,n.current):dl}function xu(e){return i((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const wu=[];function Eu(e){let{measure:t}=e;const[n,r]=f(null),a=l((e=>{for(const{target:n}of e)if($s(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t]),o=gu({callback:a}),s=l((e=>{const n=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return $s(t)?t:e}(e);null==o||o.disconnect(),n&&(null==o||o.observe(n)),r(n?t(n):null)}),[t,o]),[u,c]=Us(s);return i((()=>({nodeRef:u,rect:n,setRef:c})),[n,u,c])}const Ou=[{sensor:nu,options:{}},{sensor:Yl,options:{}}],Cu={current:{}},Tu={draggable:{measure:Sl},droppable:{measure:Sl,strategy:fu.WhileDragging,frequency:pu.Optimized},dragOverlay:{measure:Tl}};class Su extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Au={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Su,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ll},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tu,measureDroppableContainers:ll,windowRect:null,measuringScheduled:!1},ju=o({activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ll,draggableNodes:new Map,over:null,measureDroppableContainers:ll}),ku=o(Au);function Du(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Su}}}function Iu(e,t){switch(t.type){case sl.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case sl.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case sl.DragEnd:case sl.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sl.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Su(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case sl.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Su(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case sl.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Su(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Mu(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=s(ju),a=Bs(r),o=Bs(null==n?void 0:n.id);return c((()=>{if(!t&&!r&&a&&null!=o){if(!Zs(a))return;if(document.activeElement===a.target)return;const e=i.get(o);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Qs(e);if(t){t.focus();break}}}))}}),[r,t,i,o,a]),null}const Nu=o({...dl,scaleX:1,scaleY:1});var $u;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}($u||($u={}));const Fu=p((function(e){var t,n,o,s;let{id:u,accessibility:p,autoScroll:h=!0,children:m,sensors:g=Ou,collisionDetection:v=xl,measuring:b,modifiers:y,..._}=e;const x=a(Iu,void 0,Du),[w,E]=x,[O,C]=function(){const[e]=f((()=>new Set)),t=l((t=>(e.add(t),()=>e.delete(t))),[e]);return[l((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[T,S]=f($u.Uninitialized),A=T===$u.Initialized,{draggable:{active:j,nodes:k,translate:D},droppable:{containers:I}}=w,M=j?k.get(j):null,N=d({initial:null,translated:null}),F=i((()=>{var e;return null!=j?{id:j,data:null!=(e=null==M?void 0:M.data)?e:Cu,rect:N}:null}),[j,M]),R=d(null),[L,V]=f(null),[z,P]=f(null),U=zs(_,Object.values(_)),B=Ws("DndDescribedBy",u),q=i((()=>I.getEnabled()),[I]),W=i((()=>({draggable:{...Tu.draggable,...null==H?void 0:H.draggable},droppable:{...Tu.droppable,...null==H?void 0:H.droppable},dragOverlay:{...Tu.dragOverlay,...null==H?void 0:H.dragOverlay}})),[null==(H=b)?void 0:H.draggable,null==H?void 0:H.droppable,null==H?void 0:H.dragOverlay]);var H;const{droppableRects:X,measureDroppableContainers:G,measuringScheduled:Z}=function(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=f(null),{frequency:s,measure:u,strategy:p}=i,h=d(e),m=function(){switch(p){case fu.Always:return!1;case fu.BeforeDragging:return n;default:return!n}}(),g=zs(m),v=l((function(e){void 0===e&&(e=[]),g.current||o((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[g]),b=d(null),y=Ps((t=>{if(m&&!n)return hu;if(!t||t===hu||h.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Ul(u(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,a,n,m,u]);return c((()=>{h.current=e}),[e]),c((()=>{m||v()}),[n,m]),c((()=>{a&&a.length>0&&o(null)}),[JSON.stringify(a)]),c((()=>{m||"number"!=typeof s||null!==b.current||(b.current=setTimeout((()=>{v(),b.current=null}),s))}),[s,m,v,...r]),{droppableRects:y,measureDroppableContainers:v,measuringScheduled:null!=a}}(q,{dragging:A,dependencies:[D.x,D.y],config:W.droppable}),K=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return Ps((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(k,j),Y=i((()=>z?Ks(z):null),[z]),J=function(){const e=!1===(null==L?void 0:L.autoScrollEnabled),t="object"==typeof h?!1===h.enabled:!1===h,n=A&&!e&&!t;if("object"==typeof h)return{...h,enabled:n};return{enabled:n}}(),Q=function(e,t){return mu(e,t)}(K,W.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=d(!1),{x:o,y:s}="boolean"==typeof i?{x:i,y:i}:i;Ls((()=>{if(!o&&!s||!t)return void(a.current=!1);if(a.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const i=wl(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const t=jl(e);t&&t.scrollBy({top:i.y,left:i.x})}}),[t,o,s,r,n])}({activeNode:j?k.get(j):null,config:J.layoutShiftCompensation,initialRect:Q,measure:W.draggable.measure});const ee=bu(K,W.draggable.measure,Q),te=bu(K?K.parentElement:null),ne=d({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),re=I.getNodeFor(null==(t=ne.current.over)?void 0:t.id),ie=Eu({measure:W.dragOverlay.measure}),ae=null!=(n=ie.nodeRef.current)?n:K,oe=A?null!=(o=ie.rect)?o:ee:null,se=Boolean(ie.nodeRef.current&&ie.rect),le=wl(ue=se?null:ee,mu(ue));var ue;const ce=xu(ae?Ms(ae):null),de=function(e){const t=d(e),n=Ps((n=>e?n&&n!==yu&&e&&t.current&&e.parentNode===t.current.parentNode?n:Al(e):yu),[e]);return c((()=>{t.current=e}),[e]),n}(A?null!=re?re:K:null),fe=function(e,t){void 0===t&&(t=Tl);const[n]=e,r=xu(n?Ms(n):null),[i,o]=a((function(){return e.length?e.map((e=>$l(e)?r:new Ul(t(e),e))):wu}),wu),s=gu({callback:o});return e.length>0&&i===wu&&o(),Ls((()=>{e.length?e.forEach((e=>null==s?void 0:s.observe(e))):(null==s||s.disconnect(),o())}),[e]),i}(de),pe=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(y,{transform:{x:D.x-le.x,y:D.y-le.y,scaleX:1,scaleY:1},activatorEvent:z,active:F,activeNodeRect:ee,containerNodeRect:te,draggingNodeRect:oe,over:ne.current.over,overlayNodeRect:ie.rect,scrollableAncestors:de,scrollableAncestorRects:fe,windowRect:ce}),he=Y?Xs(Y,D):null,me=function(e){const[t,n]=f(null),r=d(e),a=l((e=>{const t=kl(e.target);t&&n((e=>e?(e.set(t,Ml(t)),new Map(e)):null))}),[]);return c((()=>{const t=r.current;if(e!==t){i(t);const o=e.map((e=>{const t=kl(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,Ml(t)]):null})).filter((e=>null!=e));n(o.length?new Map(o):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach((e=>{const t=kl(e);null==t||t.removeEventListener("scroll",a)}))}}),[a,e]),i((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>Xs(e,t)),dl):zl(e):dl),[e,t])}(de),ge=_u(me),ve=_u(me,[ee]),be=Xs(pe,ge),ye=oe?Ol(oe,pe):null,_e=F&&ye?v({active:F,collisionRect:ye,droppableRects:X,droppableContainers:q,pointerCoordinates:he}):null,xe=gl(_e,"id"),[we,Ee]=f(null),Oe=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(se?pe:Xs(pe,ve),null!=(s=null==we?void 0:we.rect)?s:null,ee),Ce=l(((e,t)=>{let{sensor:n,options:r}=t;if(null==R.current)return;const i=k.get(R.current);if(!i)return;const a=e.nativeEvent,o=new n({active:R.current,activeNode:i,event:a,options:r,context:ne,onStart(e){const t=R.current;if(null==t)return;const n=k.get(t);if(!n)return;const{onDragStart:r}=U.current,i={active:{id:t,data:n.data,rect:N}};$((()=>{null==r||r(i),S($u.Initializing),E({type:sl.DragStart,initialCoordinates:e,active:t}),O({type:"onDragStart",event:i})}))},onMove(e){E({type:sl.DragMove,coordinates:e})},onEnd:s(sl.DragEnd),onCancel:s(sl.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=ne.current;let o=null;if(t&&i){const{cancelDrop:s}=U.current;if(o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===sl.DragEnd&&"function"==typeof s){await Promise.resolve(s(o))&&(e=sl.DragCancel)}}R.current=null,$((()=>{E({type:e}),S($u.Uninitialized),Ee(null),V(null),P(null);const t=e===sl.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=U.current[t];null==e||e(o),O({type:t,event:o})}}))}}$((()=>{V(o),P(e.nativeEvent)}))}),[k]),Te=l(((e,t)=>(n,r)=>{const i=n.nativeEvent,a=k.get(r);if(null!==R.current||!a||i.dndKit||i.defaultPrevented)return;const o={active:a};!0===e(n,t.options,o)&&(i.dndKit={capturedBy:t.sensor},R.current=r,Ce(n,t))}),[k,Ce]),Se=function(e,t){return i((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(g,Te);!function(e){c((()=>{if(!ks)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(g),Ls((()=>{ee&&T===$u.Initializing&&S($u.Initialized)}),[ee,T]),c((()=>{const{onDragMove:e}=U.current,{active:t,activatorEvent:n,collisions:r,over:i}=ne.current;if(!t||!n)return;const a={active:t,activatorEvent:n,collisions:r,delta:{x:be.x,y:be.y},over:i};$((()=>{null==e||e(a),O({type:"onDragMove",event:a})}))}),[be.x,be.y]),c((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=ne.current;if(!e||null==R.current||!t||!i)return;const{onDragOver:a}=U.current,o=r.get(xe),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};$((()=>{Ee(s),null==a||a(l),O({type:"onDragOver",event:l})}))}),[xe]),Ls((()=>{ne.current={activatorEvent:z,active:F,activeNode:K,collisionRect:ye,collisions:_e,droppableRects:X,draggableNodes:k,draggingNode:ae,draggingNodeRect:oe,droppableContainers:I,over:we,scrollableAncestors:de,scrollAdjustedTranslate:be},N.current={initial:oe,translated:ye}}),[F,K,_e,ye,k,ae,oe,X,I,we,de,be]),cu({...J,delta:D,draggingRect:ye,pointerCoordinates:he,scrollableAncestors:de,scrollableAncestorRects:fe});const Ae=i((()=>({active:F,activeNode:K,activeNodeRect:ee,activatorEvent:z,collisions:_e,containerNodeRect:te,dragOverlay:ie,draggableNodes:k,droppableContainers:I,droppableRects:X,over:we,measureDroppableContainers:G,scrollableAncestors:de,scrollableAncestorRects:fe,measuringConfiguration:W,measuringScheduled:Z,windowRect:ce})),[F,K,ee,z,_e,te,ie,k,I,X,we,G,de,fe,W,Z,ce]),je=i((()=>({activatorEvent:z,activators:Se,active:F,activeNodeRect:ee,ariaDescribedById:{draggable:B},dispatch:E,draggableNodes:k,over:we,measureDroppableContainers:G})),[z,Se,F,ee,E,B,k,we,G]);return r.createElement(rl.Provider,{value:C},r.createElement(ju.Provider,{value:je},r.createElement(ku.Provider,{value:Ae},r.createElement(Nu.Provider,{value:Oe},m)),r.createElement(Mu,{disabled:!1===(null==p?void 0:p.restoreFocus)})),r.createElement(ol,{...p,hiddenTextDescribedById:B}))})),Ru=o(null),Lu="button",Vu="Droppable";function zu(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const o=Ws(Vu),{activators:l,activatorEvent:u,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:h}=s(ju),{role:m=Lu,roleDescription:g="draggable",tabIndex:v=0}=null!=a?a:{},b=(null==c?void 0:c.id)===t,y=s(b?Nu:Ru),[_,x]=Us(),[w,E]=Us(),O=function(e,t){return i((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(l,t),C=zs(n);Ls((()=>(p.set(t,{id:t,key:o,node:_,activatorNode:w,data:C}),()=>{const e=p.get(t);e&&e.key===o&&p.delete(t)})),[p,t]);return{active:c,activatorEvent:u,activeNodeRect:d,attributes:i((()=>({role:m,tabIndex:v,"aria-disabled":r,"aria-pressed":!(!b||m!==Lu)||void 0,"aria-roledescription":g,"aria-describedby":f.draggable})),[r,m,v,b,g,f.draggable]),isDragging:b,listeners:r?void 0:O,node:_,over:h,setNodeRef:x,setActivatorNodeRef:E,transform:y}}const Pu="Droppable",Uu={timeout:25};function Bu(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=Ws(Pu),{active:o,dispatch:u,over:f,measureDroppableContainers:p}=s(ju),h=d({disabled:n}),m=d(!1),g=d(null),v=d(null),{disabled:b,updateMeasurementsFor:y,timeout:_}={...Uu,...i},x=zs(null!=y?y:r),w=gu({callback:l((()=>{m.current?(null!=v.current&&clearTimeout(v.current),v.current=setTimeout((()=>{p(Array.isArray(x.current)?x.current:[x.current]),v.current=null}),_)):m.current=!0}),[_]),disabled:b||!o}),E=l(((e,t)=>{w&&(t&&(w.unobserve(t),m.current=!1),e&&w.observe(e))}),[w]),[O,C]=Us(E),T=zs(t);return c((()=>{w&&O.current&&(w.disconnect(),m.current=!1,w.observe(O.current))}),[O,w]),Ls((()=>(u({type:sl.RegisterDroppable,element:{id:r,key:a,disabled:n,node:O,rect:g,data:T}}),()=>u({type:sl.UnregisterDroppable,key:a,id:r}))),[r]),c((()=>{n!==h.current.disabled&&(u({type:sl.SetDroppableDisabled,id:r,key:a,disabled:n}),h.current.disabled=n)}),[r,a,n,u]),{active:o,rect:g,isOver:(null==f?void 0:f.id)===r,node:O,over:f,setNodeRef:C}}function qu(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Wu(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function Hu(e){return null!==e&&e>=0}const Xu=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=qu(t,r,n),o=t[i],s=a[i];return s&&o?{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}:null},Gu={scaleX:1,scaleY:1},Zu=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=null!=(t=a[n])?t:r;if(!s)return null;if(i===n){const e=a[o];return e?{x:0,y:n<o?e.top+e.height-(s.top+s.height):e.top-s.top,...Gu}:null}const l=function(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0;return a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-l,...Gu}:i<n&&i>=o?{x:0,y:s.height+l,...Gu}:{x:0,y:0,...Gu}};const Ku="Sortable",Yu=r.createContext({activeIndex:-1,containerId:Ku,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xu,disabled:{draggable:!1,droppable:!1}});function Ju(e){let{children:t,id:n,items:a,strategy:o=Xu,disabled:l=!1}=e;const{active:u,dragOverlay:f,droppableRects:p,over:h,measureDroppableContainers:m}=s(ku),g=Ws(Ku,n),v=Boolean(null!==f.rect),b=i((()=>a.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[a]),y=null!=u,_=u?b.indexOf(u.id):-1,x=h?b.indexOf(h.id):-1,w=d(b),E=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(b,w.current),O=-1!==x&&-1===_||E,C=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(l);Ls((()=>{E&&y&&m(b)}),[E,b,y,m]),c((()=>{w.current=b}),[b]);const T=i((()=>({activeIndex:_,containerId:g,disabled:C,disableTransforms:O,items:b,overIndex:x,useDragOverlay:v,sortedRects:Wu(b,p),strategy:o})),[_,g,C.draggable,C.droppable,O,b,x,p,v,o]);return r.createElement(Yu.Provider,{value:T},t)}const Qu=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return qu(n,r,i).indexOf(t)},ec=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:u}=e;return!(!u||!r)&&((s===a||i!==o)&&(!!n||o!==i&&t===l))},tc={duration:200,easing:"ease"},nc="transform",rc=Ys.Transition.toString({property:nc,duration:0,easing:"linear"}),ic={roleDescription:"sortable"};function ac(e){let{animateLayoutChanges:t=ec,attributes:n,disabled:r,data:a,getNewIndex:o=Qu,id:l,strategy:u,resizeObserverConfig:p,transition:h=tc}=e;const{items:m,containerId:g,activeIndex:v,disabled:b,disableTransforms:y,sortedRects:_,overIndex:x,useDragOverlay:w,strategy:E}=s(Yu),O=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,b),C=m.indexOf(l),T=i((()=>({sortable:{containerId:g,index:C,items:m},...a})),[g,a,C,m]),S=i((()=>m.slice(m.indexOf(l))),[m,l]),{rect:A,node:j,isOver:k,setNodeRef:D}=Bu({id:l,data:T,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...p}}),{active:I,activatorEvent:M,activeNodeRect:N,attributes:$,setNodeRef:F,listeners:R,isDragging:L,over:V,setActivatorNodeRef:z,transform:P}=zu({id:l,data:T,attributes:{...ic,...n},disabled:O.draggable}),U=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i((()=>e=>{t.forEach((t=>t(e)))}),t)}(D,F),B=Boolean(I),q=B&&!y&&Hu(v)&&Hu(x),W=!w&&L,H=W&&q?P:null,X=q?null!=H?H:(null!=u?u:E)({rects:_,activeNodeRect:N,activeIndex:v,overIndex:x,index:C}):null,G=Hu(v)&&Hu(x)?o({id:l,items:m,activeIndex:v,overIndex:x}):C,Z=null==I?void 0:I.id,K=d({activeId:Z,items:m,newIndex:G,containerId:g}),Y=m!==K.current.items,J=t({active:I,containerId:g,isDragging:L,isSorting:B,id:l,index:C,items:m,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:h,wasDragging:null!=K.current.activeId}),Q=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=f(null),s=d(n);return Ls((()=>{if(!t&&n!==s.current&&r.current){const e=i.current;if(e){const t=Tl(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)}),[t,n,r,i]),c((()=>{a&&o(null)}),[a]),a}({disabled:!J,index:C,node:j,rect:A});return c((()=>{B&&K.current.newIndex!==G&&(K.current.newIndex=G),g!==K.current.containerId&&(K.current.containerId=g),m!==K.current.items&&(K.current.items=m)}),[B,G,g,m]),c((()=>{if(Z===K.current.activeId)return;if(Z&&!K.current.activeId)return void(K.current.activeId=Z);const e=setTimeout((()=>{K.current.activeId=Z}),50);return()=>clearTimeout(e)}),[Z]),{active:I,activeIndex:v,attributes:$,data:T,rect:A,index:C,newIndex:G,items:m,isOver:k,isSorting:B,isDragging:L,listeners:R,node:j,overIndex:x,over:V,setNodeRef:U,setActivatorNodeRef:z,setDroppableNodeRef:D,setDraggableNodeRef:F,transform:null!=Q?Q:X,transition:function(){if(Q||Y&&K.current.newIndex===C)return rc;if(W&&!Zs(M)||!h)return;if(B||J)return Ys.Transition.toString({...h,property:nc});return}()}}function oc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const sc=[Hl.Down,Hl.Right,Hl.Up,Hl.Left],lc=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(sc.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];a.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const a=i.get(n.id);if(a)switch(e.code){case Hl.Down:r.top<a.top&&t.push(n);break;case Hl.Up:r.top>a.top&&t.push(n);break;case Hl.Left:r.left>a.left&&t.push(n);break;case Hl.Right:r.left<a.left&&t.push(n)}}));const l=yl({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null});let u=gl(l,"id");if(u===(null==o?void 0:o.id)&&l.length>1&&(u=l[1].id),null!=u){const e=a.get(n.id),t=a.get(u),o=t?i.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&o&&e&&t){const n=Al(l).some(((e,t)=>s[t]!==e)),i=uc(e,t),a=function(e,t){if(!oc(e)||!oc(t))return!1;if(!uc(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),u=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},c={x:o.left,y:o.top};return u.x&&u.y?c:Gs(c,u)}}}};function uc(e,t){return!(!oc(e)||!oc(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const cc={expanded:{right:{desktop4k:"4 / span 3",desktopL:"5 / span 4",tablet:"4 / span 3"},left:{desktop4k:"1 / span 3",desktopL:"1 / span 4",tablet:"1 / span 3"},full:{desktop4k:"1 / span 6",desktopL:"1 / span 8",tablet:"1 / span 6"}},minimised:{right:{desktop4k:"4 / span 3",tablet:"4 / span 2"},left:{desktop4k:"1 / span 3",tablet:"1 / span 2"},full:{desktop4k:"1 / span 6",tablet:"1 / span 4"}}},dc=(e,t="expanded")=>{return n=cc[t][e],b`
    ${Object.entries(n).map((([e,t])=>`${k.MaxWidth[e]} { grid-column: ${t}; }`))}
`;var n},fc=v(R)`
    display: none;
    transition: width 0.1s ease-out;

    svg {
        height: 1.25rem;
        width: 1.25rem;
    }
`,pc=v.div`
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
    &:hover ${fc} {
        display: block;
    }
`,hc=v.div`
    display: flex;
    flex: 1;
    flex-direction: column;
    gap: 0.25rem;
`,mc=v(C.XSmall)`
    color: ${g.Neutral[3]};
`,gc=v.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,vc=v.button`
    background: transparent;
    cursor: pointer;
    padding: 1rem 0;
    border: none;
    gap: 0.25rem;
    display: flex;
    align-items: center;
    ${T.getTextStyle("XSmall","semibold")}

    svg {
        height: 1rem;
        width: 1rem;
    }

    ${({$disabled:e})=>e?b`
                color: ${g.Neutral[3]};
                cursor: not-allowed;
            `:b`
                color: ${g.Primary};

                :hover {
                    color: ${g.Secondary};
                }
            `}
`,bc=v.div`
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: auto;
    width: 100%;
    padding: 0.4rem;
    gap: 0.25rem;
    border: 1px solid transparent;
    z-index: -1;

    ${({$size:e})=>dc(e)}

    ${({isOver:e})=>e&&b`
            border: 1px dashed ${g.Primary};
            border-radius: 0.25rem;
            background: ${g.Accent.Light[5]};
        `}

    svg {
        color: ${g.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,yc=v(C.Body)`
    color: ${g.Primary};
    text-align: center;
    font-size: 1rem;
`,_c=v(ee)`
    cursor: ${({$isDragging:e})=>e?"grabbing":"pointer"};
`,xc=v.div`
    position: relative;
`,wc=({element:n,onClick:r})=>{const{label:i,id:a}=n||{},{focusedElement:o,deleteElement:s,duplicateElement:l,orderedIdentifiers:u}=Ot(),{showToast:c}=jt(),{isDragging:d}=zu({id:null==n?void 0:n.internalId}),{attributes:f,listeners:p,setNodeRef:h,transform:m,transition:g}=ac({id:null==n?void 0:n.internalId}),{isOver:v,setNodeRef:b}=Bu({id:null==n?void 0:n.internalId}),y=u.find((e=>{if(e.internalId===(null==n?void 0:n.internalId))return e.size})),_=T(),x=T()&&(null==o?void 0:o.isDirty),w={transform:Ys.Translate.toString(m),transition:g,opacity:d?"70%":"100%",background:d?"white":"inherit",gap:d?"1rem":"inherit",width:"100%",position:"relative",zIndex:d?1:"auto"},O=Object.assign(Object.assign({style:w},f),p);function T(){var e;return o&&(null===(e=null==o?void 0:o.element)||void 0===e?void 0:e.internalId)===(null==n?void 0:n.internalId)}const S=v?t(bc,Object.assign({isOver:v,$size:null==y?void 0:y.size},{children:[e(L,{}),e(yc,Object.assign({weight:600},{children:"Drop your element here"}))]})):null;return t(xc,Object.assign({ref:b},{children:[S,e("div",Object.assign({ref:h},O,{children:e(_c,Object.assign({onClick:r,focused:_,id:null==n?void 0:n.internalId,$isDragging:d},{children:t(pc,Object.assign({"data-testid":"card"+(null==n?void 0:n.internalId)},{children:[e(fc,{"data-testid":"drag-handle"}),e(Vt,{elementType:null==n?void 0:n.type}),t(hc,{children:[e(C.Body,Object.assign({weight:"semibold"},{children:i})),t(mc,Object.assign({weight:"semibold"},{children:["ID: ",a]}))]}),_&&t(gc,{children:[t(vc,Object.assign({"data-testid":"delete-button",type:"button",onClick:e=>{e.stopPropagation();const t={message:"Element duplicated.",type:kt.SUCCESS_TOAST};l(o.element),c(t)},$disabled:x,disabled:x},{children:[e(z,{}),"Duplicate"]})),t(vc,Object.assign({"data-testid":"duplicate-button",type:"button",onClick:e=>{e.stopPropagation(),s(n.internalId);const t={message:"Element deleted.",type:kt.DELETE_ELEMENT_TOAST,elementInternalId:n.internalId};c(t)}},{children:[e(E,{}),"Delete"]}))]})]}))}))}))]}))},Ec=v.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,Oc=({type:n,onClick:r})=>e(ee,Object.assign({onClick:r},{children:t(Ec,{children:[e(Vt,{elementType:n}),e(C.Body,{children:ce[n]})]})}));var Cc=ri,Tc=/\s/;var Sc=function(e){for(var t=e.length;t--&&Tc.test(e.charAt(t)););return t},Ac=Sc,jc=/^\s+/;var kc=function(e){return e?e.slice(0,Ac(e)+1).replace(jc,""):e},Dc=mi,Ic=aa;var Mc=kc,Nc=gi,$c=function(e){return"symbol"==typeof e||Ic(e)&&"[object Symbol]"==Dc(e)},Fc=/^[-+]0x[0-9a-f]+$/i,Rc=/^0b[01]+$/i,Lc=/^0o[0-7]+$/i,Vc=parseInt;var zc=gi,Pc=function(){return Cc.Date.now()},Uc=function(e){if("number"==typeof e)return e;if($c(e))return NaN;if(Nc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Nc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Mc(e);var n=Rc.test(e);return n||Lc.test(e)?Vc(e.slice(2),n?2:8):Fc.test(e)?NaN:+e},Bc=Math.max,qc=Math.min;var Wc=we((function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function h(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=Pc();if(h(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?qc(n,a-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function v(){var e=Pc(),n=h(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?p(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Uc(t)||0,zc(n)&&(c=!!n.leading,a=(d="maxWait"in n)?Bc(Uc(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:g(Pc())},v}));const Hc=v.div`
    position: relative;
    padding-bottom: 8rem;

    ${({$mode:e})=>{switch(e){case"expanded":return b`
                    ${k.MaxWidth.desktop4k} {
                        grid-column: 4 / span 6;
                    }
                    ${k.MaxWidth.desktopL} {
                        grid-column: 3 / span 8;
                    }
                    ${k.MaxWidth.desktopM} {
                        grid-column: 3 / span 8;
                    }
                    ${k.MaxWidth.tablet} {
                        grid-column: 2 / span 6;
                    }
                `;case"minimised":return b`
                    ${k.MaxWidth.desktop4k} {
                        grid-column: 5 / span 6;
                    }
                    ${k.MaxWidth.desktopL} {
                        grid-column: 6 / span 6;
                    }
                    ${k.MaxWidth.desktopM} {
                        grid-column: 6 / span 6;
                    }
                    ${k.MaxWidth.tablet} {
                        grid-column: 5 / span 4;
                    }
                `}}}
`,Xc=v.div`
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    height: 100%;

    ${({$mode:e})=>{switch(e){case"expanded":return b`
                    ${k.MaxWidth.desktop4k} {
                        grid-column: 4 / span 6;
                    }
                    ${k.MaxWidth.desktopL} {
                        grid-column: 3 / span 9;
                    }
                    ${k.MaxWidth.desktopM} {
                        grid-column: 3 / span 9;
                    }
                    ${k.MaxWidth.tablet} {
                        grid-column: 2 / span 7;
                    }
                `;case"minimised":return b`
                    ${k.MaxWidth.desktop4k} {
                        grid-column: 5 / span 7;
                    }
                    ${k.MaxWidth.desktopL} {
                        grid-column: 6 / span 7;
                    }
                    ${k.MaxWidth.desktopM} {
                        grid-column: 6 / span 7;
                    }
                    ${k.MaxWidth.tablet} {
                        grid-column: 5 / span 4;
                    }
                `}}}
`,Gc=v(C.H3)`
    margin-top: 2rem;
`,Zc=v(C.Body)`
    margin-top: 1rem;
`,Kc=v.ul`
    list-style-type: none;
    display: grid;
    row-gap: 2rem;

    ${({$mode:e})=>{switch(e){case"expanded":return b`
                    ${k.MaxWidth.desktop4k} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${k.MaxWidth.desktopL} {
                        grid-template-columns: repeat(8, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${k.MaxWidth.tablet} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 1.5rem;
                    }
                `;case"minimised":return b`
                    ${k.MaxWidth.desktop4k} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${k.MaxWidth.tablet} {
                        grid-template-columns: repeat(4, minmax(0, 1fr));
                        column-gap: 1.5rem;
                    }
                `}}}
`,Yc=v.li`
    ${({$mode:e,$size:t})=>dc(t,e)}
`,Jc=()=>{const{showSidePanel:n,orderedIdentifiers:r,elements:i,focusElement:a,focusedElement:o,updateOrderedIdentifiers:s,removeFocusedElement:l}=Ot(),u=d(null),f=d([]),p=d([]),{isDirty:h}=o||{},m=!!o||n?"minimised":"expanded",g=d(-1),v=[],{showModal:b,discardChanges:y}=Qt();for(const e of r)"internalId"in e&&v.push({id:e.internalId});const _=cl(ul(au,{activationConstraint:{distance:8}}),ul(su,{activationConstraint:{delay:150,tolerance:5}}),ul(Yl,{coordinateGetter:lc})),x=e=>()=>{var t,n;if(h&&(null==e?void 0:e.internalId)!==(null===(t=null==o?void 0:o.element)||void 0===t?void 0:t.internalId)){const t={type:Dt.DiscardChanges,onClickActionButton:()=>(e=>{l(),a(e),y()})(e)};b(t)}else h||(null==e?void 0:e.internalId)===(null===(n=null==o?void 0:o.element)||void 0===n?void 0:n.internalId)||a(e)},w=Wc((e=>{var t,n;const{active:i}=e,a=null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect(),o=a.left+a.width/3,l=a.left+2*a.width/3-a.width/9,c=r.findIndex((e=>e.internalId===i.id)),d=(null===(n=i.rect.current.translated)||void 0===n?void 0:n.left)+e.activatorEvent.layerX;let f=c,h="full";if(d<=o?h="left":d>=l&&(h="right"),i.rect.current.translated.top>g.current)f=p.current.findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));else{const e=[...p.current].reverse().findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));f=p.current.length-1-e}const m=qu(r,c,f);m[f]=Object.assign(Object.assign({},m[f]),{size:h}),s(m)}),10);c((()=>{const e=new Set(r.map((e=>e.internalId)));f.current=f.current.filter((t=>e.has(t.internalId)))}),[r]);return 0===r.length?t(Xc,Object.assign({$mode:m,"data-testid":"empty-content"},{children:[e(N,{type:"no-item-found",imageOnly:!0}),e(Gc,Object.assign({weight:"semibold"},{children:"Form is empty"})),e(Zc,{children:"Add an element to start building your form!"})]})):e(Hc,Object.assign({$mode:m,ref:u},{children:e(Fu,Object.assign({sensors:_,onDragMove:w,onDragStart:e=>{var t;g.current=null===(t=e.active.rect.current.initial)||void 0===t?void 0:t.top,f.current.forEach(((e,t)=>{p.current[t]=e.element.getBoundingClientRect()}))},onDragEnd:()=>{p.current=[]},collisionDetection:yl},{children:e(Ju,Object.assign({items:v},{children:e(Kc,Object.assign({$mode:m},{children:r.map(((t,n)=>{const r=i[t.internalId];return e(Yc,Object.assign({$mode:m,$size:null==t?void 0:t.size,"data-testid":"element-content",ref:e=>f.current[n]={internalId:t.internalId,element:e}},{children:e(wc,{element:r,onClick:x(r)})}),t.internalId)}))}))}))}))}))},Qc=ps().shape({placeholder:rs().optional(),enableClearButton:Ho().optional(),defaultCountryCode:rs().optional(),displayAsFixedCountryCode:Ho().optional(),validation:ms().of(ps().shape({validationType:rs().required("Validation type required.").oneOf([oe.CONTACT_NUMBER],"Invalid validation type."),validationRule:rs().when(["defaultCountryCode","displayAsFixedCountryCode"],{is:(e,t)=>"Singapore"===e&&t,then:e=>e.required("Validation rule required when country code is 'Singapore' and display as fixed country code is true."),otherwise:e=>e.optional()}),validationErrorMessage:rs().required("Error message required.")}))}),ed=ps().shape({placeholder:rs().optional(),dropdownItems:ms().of(ps().shape({label:rs().optional(),value:rs().optional()})).test("min-2-valid-items","At least 2 items with valid label and value are required.",(function(e){const t=e.filter((e=>e.label&&e.value)).length,n=e.every((e=>e.label&&e.value||!e.label&&!e.value));if(t>=2&&n)return!0;const r=e.reduce(((e,n,r)=>(!n.label&&!n.value&&t>=2||(n.label||e.push(this.createError({path:`${this.path}[${r}].label`,message:"Option label required."})),n.value||e.push(this.createError({path:`${this.path}[${r}].value`,message:"Option value required."}))),e)),[]);throw new So(r)}))}),td=/^@[^\s]+(\.[^\s]+)*(?:\s*,\s*@[^,\s]+(\.[^,\s]+)*)*$/,nd=ps().shape({placeholder:rs().optional(),validation:ms().of(ps().shape({validationType:rs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.EMAIL_DOMAIN],"Validation type must be EMAIL_DOMAIN"),validationRule:rs().when("validationType",{is:oe.EMAIL_DOMAIN,then:e=>e.required("Email domain required.").matches(td,"Invalid email domain. Check if email domain is correct with no whitespace between characters. Separate each with a comma if there is more than 1 email."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:rs().required("Error message required.")}))}),rd=ps().shape({placeholder:rs().optional(),resizableInput:Ho().required(),pills:Ho().required(),pillItems:ms().of(ps().shape({content:rs().optional()})).test("min-2-valid-items","At least 2 items with valid content are required.",(function(e){if((null==e?void 0:e.reduce(((e,t)=>t.content&&""!==t.content.trim()?e+1:e),0))>=2)return!0;const t=null==e?void 0:e.reduce(((e,t,n)=>(t.content&&""!==t.content.trim()||e.push(this.createError({path:`${this.path}[${n}].content`,message:"Pill item content is required."})),e)),[]);if((null==t?void 0:t.length)>0)throw new So(t);return!0})),pillPosition:rs().oneOf(["top","bottom"]),validation:ms().of(ps().shape({validationType:rs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.MAX_LENGTH],"Validation type must be MAX_LENGTH"),validationRule:rs().when("validationType",{is:oe.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only.")}),validationErrorMessage:rs().required("Error message required.")}))}),id=ps().shape({placeholder:rs().optional(),validation:ms().of(ps().shape({validationType:rs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.WHOLE_NUMBERS,oe.MAX_VALUE,oe.MAX_VALUE],"Validation type not supported"),validationRule:rs().when("validationType",{is:oe.WHOLE_NUMBERS,then:e=>e.optional(),otherwise:e=>e.when("validationType",{is:oe.MIN_VALUE||oe.MAX_VALUE,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")})}),validationErrorMessage:rs().required("Error message required.")}))}),ad=ps().shape({placeholder:rs().optional(),validation:ms().of(ps().shape({validationType:rs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([oe.CUSTOM_REGEX,oe.MIN_LENGTH,oe.MAX_LENGTH],"Validation type not supported"),validationRule:rs().when("validationType",{is:oe.CUSTOM_REGEX,then:e=>e.required("Custom regex required.").validRegex("Regex not valid.")}).when("validationType",{is:e=>e===oe.MIN_LENGTH||e===oe.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:rs().required("Error message required.")}))}),od=/^[a-z]+(?:[A-Z0-9][a-z0-9]*)*(?:[-_][a-z0-9]+)*$/gm,sd=/^[a-zA-Z0-9_-]+$/,ld=/^[a-zA-Z0-9._-]+$/;vs(rs,"validRegex",(function(e){return this.test("validRegex",e,(function(e){return!!(e=>{try{return new RegExp(e),!0}catch(e){return!1}})(e)}))})),vs(rs,"isNumber",(function(e){return this.test("isNumber",e,(function(e){return!!(!isNaN(Number(e))&&Number.isInteger(Number(e))&&parseInt(e)>=0)}))}));var ud;!function(e){e.buildYupSchema=e=>{try{const{elements:t,focusedElement:n}=Ot(),r=((e,t)=>ps().shape({internalId:rs().required("Internal ID required."),type:rs().oneOf(Object.values(re)).required("Element type required."),label:rs().required("Label required."),required:Ho().required().default(!0),requiredErrorMsg:rs().when("required",{is:!0,then:e=>e.required("Error message required."),otherwise:e=>e.optional()}),description:rs().optional(),id:rs().required("ID required.").matches(od,{message:"ID must be camelCase."}).notOneOf(Object.values(e).map((e=>e.id)).filter((e=>e!==(null==t?void 0:t.element.id))),"ID must not be duplicated."),preselectedValue:rs().optional(),prefill:ms().of(ps().shape({prefillMode:rs().required("Source required."),actionId:rs().when("prefillMode",{is:"Previous source",then:e=>e.required("Action ID required.").matches(sd,"Invalid action ID."),otherwise:e=>e.optional()}),path:rs().required("Path required.").matches(ld,"Invalid path.")})),conditionalRendering:ms().of(ps().shape({fieldKey:rs().required("Reference required."),comparator:rs().required("Comparator required."),value:rs().required("Reference value required."),internalId:rs()}))}))(t,n);switch(e){case re.EMAIL:return ps().concat(r).concat(nd);case re.TEXT:return ps().concat(r).concat(ad);case re.NUMERIC:return ps().concat(r).concat(id);case re.TEXTAREA:return ps().concat(r).concat(rd);case re.DROPDOWN:return ps().concat(r).concat(ed);case re.CONTACT:return ps().concat(r).concat(Qc)}}catch(e){console.error("Error in schema helper:",e)}}}(ud||(ud={}));const cd=v.div`
    padding: 0 1rem 0 1rem;
    margin: 2rem 0 1rem 0;
`,dd=v(S.Item)`
    border-top: ${({$hideTopBorder:e})=>e?`1px solid ${g.Neutral[6]}`:"0"};

    margin-top: ${({$hideTopBorder:e})=>e?"0":"-1rem"};

    #content-container {
        padding: 0;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hideTopBorder:e})=>e?"1rem 0 1rem 1rem":"0 0 0 1rem"};
    }

    [data-testid="accordion-item-expandable-container"] {
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin: ${({$hideTopBorder:e})=>e?"0 0.1rem 0 1rem":"0 0.1rem 0 0"};
    }
`,fd=v(S)`
    & > div:first-child {
        display: none;
    }
`,pd=v.div`
    background: rgba(248, 248, 248, 1);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    margin-bottom: 2rem;
`,hd=v(I.Textarea)`
    min-height: 40px;
    overflow: hidden;
`,md=()=>{const{control:t,formState:{errors:n}}=jn();return e(Bn,{name:"description",control:t,render:({field:t})=>{var r;return e(hd,Object.assign({},t,{"data-testid":"description-field",label:{children:"Description text (optional)",subtitle:e(C.H6,Object.assign({weight:400},{children:"This displays as a description under the label."}))},placeholder:"Enter description text",rows:1,onChange:e=>((e,t)=>{t.onChange(e.target.value),e.target.style.height="auto",e.target.style.height=`${Math.max(40,e.target.scrollHeight)}px`})(e,t),errorMessage:null===(r=n.description)||void 0===r?void 0:r.message,maxLength:180}))}})},gd=()=>{const{control:t,formState:{errors:n}}=jn();return e(Bn,{name:"id",control:t,render:({field:t})=>{var r;return e(I.Input,Object.assign({},t,{"data-testid":"id-field",label:{children:"ID",subtitle:e(C.H6,Object.assign({weight:400},{children:"ID is used to differentiate element from the others in the UI schema."}))},placeholder:"Create an ID",value:t.value||"",errorMessage:null===(r=n.id)||void 0===r?void 0:r.message}))}})},vd=()=>{const{control:t,formState:{errors:n}}=jn();return e(Bn,{name:"label",control:t,render:({field:t})=>{var r;return e(I.Textarea,Object.assign({},t,{"data-testid":"label-field",label:"Element Name",rows:1,placeholder:"Enter element name",errorMessage:null===(r=n.label)||void 0===r?void 0:r.message,maxLength:40}))}})},bd=v.div`
    display: flex;
    gap: 2rem;
    justify-content: start;
`,yd=v.div`
    &:not(:last-child) {
        margin-bottom: 2rem;
    }
`,_d=v(P)`
    label {
        gap: 0.5rem;
        display: flex;
    }
`,xd=({onChange:n,value:r,label:i,options:a})=>{var o,s,l,u;const c=e=>{n(e)};return t(yd,{children:[e(I.Label,Object.assign({subtitle:e(C.H6,Object.assign({weight:400},{children:null==i?void 0:i.subLabel}))},{children:null==i?void 0:i.mainLabel})),t(bd,{children:[t(_d,Object.assign({type:"yes",checked:!0===r,onChange:()=>c(!0),indicator:!a},{children:[null===(o=null==a?void 0:a[0])||void 0===o?void 0:o.icon,(null===(s=null==a?void 0:a[0])||void 0===s?void 0:s.title)||"Yes"]})),t(_d,Object.assign({type:"no",checked:!1===r,onChange:()=>c(!1),indicator:!a},{children:[null===(l=null==a?void 0:a[1])||void 0===l?void 0:l.icon,(null===(u=null==a?void 0:a[1])||void 0===u?void 0:u.title)||"No"]}))]})]})},wd=()=>{const{focusedElement:n}=Ot(),{control:r,formState:{errors:i},watch:a,resetField:o}=jn();return t(pd,{children:[e(Bn,{name:"required",control:r,render:({field:t})=>e(xd,{label:{mainLabel:"Mandatory field"},value:t.value,onChange:e=>{e&&setTimeout((()=>{o("requiredErrorMsg",{defaultValue:n.element.requiredErrorMsg})})),t.onChange(e)}})}),a("required",!0)&&e(Bn,{name:"requiredErrorMsg",control:r,render:({field:t})=>{var n;return e(I.Input,Object.assign({},t,{"data-testid":"required-error-message-field",label:"Error message",value:t.value||"",placeholder:"Enter error message",errorMessage:null===(n=i.requiredErrorMsg)||void 0===n?void 0:n.message}))},shouldUnregister:!0})]})},Ed=()=>{const{control:t,formState:{errors:n}}=jn();return e(Bn,{name:"placeholder",control:t,render:({field:t})=>{var r;return e(I.Input,Object.assign({},t,{"data-testid":"placeholder-field",label:"Placeholder text (optional)",placeholder:"Enter placeholder text",value:t.value||"",errorMessage:null===(r=n.placeholder)||void 0===r?void 0:r.message}))}})},Od=()=>{const{control:t,formState:{errors:n}}=jn();return e(Bn,{name:"preselectedValue",control:t,render:({field:t})=>{var r;return e(I.Input,Object.assign({},t,{"data-testid":"preselected-value-field",label:{children:"Pre-selected value (optional)",subtitle:e(C.H6,Object.assign({weight:400},{children:"Note that prefill value will replace the pre-selected value, if present."}))},placeholder:"Enter pre-selected value",value:t.value||"",errorMessage:null===(r=n.preselectedValue)||void 0===r?void 0:r.message}))}})},Cd=v.div`
    display: flex;
    align-items: center;
    gap: 1rem;

    svg {
        color: ${g.Accent.Light[2]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,Td=({type:n,onChange:r,onBlur:i,errorMessage:a})=>e(U.Select,{"data-testid":"type-field",label:"Element type",options:ue.flatMap((e=>e.elementTypes)),renderCustomSelectedOption:n=>t(Cd,{children:[e(Vt,{elementType:n}),e(B.Body,{children:ce[n]})]}),selectedOption:n,renderListItem:n=>t(Cd,{children:[e(Vt,{elementType:n}),e(B.Body,{children:ce[n]})]}),onSelectOption:e=>r(e),errorMessage:a&&a,onBlur:i}),Sd=()=>{const{selectElementType:t,selectedElementType:n}=Ot(),{showModal:r,hideModal:i}=Qt(),{control:a,formState:{errors:o}}=jn(),[s,l]=f(n);return e(Bn,{name:"type",control:a,render:({field:a})=>{var u;return e(Td,{onBlur:a.onBlur,type:s,onChange:e=>{((e,a)=>{if(e===a.value)return;l(e);const o={type:Dt.ResetFields,onClickActionButton:()=>{i(Dt.ResetFields),t(e),a.onChange(e)},onClose:()=>{i(Dt.ResetFields),l(n)}};r(o)})(e,a)},errorMessage:null===(u=o.type)||void 0===u?void 0:u.message})}})},Ad=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........"],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ...."],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ... ...."],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599",""],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86",".. ........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506",".... ...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599",""],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1",""],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503",".... ...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502",".... ...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509",".... ...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91","..... ....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... ......."],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ... .. .."],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60",".. .... ...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ...."],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) .. .. .."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","... ... ...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","... ......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","... ... ..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1",""],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ... .. .."],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65",".... ...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ... ..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ... ...."],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ...."],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],jd=()=>{const{control:n,watch:r,unregister:i,setValue:a}=jn(),o=r("defaultCountryCode"),s=r("displayAsFixedCountryCode"),l=[["No default country code",null,null,null],...Ad],u=l.find((e=>e[0]===o));return c((()=>{"No default country code"===o&&a("defaultCountryCode","",{shouldDirty:!0})}),[o,a]),t(pd,{children:[e(Bn,{name:"defaultCountryCode",control:n,render:({field:t})=>{const n=te(t,["ref"]);return e(I.Select,Object.assign({},n,{"data-testid":"default-country-code",label:"Default country code (optional)",options:l,selectedOption:u,listExtractor:e=>({title:e[0],secondaryLabel:e[3]?`+${e[3]}`:""}),displayValueExtractor:e=>`${e[0]} (+${e[3]})`,onSelectOption:e=>t.onChange(e[0]),enableSearch:!0}))},shouldUnregister:!0}),o&&e(Bn,{name:"displayAsFixedCountryCode",control:n,defaultValue:!1,render:({field:t})=>{const n=te(t,["ref"]);return e(xd,Object.assign({},n,{label:{mainLabel:"Display as fixed country code",subLabel:"This will disable selection of country code."},onChange:e=>{e||i("validation.0.validationRule"),t.onChange(e)}}))},shouldUnregister:!0}),e(q,Object.assign({type:"info",showIcon:!0},{children:"Singapore"===o&&s?"Field will validate in Singapore format. This enables selection of SG landline or mobile contact number validation under Additional Validation.":"Field will validate in international format."}))]})},kd=()=>{const{control:t}=jn();return e(Bn,{name:"enableClearButton",control:t,defaultValue:!1,render:({field:t})=>{const n=te(t,["ref"]);return e(xd,Object.assign({},n,{label:{mainLabel:"Enable clear button",subLabel:"This enables form participant to remove contact number input with a click on a clear button."}}))},shouldUnregister:!0})},Dd=()=>t("div",Object.assign({"data-testid":"contact-basic-details"},{children:[e(Sd,{}),e(vd,{}),e(wd,{}),e(gd,{}),e(kd,{}),e(jd,{}),e(md,{}),e(Ed,{}),e(Od,{})]})),Id=v.div`
    position: relative;
`,Md=v.div`
    display: flex;
    align-items: start;
    justify-content: center;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }

    & > *:nth-child(2) {
        margin-right: 1rem;
    }

    & > *:nth-child(3) {
        margin-right: 1rem;
    }

    & > * {
        margin-bottom: 0 !important;
    }
`,Nd=v.div`
    margin-top: 0.875rem;
    svg {
        color: ${g.Accent.Light[1]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,$d=v.div`
    border: 1px dashed ${g.Primary};
    border-radius: 0.25rem;
    background: ${g.Accent.Light[5]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${g.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,Fd=({onDelete:n,id:r,index:i})=>{const{control:a,formState:{errors:o},watch:s}=jn(),{attributes:l,listeners:u,setNodeRef:c,transform:d,transition:f,isDragging:p,isOver:h}=ac({id:r}),m={transform:Ys.Translate.toString(d),transition:f,opacity:p?"70%":"100%",position:"relative",zIndex:p?1:"auto"},g=s("dropdownItems"),v=h?e($d,Object.assign({isOver:h},{children:e(L,{})})):null;return t(Id,{children:[v,t(Md,Object.assign({"data-testid":"dropdown-item-child",ref:c,style:m},l,{children:[e(Nd,Object.assign({},u,{children:e(R,{})})),e(Bn,{name:`dropdownItems.${i}.label`,control:a,render:({field:t})=>{var n,r,a;return e(I.Input,Object.assign({"data-testid":"dropdown-item-label",placeholder:"Enter label"},t,{errorMessage:null===(a=null===(r=null===(n=o.dropdownItems)||void 0===n?void 0:n[i])||void 0===r?void 0:r.label)||void 0===a?void 0:a.message}))}}),e(Bn,{name:`dropdownItems.${i}.value`,control:a,render:({field:t})=>{var n,r,a;return e(I.Input,Object.assign({"data-testid":"dropdown-item-value",placeholder:"Enter value"},t,{errorMessage:null===(a=null===(r=null===(n=o.dropdownItems)||void 0===n?void 0:n[i])||void 0===r?void 0:r.value)||void 0===a?void 0:a.message}))}}),e(Ut,{onClick:n,popoverMessage:e(C.Body,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:g.length<3})]}))]})},Rd=v.div`
    margin-bottom: 2rem;
`,Ld=v.div`
    display: flex;
    gap: 1rem;
`,Vd=v(A.Small)`
    flex: 1;
`,zd=()=>{const{control:n,getValues:r,trigger:i}=jn(),{fields:a,append:o,remove:s,move:l,replace:u}=_r({control:n,name:"dropdownItems",shouldUnregister:!0}),{showModal:d}=Qt(),f=cl(ul(nu),ul(Yl,{coordinateGetter:lc}));c((()=>{a.length<2&&o([{label:"",value:""},{label:"",value:""}],{shouldFocus:!1})}),[]);const p=()=>{o({label:"",value:""},{shouldFocus:!1})},h=e=>{const t=bs(e).map((e=>ys(e)));for(;t.length<2;)t.push({label:"",value:""});u(t),i("dropdownItems")},m=()=>{const e=r("dropdownItems"),t={type:Dt.BulkEdit,dropdownItemsString:(n=e,n.filter((e=>!Ba(e.label)||!Ba(e.value))).map((e=>`${e.label} | ${e.value}`)).join("\n")),onClickActionButton:h};var n;d(t)};return t(Rd,{children:[t(I.Label,{children:["Dropdown items",e(C.H6,Object.assign({weight:400},{children:"Label is the item displayed to the users in the dropdown menu. Value is used to differentiate the dropdown items in the backend."}))]}),e(Fu,Object.assign({sensors:f,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=a.findIndex((e=>e.id===t.id)),r=a.findIndex((e=>e.id===n.id));l(e,r)}},collisionDetection:bl},{children:e(Ju,Object.assign({items:a,strategy:Zu},{children:a.map(((t,n)=>e(Fd,{id:t.id,index:n,onDelete:()=>(e=>{s(e)})(n)},t.id)))}))})),t(Ld,{children:[e(Vd,Object.assign({onClick:p,icon:e(O,{}),styleType:"secondary",type:"button"},{children:"Add Option"})),e(Vd,Object.assign({onClick:m,icon:e(W,{}),styleType:"secondary",type:"button"},{children:"Bulk Edit"}))]})]})},Pd=()=>{const{control:t,formState:{errors:n},watch:r,setValue:i}=jn(),a=r("preselectedValue"),o=r("dropdownItems",[]),s=[{label:"Unselect default value",value:null}];o.forEach((e=>{Ba(e.label)||Ba(e.value)||s.push(e)}));const l=s.find((e=>e.value===a));return c((()=>{null===a&&i("preselectedValue","",{shouldDirty:!0})}),[a,i]),c((()=>{a&&!o.some((e=>e.value===a))&&i("preselectedValue","")}),[l]),s.length>1&&e(Bn,{name:"preselectedValue",control:t,render:({field:t})=>{var r;const i=te(t,["ref"]);return e(I.Select,Object.assign({},i,{options:s,valueExtractor:e=>e.value,listExtractor:e=>e.label,displayValueExtractor:e=>e.label,placeholder:"Select default value",label:{children:"Pre-selected value (optional)",subtitle:e(C.H6,Object.assign({weight:400},{children:"Select a value for users. Note that prefill value will replace the pre-selected value, if present."}))},selectedOption:l,onSelectOption:e=>{t.onChange(e.value)},errorMessage:null===(r=n.preselectedValue)||void 0===r?void 0:r.message}))}})},Ud=()=>t("div",Object.assign({"data-testid":"dropdown-basic-details"},{children:[e(Sd,{}),e(vd,{}),e(wd,{}),e(gd,{}),e(zd,{}),e(md,{}),e(Ed,{}),e(Pd,{})]})),Bd=()=>t("div",Object.assign({"data-testid":"email-basic-details"},{children:[e(Sd,{}),e(vd,{}),e(wd,{}),e(gd,{}),e(md,{}),e(Ed,{}),e(Od,{})]})),qd=v.div`
    position: relative;
`,Wd=v.div`
    border: 1px dashed ${g.Primary};
    border-radius: 0.25rem;
    background: ${g.Accent.Light[5]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${g.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,Hd=v.div`
    display: flex;
    align-items: start;
    justify-content: center;
    width: 100%;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }
    & > *:nth-child(2) {
        width: 100%;
        margin-right: 1rem;
    }
    & > * {
        margin-bottom: 0 !important;
    }
`,Xd=v.div`
    margin-top: 0.875rem;
    svg {
        color: ${g.Accent.Light[1]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,Gd=({id:n,index:r,onDelete:i,disableDelete:a})=>{const{control:o,formState:{errors:s}}=jn(),{attributes:l,listeners:u,setNodeRef:c,transform:d,transition:f,isDragging:p,isOver:h}=ac({id:n}),m={transform:Ys.Transform.toString(d),transition:f,position:"relative",opacity:p?"70%":"100%",zIndex:p?1:"auto"},g=h?e(Wd,Object.assign({isOver:h},{children:e(L,{})})):null;return t(qd,{children:[g,e("div",Object.assign({ref:c,style:m},l,{children:t(Hd,{children:[e(Xd,Object.assign({},u,{children:e(R,{"data-testid":"drag-handle"})})),e(Bn,{name:`pillItems.${r}.content`,control:o,render:({field:t})=>{var n,i,a;return e(I.Input,Object.assign({},t,{placeholder:"Enter short text",errorMessage:null===(a=null===(i=null===(n=null==s?void 0:s.pillItems)||void 0===n?void 0:n[r])||void 0===i?void 0:i.content)||void 0===a?void 0:a.message}))}}),e(Ut,{onClick:i,popoverMessage:e(C.Body,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:a})]})}))]})},Zd=v.div`
    margin-bottom: 2rem;
`,Kd=v(A.Default)`
    width: 100%;
`,Yd=()=>{const{focusedElement:n}=Ot(),{control:r,resetField:i}=jn(),{fields:a,append:o,remove:s,move:l}=_r({control:r,name:"pillItems",shouldUnregister:!0}),u=null==n?void 0:n.element,d=cl(ul(nu),ul(Yl,{coordinateGetter:lc})),f=a.length<=2;c((()=>{(null==u?void 0:u.pillItems)&&i("pillItems",{defaultValue:u.pillItems})}),[]);return t(Zd,{children:[e(I.Label,{children:"Pill items"}),e(Fu,Object.assign({sensors:d,collisionDetection:bl,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=a.findIndex((e=>e.id===t.id)),r=a.findIndex((e=>e.id===n.id));l(e,r)}}},{children:e(Ju,Object.assign({items:a,strategy:Zu},{children:a.map(((t,n)=>e(Gd,{id:t.id,index:n,onDelete:()=>(e=>{s(e)})(n),disableDelete:f},t.id)))}))})),e(Kd,Object.assign({icon:e(O,{}),styleType:"light",onClick:()=>{o({content:""},{shouldFocus:!1})},role:"button",type:"button"},{children:"Add option"}))]})},Jd=()=>{const{control:r,unregister:i,setValue:a,watch:o,resetField:s}=jn(),{focusedElement:l}=Ot(),u=null==l?void 0:l.element,d=o("pills");c((()=>{d&&(null==u?void 0:u.pillItems)&&s("pillPosition",{defaultValue:u.pillPosition})}),[d]);return t(pd,{children:[e(Bn,{name:"pills",control:r,defaultValue:!1,render:({field:t})=>e(xd,{label:{mainLabel:"Pills",subLabel:"This allows a list of selectable short texts to display in pill form. This helps participant to fill up text area fast with less typing."},value:t.value,onChange:e=>{e?(a("pillItems",[{content:""},{content:""}],{shouldDirty:!0}),a("pillPosition","top",{shouldDirty:!0})):i(["pillItems","pillPosition"]),t.onChange(e)}}),shouldUnregister:!0}),o("pills",u.pills)&&t(n,{children:[e(Yd,{}),e(Bn,{name:"pillPosition",control:r,render:({field:t})=>e(xd,{label:{mainLabel:"List position",subLabel:"This displays pills on top or bottom of the text area."},value:"top"===t.value,options:[{icon:e(Rt,{}),title:"Top"},{icon:e(Mt,{}),title:"Bottom"}],onChange:e=>t.onChange(e?"top":"bottom")}),shouldUnregister:!0})]})]})},Qd=()=>{const{control:t}=jn();return e(Bn,{name:"resizableInput",control:t,defaultValue:!1,render:({field:t})=>{const n=te(t,["ref"]);return e(xd,Object.assign({},n,{label:{mainLabel:"Resizable area input",subLabel:"This allows participant to resize text area."}}))},shouldUnregister:!0})},ef=()=>t("div",Object.assign({"data-testid":"long-text-basic-details"},{children:[e(Sd,{}),e(vd,{}),e(wd,{}),e(gd,{}),e(md,{}),e(Qd,{}),e(Jd,{}),e(Ed,{}),e(Od,{})]})),tf=()=>t("div",Object.assign({"data-testid":"numeric-basic-details"},{children:[e(Sd,{}),e(vd,{}),e(wd,{}),e(gd,{}),e(md,{}),e(Ed,{}),e(Od,{})]})),nf=()=>t("div",Object.assign({"data-testid":"text-basic-details"},{children:[e(Sd,{}),e(vd,{}),e(wd,{}),e(gd,{}),e(md,{}),e(Ed,{}),e(Od,{})]})),rf=()=>{var t;const{focusedElement:n,orderedIdentifiers:r,elements:i}=Ot(),{watch:a,reset:o,formState:{isDirty:s}}=jn(),l=a("type",null===(t=null==n?void 0:n.element)||void 0===t?void 0:t.type);c((()=>{if(!s)return;const e=r.filter((e=>e.internalId!==n.element.internalId)).map((e=>e.internalId)),t=Object.values(i).filter((e=>e.id!==n.element.id)).map((e=>e.id)),a=be.generate(l,e,t);o(a,{keepDefaultValues:!0})}),[l]);return e(fd,{children:e(dd,Object.assign({type:"default",expanded:!0,title:"Basic",$hideTopBorder:n.isDirty},{children:e(cd,{children:(()=>{switch(l){case re.EMAIL:return e(Bd,{});case re.TEXT:return e(nf,{});case re.TEXTAREA:return e(ef,{});case re.NUMERIC:return e(tf,{});case re.CONTACT:return e(Dd,{});case re.DROPDOWN:return e(Ud,{});default:return null}})()})}))})},af=v.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,of=v.div`
    display: grid;
    grid-template-columns: 5fr 4.5fr;
    gap: 1rem;
`,sf=v(I.Select)`
    [data-testid="dropdown-list"] {
        max-height: 10rem;
    }
`,lf=v(C.XSmall)`
    text-align: left;
`,uf=({onDelete:n,options:r,index:i})=>{const a=[ae.EQUALS,ae.MORE_THAN,ae.LESS_THAN,ae.NOT_EQUALS],{formState:{errors:o},control:s,setValue:l}=jn();return e(Wt,Object.assign({onDelete:n},{children:t(af,{children:[t(of,{children:[e("div",{children:e(Bn,{name:`conditionalRendering.${i}.fieldKey`,control:s,render:({field:n})=>{var a,s;const u=te(n,["ref"]);return e(sf,Object.assign({},u,{placeholder:"Select",selectedOption:u.value?r.find((e=>e.id===u.value)):null,onSelectOption:e=>{u.onChange(null==e?void 0:e.id),l(`conditionalRendering.${i}.internalId`,e.internalId)},options:r,renderCustomSelectedOption:t=>e(C.Body,{children:null==t?void 0:t.label}),renderListItem:n=>t("div",{children:[e(C.Body,{children:null==n?void 0:n.label}),t(lf,{children:["ID: ",null==n?void 0:n.id]})]}),errorMessage:o&&o.conditionalRendering&&(null===(s=null===(a=null==o?void 0:o.conditionalRendering[i])||void 0===a?void 0:a.fieldKey)||void 0===s?void 0:s.message)||""}))}})}),e("div",{children:e(Bn,{name:`conditionalRendering.${i}.comparator`,control:s,render:({field:t})=>{var n,r;const s=te(t,["ref"]);return e(sf,Object.assign({},s,{selectedOption:s.value,onSelectOption:e=>{s.onChange(e)},options:a,errorMessage:o&&o.conditionalRendering&&(null===(r=null===(n=null==o?void 0:o.conditionalRendering[i])||void 0===n?void 0:n.comparator)||void 0===r?void 0:r.message)||""}))}})})]}),e("div",{children:e(Bn,{name:`conditionalRendering.${i}.value`,control:s,render:({field:t})=>{var n,r;const a=te(t,["ref"]);return e(I.Input,Object.assign({},a,{placeholder:"Set value",value:a.value,onChange:e=>{a.onChange(e.target.value)},errorMessage:o&&(null==o?void 0:o.conditionalRendering)&&(null===(r=null===(n=null==o?void 0:o.conditionalRendering[i])||void 0===n?void 0:n.value)||void 0===r?void 0:r.message)}))}})})]})}))},cf=()=>{const{watch:t,control:n}=jn(),{fields:r,append:i,remove:a}=_r({control:n,name:"conditionalRendering",shouldUnregister:!0}),{focusedElement:o,elements:s,selectedElementType:u}=Ot(),c=null==o?void 0:o.element,d=ud.buildYupSchema(u),f=t("conditionalRendering"),p=()=>{const e=[];return Object.entries(s).forEach((([t,n])=>{if(t!==(null==c?void 0:c.internalId)){const t={label:null==n?void 0:n.label,id:null==n?void 0:n.id,internalId:null==n?void 0:n.internalId};e.push(t)}})),e},h=()=>{try{return d.pick(["conditionalRendering"]).validateSync({conditionalRendering:f,abortEarly:!1}),!1}catch(e){return So.isError(e)}},m=l((()=>{var t;return h()?e(C.Body,{children:"To add a new condition, fill up the existing condition first."}):0===(null===(t=p())||void 0===t?void 0:t.length)?e(C.Body,{children:"No conditional rendering available."}):null}),[h,p]);return e(Zt,Object.assign({onAdd:()=>{const e={fieldKey:"",comparator:ae.EQUALS,value:"",internalId:""};i(e)},title:"Conditional Rendering",buttonLabel:"condition",disabledButton:0===p().length||h(),popoverMessage:m()},{children:r.map(((t,n)=>e(uf,{onDelete:()=>(e=>{a(e)})(n),options:p(),index:n},t.id)))}))},df=v(q)``,ff=v.div`
    ${df} {
        margin-bottom: 1rem;
    }
    margin-bottom: 8rem;
`,pf=v.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,hf=({onDelete:n,index:r})=>{const i=["Myinfo","Previous source"],{formState:{errors:a},control:o,watch:s}=jn();return e(Wt,Object.assign({onDelete:n},{children:t(pf,{children:[e("div",{children:e(Bn,{name:`prefill.${r}.prefillMode`,control:o,defaultValue:"Myinfo",render:({field:t})=>{var n,o,s;const l=te(t,["ref"]);return e(I.Select,Object.assign({},l,{placeholder:"Select",selectedOption:l.value,options:i,disabled:1===i.length,onSelectOption:e=>{l.onChange(e)},errorMessage:null===(s=null===(o=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===o?void 0:o.prefillMode)||void 0===s?void 0:s.message}))}})}),"Previous source"===s(`prefill.${r}.prefillMode`)&&e("div",{children:e(Bn,{name:`prefill.${r}.actionId`,control:o,render:({field:t})=>{var n,i,o;const s=te(t,["ref"]);return e(I.Input,Object.assign({},s,{placeholder:"Enter an action ID",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(i=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===i?void 0:i.actionId)||void 0===o?void 0:o.message}))}})}),e("div",{children:e(Bn,{name:`prefill.${r}.path`,control:o,render:({field:t})=>{var n,i,o;const s=te(t,["ref"]);return e(I.Input,Object.assign({},s,{placeholder:"Enter a path",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(i=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===i?void 0:i.path)||void 0===o?void 0:o.message}))}})})]})}))},mf=()=>{const{selectedElementType:t}=Ot(),{watch:n,control:r}=jn(),{fields:i,append:a,remove:o}=_r({control:r,name:"prefill",shouldUnregister:!0}),s=n("prefill"),l=ud.buildYupSchema(t),u=()=>{try{return l.pick(["prefill"]).validateSync({prefill:s,abortEarly:!1}),!1}catch(e){return So.isError(e)}};return e(Zt,Object.assign({onAdd:()=>{a({prefillMode:null,path:""})},title:"Prefill",buttonLabel:"prefill",subtitle:"Prefill information from various data sources, for example Myinfo.",disabledButton:u(),popoverMessage:(()=>{if(u())return e(C.Body,{children:"To add new prefill, fill up existing prefill first."})})()},{children:0===(null==s?void 0:s.length)?void 0:i.map(((t,n)=>e(hf,{onDelete:()=>(e=>{o(e)})(n),index:n},t.id)))}))},gf=(e,t,n)=>t.filter((t=>!(t=>e.some((e=>e.validationType===t)))(t)||(null==n?void 0:n.includes(t)))),vf=({options:t,index:n,disabled:r})=>{const{formState:{errors:i},control:a}=jn();return e(Bn,{name:`validation.${n}.validationType`,control:a,render:({field:a})=>{var o,s,l;const u=te(a,["ref"]);return e(I.Select,Object.assign({},u,{"data-testid":"validation-type",placeholder:"Select",selectedOption:u.value,options:t,disabled:r,onSelectOption:a.onChange,errorMessage:null===(l=null===(s=null===(o=null==i?void 0:i.validation)||void 0===o?void 0:o[n])||void 0===s?void 0:s.validationType)||void 0===l?void 0:l.message}))}})},bf=({index:t})=>{const{formState:{errors:n},control:r}=jn();return e(Bn,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;const s=te(r,["ref"]);return e(I.Input,Object.assign({},s,{placeholder:"Enter rule",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},yf=({index:t})=>{const{formState:{errors:n},control:r}=jn();return e(Bn,{name:`validation.${t}.validationErrorMessage`,control:r,render:({field:r})=>{var i,a,o;const s=te(r,["ref"]);return e(I.Input,Object.assign({},s,{"data-testid":"validation-error-message",placeholder:"Set error message",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationErrorMessage)||void 0===o?void 0:o.message}))}})},_f=v.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;

    & > * {
        margin-bottom: 0 !important;
    }
`,xf=v.div`
    background: ${g.Neutral[7]};
    padding: 1rem;
    margin-bottom: 2rem;
`,wf=({index:t})=>{const{formState:{errors:n},control:r,resetField:i}=jn(),{focusedElement:a}=Ot(),o=null==a?void 0:a.element,s=[{title:"All",label:"First digit of 3, 6, 8 or 9 allowed with correct length.",value:le.DEFAULT},{title:"Landline contact number only",label:"First digit of 3 or 6 allowed with correct length.",value:le.HOUSE},{title:"Mobile contact number only",label:"First digit of 8 or 9 allowed with correct length.",value:le.MOBILE}];return c((()=>{var e;i("validation.0.validationRule",{defaultValue:(null===(e=null==o?void 0:o.validation[0])||void 0===e?void 0:e.validationRule)||le.DEFAULT})}),[]),e(Bn,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;const l=te(r,["ref"]);return e(I.Select,Object.assign({},l,{"data-testid":"contact-validation-rule",placeholder:"Select",selectedOption:null==s?void 0:s.find((e=>e.value===r.value)),options:s,listExtractor:e=>({title:e.title,secondaryLabel:e.label}),displayValueExtractor:e=>`${e.title} (${e.label})`,onSelectOption:e=>r.onChange(e.value),errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))},shouldUnregister:!0})},Ef=({index:n,options:r,disabled:i})=>{const{watch:a}=jn(),[o,s]=a(["defaultCountryCode","displayAsFixedCountryCode"]);return e(xf,{children:t(_f,Object.assign({"data-testid":"contact-validation-child"},{children:[e(vf,{index:n,options:r,disabled:i}),"Singapore"===o&&s&&e(wf,{index:n}),e(yf,{index:n})]}))})},Of=({index:t})=>{const{formState:{errors:n},control:r}=jn();return e(Bn,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;return e(I.Textarea,Object.assign({},r,{placeholder:"Enter email domain, separating with a comma",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},Cf=({onDelete:n,index:r,options:i})=>e(Wt,Object.assign({onDelete:n},{children:t(_f,Object.assign({"data-testid":"email-validation-child"},{children:[e(vf,{index:r,options:i,disabled:1===i.length}),e(Of,{index:r}),e(yf,{index:r})]}))})),Tf=({onDelete:n,index:r,options:i,disabled:a})=>e(Wt,Object.assign({onDelete:n},{children:t(_f,Object.assign({"data-testid":"long-text-validation-child"},{children:[e(vf,{index:r,options:i,disabled:a}),e(bf,{index:r}),e(yf,{index:r}),e(q,Object.assign({type:"info",showIcon:!0},{children:"Adding of this validation will result in character counter displayed under the textarea."}))]}))})),Sf=({onDelete:n,index:r,options:i,disabled:a})=>{const{watch:o}=jn(),s=o(`validation.${r}.validationType`);return e(Wt,Object.assign({onDelete:n},{children:t(_f,Object.assign({"data-testid":"numeric-validation-child"},{children:[e(vf,{index:r,options:i,disabled:a}),s!==oe.WHOLE_NUMBERS&&e(bf,{index:r}),e(yf,{index:r})]}))}))},Af=({onDelete:n,index:r,options:i,disabled:a})=>e(Wt,Object.assign({onDelete:n},{children:t(_f,Object.assign({"data-testid":"text-validation-child"},{children:[e(vf,{index:r,options:i,disabled:a}),e(bf,{index:r}),e(yf,{index:r})]}))})),jf=()=>{var t;const{selectedElementType:n,focusedElement:r}=Ot(),{watch:i,control:a}=jn(),{fields:o,append:s,remove:l}=_r({control:a,name:"validation",shouldUnregister:!0}),u=ud.buildYupSchema(n),c=i("validation",[]),d=i("type",null===(t=null==r?void 0:r.element)||void 0===t?void 0:t.type),f=()=>{switch(d){case re.EMAIL:case re.TEXT:case re.NUMERIC:case re.TEXTAREA:return(null==c?void 0:c.length)===fe["Text field"][d].maxEntries;default:return 6===(null==c?void 0:c.length)}},p=()=>{try{return u.pick(["validation"]).validateSync({validation:c,abortEarly:!1}),!1}catch(e){return So.isError(e)}},h=()=>{switch(d){case re.EMAIL:case re.TEXTAREA:return fe["Text field"][d].validationTypes[0]}},m=e=>{l(e)};return e(Zt,Object.assign({onAdd:()=>{const e={validationType:h(),validationRule:"",validationErrorMessage:""};s(e)},title:"Additional Validation",buttonLabel:"validation",disabledButton:f()||p(),popoverMessage:p()?e(C.Body,{children:"To add new validation, fill up existing validation first."}):f()?e(C.Body,{children:"Limit reached. To add new validation, remove existing ones first."}):void 0,expanded:n===re.CONTACT,hideAddButton:n===re.CONTACT},{children:(()=>{const t=((e,t)=>{switch(t){case re.EMAIL:case re.TEXTAREA:return fe["Text field"][t].validationTypes;case re.TEXT:{const t=[...fe["Text field"][re.TEXT].validationTypes];return gf(e,t,[oe.CUSTOM_REGEX])}case re.NUMERIC:const n=[...fe["Text field"][re.NUMERIC].validationTypes];return gf(e,n);case re.CONTACT:return fe["Text field"][re.CONTACT].validationTypes;default:return["Select","Type 1"]}})(c,d);return o.map(((n,r)=>{switch(d){case re.EMAIL:return e(Cf,{index:r,options:t,disabled:1===t.length,onDelete:()=>m(r)},n.id);case re.TEXTAREA:return e(Tf,{index:r,options:t,disabled:1===t.length,onDelete:()=>m(r)},n.id);case re.NUMERIC:return e(Sf,{index:r,options:t,onDelete:()=>m(r)},n.id);case re.TEXT:return e(Af,{index:r,options:t,onDelete:()=>m(r)},n.id);case re.CONTACT:return e(Ef,{index:r,options:t,disabled:1===t.length},n.id);default:return null}}))})()}))},kf=()=>{const{focusedElement:n,updateFocusedElement:r,selectedElementType:i}=Ot(),{formState:{isDirty:a},getFieldState:o}=jn(),{isTouched:s}=o("type");return c((()=>{r(!!s||!!a)}),[a,r]),t(ff,Object.assign({"data-testid":"element-editor"},{children:[n.isDirty&&e(df,Object.assign({type:"warning",showIcon:!0},{children:"To reflect changes on preview, save changes first."})),e(rf,{}),(l=i,ie.has(l)&&e(jf,{})),e(cf,{}),e(mf,{})]}));var l},Df=v.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin-bottom: 8rem;
`,If=v.li`
    display: flex;
    flex-direction: column;
`,Mf=v.div`
    border-bottom: 1px solid ${g.Neutral[5]};
    margin-bottom: 1rem;
    padding-bottom: 0.375rem;
`,Nf=v.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,$f=v(X)`
    background: ${g.Neutral[7]};
    color: ${g.Neutral[4]};
    border: none;

    svg {
        color: ${g.Neutral[4]};
    }
`,Ff=v.div`
    display: flex;
    align-items: center;
    gap: 0.6rem;
`,Rf=v(V)`
    color: ${g.Validation.Red.Icon};
    height: 1.125rem;
    width: 1.125rem;
`,Lf=()=>{const{addElement:n}=Ot(),[r,i]=f(ue),[a,o]=f("");return t(Df,Object.assign({"data-testid":"add-elements-panel"},{children:[e("label",{children:e($f,{placeholder:"Search",addon:{type:"custom",attributes:{children:e(H,{"data-testid":"maginfying-glass"})},position:"left"},allowClear:!0,value:a,onClear:()=>{o(""),i(ue)},onChange:e=>(e=>{const t=new RegExp(e,"i"),n=[];o(e),ue.forEach((e=>{const r=e.elementTypes.filter((e=>t.test(ce[e])));r.length>0&&n.push({categoryTitle:e.categoryTitle,elementTypes:r})})),i(n)})(e.target.value)})}),r.length>0?r.map(((r,i)=>{return t(If,{children:[e(Mf,{children:e(C.H6,Object.assign({weight:"semibold"},{children:r.categoryTitle}))}),e(Nf,{children:(a=r.elementTypes,a.map((t=>{return e("li",{children:e(Oc,{type:t,onClick:(r=t,()=>{n(r,!0)})})},t);var r})))})]},i);var a})):t(Ff,{children:[e(Rf,{}),e(C.Body,{children:"No results found."})]})]}))},Vf=v.div`
    height: 5.75rem;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem 1rem 2rem 2rem;
    border-bottom: 1px solid ${g.Neutral[5]};
`,zf=v(Z)`
    transform: ${({$isCollapsed:e})=>e?"rotate(-180deg)":"rotate(0)"};
    transition: transform 350ms ease-in-out;
`,Pf=v(C.H3)`
    margin-right: 1rem;
`,Uf=v(M.Small)`
    margin-left: auto;
    margin-right: 1rem;
`,Bf=()=>{const{showSidePanel:r,currentMode:i,togglePanel:a,removeFocusedElement:o,focusedElement:s,isSubmitting:l}=Ot(),{isDirty:u}=s||{},{showModal:c,discardChanges:d}=Qt(),{reset:f}=jn(),p=()=>{o(),d(),f()},h=()=>{if(u){const e={type:Dt.DiscardChanges,onClickActionButton:p};c(e)}else o()};return t(Vf,{children:[e(Pf,Object.assign({weight:"semibold","data-testid":"header-label"},{children:(()=>{if(s)return"Edit details";switch(i){case mt.ADD_ELEMENT:return"Add elements";case mt.EDIT_PAGES:return"Add pages"}})()})),(()=>{if(s)return t(n,{children:[e(Uf,Object.assign({"data-testid":"save-changes-button",disabled:l,loading:l},{children:l?"Saving":u?"Save Changes":"Saved"})),e(zt,Object.assign({$iconSize:"1.5rem",$iconColor:g.Neutral[3],onClick:h,type:"button"},{children:e(G,{"data-testid":"cross-button"})}))]});switch(i){case mt.ADD_ELEMENT:case mt.EDIT_PAGES:return e(zt,Object.assign({$iconSize:"1.5rem",$iconColor:g.Neutral[3],onClick:()=>a(!r)},{children:e(zf,{$isCollapsed:r})}))}})()]})},qf=v.div`
    display: flex;
    flex-direction: column;
    height: calc(100% - ${e=>e.$offset}rem);
    width: 36.8rem;
    transition: ${K.Base};
    background: ${g.Neutral[8]};
    border-left: 1px solid ${g.Neutral[5]};
    margin-left: auto;
    box-shadow: 0px 2px 12px 0px rgba(104, 104, 104, 0.25);
    position: fixed;
    top: ${e=>e.$offset}rem;
    left: 0;
    transform: translateX(0);

    ${k.MaxWidth.desktopM} {
        width: 30rem;
    }

    ${e=>{if(e.$minimised)return b`
                transform: translateX(calc(-100% + 5.5rem));
            `}}
`,Wf=v.div`
    display: flex;
    height: 100%;
    overflow: hidden;
`,Hf=v.div`
    padding: ${({$isFocusedElement:e})=>e?"1rem":"2rem"};
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    height: 100%;
`,Xf=v.div`
    height: 100%;
    background: ${g.Neutral[8]};
    display: flex;
    flex-direction: column;
    align-items: center;
    width: fit-content;
    padding: 2rem 1rem;
    border-left: 1px solid ${g.Neutral[5]};
    gap: 2rem;
`,Gf=v.button`
    background: ${({$active:e})=>e?g.Accent.Light[4]:"transparent"};
    color: ${g.Primary};
    display: grid;
    cursor: pointer;
    border: none;
    border-radius: 0.25rem;
    padding: 1rem;

    :hover {
        background: ${g.Accent.Light[4]};
    }

    :focus {
        outline-color: ${g.Primary};
    }

    svg {
        width: 1.625rem;
        height: 1.625rem;
    }
`,Zf=()=>{const{currentMode:n,toggleMode:r,togglePanel:i,showSidePanel:a}=Ot(),o=e=>()=>{r(e),a||i(!0)};return t(Xf,Object.assign({"data-testid":"toolbar"},{children:[e(Gf,Object.assign({type:"button","data-testid":"add-element",$active:n===mt.ADD_ELEMENT,onClick:o(mt.ADD_ELEMENT)},{children:e(It,{})})),e(Gf,Object.assign({type:"button",$active:n===mt.EDIT_PAGES,onClick:o(mt.EDIT_PAGES)},{children:e(Y,{})}))]}))},Kf=({offset:n,onSubmit:r})=>{const{showSidePanel:i,currentMode:a,focusedElement:o,updateElement:s,updateFocusedElement:u,selectedElementType:d,toggleSubmitting:f}=Ot(),{showToast:p}=jt(),h=Pr({mode:"onTouched",resolver:Hr(ud.buildYupSchema(d||re.EMAIL)),defaultValues:null==o?void 0:o.element}),{getValues:m,formState:{isSubmitSuccessful:g}}=h,v=l((e=>ne(void 0,void 0,void 0,(function*(){r&&(f(!0),yield r(e),f(!1));const t={message:"Changes are saved successfully.",type:kt.SUCCESS_TOAST};if("dropdownItems"in e){const t=m("dropdownItems").filter((e=>e.label.length>0||e.value.length>0));e.dropdownItems=t}if("pillItems"in e){const t=m("pillItems").filter((e=>e.content.length>0));e.pillItems=t}s(e),u(!1,e),p(t)}))),[s,u,r]);c((()=>{g&&setTimeout((()=>h.reset()))}),[g,h.reset]),c((()=>{o&&h.reset(o.element)}),[null==o?void 0:o.element,h.reset]);return e(kn,Object.assign({},h,{children:e("form",Object.assign({onSubmit:h.handleSubmit(v)},{children:t(qf,Object.assign({$minimised:!o&&!i,$offset:n||0},{children:[e(Bf,{}),t(Wf,{children:[e(Hf,Object.assign({$isFocusedElement:!!o},{children:o?e(kf,{}):a===mt.ADD_ELEMENT?e(Lf,{}):e("div",Object.assign({"data-testid":"default-content"},{children:"Some content here..."}))})),null===o&&e(Zf,{})]})]}))}))}))},Yf=v.div`
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;

    ${k.MaxWidth.mobileL} {
        width: auto;
        padding: 0 2.375rem 0 2.375rem;
    }
`,Jf=()=>e(Yf,{children:e(N,{type:"warning",title:"Screen size not supported",description:"Expand to a bigger screen size or switch to desktop view to use the form builder."})}),Qf=v(J.Section)`
    cursor: ${({$disabled:e})=>e?"not-allowed":"pointer"};
    height: 100%;
    overflow-x: hidden;
    padding-left: 0 !important;
    padding-right: 0 !important;
`,ep=v(J.Container)`
    position: relative;
    height: 100%;
    padding: 2rem 3rem;
    display: ${({$isLargeScreen:e})=>e?"grid":"none"};
    ${k.MaxWidth.tablet} {
        max-width: unset;
        width: 100%;
    }
`,tp=e=>{const t=(e=>{if(!e||0===e.length)return;const t=e.reduce(((e,t)=>{const n=t.comparator===ae.LESS_THAN||t.comparator===ae.MORE_THAN?parseInt(t.value):t.value;return e[t.fieldKey]||(e[t.fieldKey]=[{filled:!0}]),e[t.fieldKey].push({[pe[t.comparator]]:n}),e}),{});return 0===Object.keys(t).length?[]:[t]})(null==e?void 0:e.conditionalRendering);return Object.assign(Object.assign({label:Object.assign({mainLabel:e.label},e.description&&{subLabel:e.description}),uiType:e.type,columns:{desktop:e.columns.desktop,tablet:e.columns.tablet,mobile:e.columns.mobile}},e.required&&{validation:[Object.assign({required:!0},e.requiredErrorMsg&&{errorMessage:e.requiredErrorMsg})]}),t&&{showIf:t})},np=e=>({max:parseInt(e.validationRule),errorMessage:e.validationErrorMessage}),rp=e=>({min:parseInt(e.validationRule),errorMessage:e.validationErrorMessage});var ip,ap,op,sp,lp,up;!function(e){e.elementToSchema=e=>{const t=tp(e),n=(e=>{const{defaultCountryCode:t,displayAsFixedCountryCode:n,validation:r}=e,{validationRule:i,validationErrorMessage:a}=r[0],o={contactNumber:{internationalNumber:!0},errorMessage:a};return n&&(o.contactNumber="Singapore"===t?{singaporeNumber:i}:{internationalNumber:t}),o})(e),{placeholder:r,enableClearButton:i,defaultCountryCode:a,displayAsFixedCountryCode:o}=e;return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),r&&{placeholder:r}),i&&{allowClear:!0}),!o&&a&&{defaultCountry:e.defaultCountryCode}),{validation:[...t.validation||[],n]})}}}(ip||(ip={})),function(e){e.elementToSchema=e=>{const t=tp(e);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),e.dropdownItems&&{options:e.dropdownItems})}}}(ap||(ap={})),function(e){e.elementToSchema=e=>{const t=tp(e),n=(e=>{if(0===e.length)return;return{matches:(e=>{if(e){const t=null==e?void 0:e.validationRule.split(","),n=`^[a-zA-Z0-9._%+-]+@(${(null==t?void 0:t.map((e=>e.trim().replace(/^@/,"").replace(/\./g,"\\.")))).join("|")})$`;return new RegExp(n)}})(e[0]).toString(),errorMessage:e[0].validationErrorMessage}})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],n]})}}}(op||(op={})),function(e){e.elementToSchema=e=>{var t;const n=tp(e),r=(e=>{if(0!==e.length)return np(e[0])})(e.validation),i=e.resizableInput,a=null===(t=e.pillItems)||void 0===t?void 0:t.map((e=>e.content));return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e.placeholder&&{placeholder:e.placeholder}),r&&{validation:[...n.validation||[],r]}),i&&{resizable:!0}),e.pills&&{chipTexts:a}),e.pills&&"bottom"===e.pillPosition&&{chipPosition:e.pillPosition})}}}(sp||(sp={})),function(e){e.elementToSchema=e=>{const t=tp(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case oe.MAX_VALUE:e.push(np(t));break;case oe.MIN_VALUE:e.push(rp(t));break;case oe.WHOLE_NUMBERS:e.push((e=>({integer:!0,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(lp||(lp={})),function(e){e.elementToSchema=e=>{const t=tp(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case oe.MAX_LENGTH:e.push(np(t));break;case oe.MIN_LENGTH:e.push(rp(t));break;case oe.CUSTOM_REGEX:e.push((e=>({matches:e.validationRule,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(up||(up={}));const cp=e=>(null==e?void 0:e.filter((e=>!Object.prototype.hasOwnProperty.call(e,"required"))))||[],dp=(e,t)=>{const n=e[t];return null==n?void 0:n.filter((e=>!(null===_e.exec(null==e?void 0:e.path)||(null==e?void 0:e.actionId)&&null===ye.exec(null==e?void 0:e.actionId)||"Myinfo"!==(null==e?void 0:e.prefillMode)&&"Previous source"!==(null==e?void 0:e.prefillMode))))},fp=(e,t,n,r)=>{const{showIf:i,uiType:a,validation:o,label:s}=e,l=null==o?void 0:o.find((e=>Object.prototype.hasOwnProperty.call(e,"required"))),u=me.generate();var c;return{columns:{desktop:12,tablet:8,mobile:4},label:s.mainLabel||"",description:s.subLabel||"",type:a,required:!!(null==l?void 0:l.required),requiredErrorMsg:(null==l?void 0:l.errorMessage)||"",id:t,internalId:u,conditionalRendering:i?(c=i,c.reduce(((e,t)=>(Object.entries(t).forEach((([t,n])=>{n.filter((e=>!("filled"in e))).forEach((n=>{const[r,i]=Object.entries(n)[0];e.push({fieldKey:t,comparator:he[r],value:i,internalId:""})}))})),e)),[])):[],prefill:dp(n,t)||[],preselectedValue:r||""}},pp=e=>({validationType:oe.MAX_LENGTH,validationRule:e.max.toString(),validationErrorMessage:e.errorMessage});var hp,mp,gp,vp,bp,yp,_p;!function(e){e.schemaToElement=(e,t,n,r)=>{const i=fp(e,t,n,r),{placeholder:a,allowClear:o,defaultCountry:s,validation:l}=e,u=(e=>{if(!e)throw new Error("Contact schema must have additional validation.");const t=e.filter((e=>Object.prototype.hasOwnProperty.call(e,"contactNumber")));if(0===t.length||t.length>1)throw new Error("Contact schema must define exactly one contactNumber validation.");const n=t[0];if(!n||!("singaporeNumber"in n.contactNumber)&&!("internationalNumber"in n.contactNumber))throw new Error("Contact schema must have contactNumber validation with either singaporeNumber or internationalNumber.");const{contactNumber:r,errorMessage:i}=n;if("singaporeNumber"in r)return{defaultCountryCode:"Singapore",displayAsFixedCountryCode:!0,validation:[{validationType:oe.CONTACT_NUMBER,validationRule:r.singaporeNumber,validationErrorMessage:i}]};if(!1===r.internationalNumber)throw new Error("Contact schema must set internationalNumber to true if it is defined.");return!0===r.internationalNumber?{displayAsFixedCountryCode:!1,validation:[{validationType:oe.CONTACT_NUMBER,validationErrorMessage:i}]}:{defaultCountryCode:r.internationalNumber,displayAsFixedCountryCode:!0,validation:[{validationType:oe.CONTACT_NUMBER,validationErrorMessage:i}]}})(l);return Object.assign(Object.assign(Object.assign({},i),{placeholder:a||"",enableClearButton:o||!1,defaultCountryCode:s||""}),u)}}(hp||(hp={})),function(e){e.schemaToElement=(e,t,n,r)=>{const i=fp(e,t,n,r),{options:a,placeholder:o}=e;if(Ba(a)||a.length<2)throw new Error("Dropdown schema must have at least 2 options");return Object.assign(Object.assign({},i),{placeholder:o||"",dropdownItems:a})}}(mp||(mp={})),function(e){const t=e=>{const t=e.find((e=>Object.prototype.hasOwnProperty.call(e,se.MATCHES)));if(!t)return;const n=t.matches.toString().match(/@\((.*?)\)\$/)[1].split("|").map((e=>e.replace(/\\./g,"."))).map((e=>"@"+e)).join(", ");return/@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}/.exec(n)?[{validationType:oe.EMAIL_DOMAIN,validationRule:n,validationErrorMessage:t.errorMessage}]:void 0};e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s}=e,l=cp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(gp||(gp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{if(n===se.MAX)e.push(pp(t))})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s,resizable:l,chipTexts:u,chipPosition:c}=e,d=null==u?void 0:u.map((e=>({content:e})));if(d&&d.length<2)throw new Error("Long text area schema must have at least 2 chip texts if chipTexts is defined");const f=cp(o);return Object.assign(Object.assign(Object.assign(Object.assign({},a),{placeholder:s||"",validation:f.length>0&&t(f)||[],resizableInput:!!l}),d?{pills:!0,pillItems:d}:{pills:!1}),d&&{pillPosition:c||"top"})}}(vp||(vp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case se.MAX:e.push((r=t,{validationType:oe.MAX_VALUE,validationRule:r.max.toString(),validationErrorMessage:r.errorMessage}));break;case se.MIN:e.push((e=>({validationType:oe.MIN_VALUE,validationRule:e.min.toString(),validationErrorMessage:e.errorMessage}))(t));break;case se.INTEGER:e.push((e=>({validationType:oe.WHOLE_NUMBERS,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s}=e,l=cp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(bp||(bp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case se.MAX:e.push(pp(t));break;case se.MIN:e.push((r=t,{validationType:oe.MIN_LENGTH,validationRule:r.min.toString(),validationErrorMessage:r.errorMessage}));break;case se.MATCHES:e.push((e=>({validationType:oe.CUSTOM_REGEX,validationRule:e.matches,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=fp(e,n,r,i),{validation:o,placeholder:s}=e,l=cp(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(yp||(yp={})),function(e){e.generateSchema=(e,t)=>{const n=(e=>Object.values(e).reduce(((e,t)=>(t.prefill&&t.prefill.length>0&&(e[t.id]=t.prefill),e)),{}))(e),r=(e=>Object.values(e).reduce(((e,t)=>("preselectedValue"in t&&t.preselectedValue&&(e[t.id]=t.preselectedValue),e)),{}))(e),i=t.reduce(((t,n)=>(t[n.internalId]=e[n.internalId],t)),{}),a=Object.values(i).reduce(((e,t)=>{let n;switch(t.type){case re.EMAIL:n=op.elementToSchema(t);break;case re.TEXT:n=up.elementToSchema(t);break;case re.TEXTAREA:n=sp.elementToSchema(t);break;case re.CONTACT:n=ip.elementToSchema(t);break;case re.NUMERIC:n=lp.elementToSchema(t);break;case re.DROPDOWN:n=ap.elementToSchema(t)}return Object.assign(Object.assign({},e),n)}),{});return{schema:{defaultValues:r,sections:{section:{children:{grid:{children:Object.assign({},a),uiType:"grid"},"submit-button":{disabled:"invalid-form",label:"Submit",uiType:"submit"}},uiType:"section"}}},prefill:n}},e.parseSchema=e=>{var t,n,r,i,a,o;const s=null===(a=null===(i=null===(r=null===(n=null===(t=null==e?void 0:e.schema)||void 0===t?void 0:t.sections)||void 0===n?void 0:n.section)||void 0===r?void 0:r.children)||void 0===i?void 0:i.grid)||void 0===a?void 0:a.children;if(!s)throw new Error("Element schemas are missing");if(0===Object.keys(s).length)return null;const l=null===(o=null==e?void 0:e.schema)||void 0===o?void 0:o.defaultValues,u=[];return 0!==Object.values(s).length?(Object.entries(s).forEach((([t,n])=>{const{uiType:r}=n;if(!r)throw new Error("UI type is missing");let i;const a=l[t];switch(r){case re.EMAIL:i=gp.schemaToElement(n,t,e.prefill,a);break;case re.TEXT:i=yp.schemaToElement(n,t,e.prefill,a);break;case re.TEXTAREA:i=vp.schemaToElement(n,t,e.prefill,a);break;case re.NUMERIC:i=bp.schemaToElement(n,t,e.prefill,a);break;case re.CONTACT:i=hp.schemaToElement(n,t,e.prefill,a);break;case re.DROPDOWN:i=mp.schemaToElement(n,t,e.prefill,a);break;default:throw new Error("Invalid element type")}u.push(i)})),(e=>{const t={},n=[];return Object.values(e).forEach((r=>{var i;t[r.internalId]=r,n.push({internalId:r.internalId,size:"full"}),(null===(i=null==r?void 0:r.conditionalRendering)||void 0===i?void 0:i.length)>0&&r.conditionalRendering.forEach(((t,n)=>{const i=Object.values(e).find((e=>(null==e?void 0:e.id)===t.fieldKey));i?r.conditionalRendering[n]=Object.assign(Object.assign({},t),{internalId:i.internalId}):r.conditionalRendering.splice(n,1)}))})),{newElements:t,newOrderedIdentifiers:n}})(u)):null}}(_p||(_p={}));const xp=h((({offset:n,onSubmit:r},i)=>{const[a,o]=f(window.innerWidth>=1200),{elements:s,updateElementSchema:l,orderedIdentifiers:u,isSubmitting:d,removeFocusedElement:p,focusedElement:h}=Ot();return m(i,(()=>({generateSchema:()=>_p.generateSchema(s,u),parseSchema:e=>{const{newOrderedIdentifiers:t,newElements:n}=_p.parseSchema(e)||{};if(!t||!n)return l({},[]),void p();const r=Object.values(n).find((e=>{var t;return e.id===(null===(t=null==h?void 0:h.element)||void 0===t?void 0:t.id)}));l(n,t,r)}})),[s,u]),c((()=>{if(window){const e=()=>{o(window.innerWidth>=1200)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[]),t(Qf,Object.assign({$disabled:d},{children:[!a&&e(Jf,{}),t(ep,Object.assign({type:"grid",stretch:!0,$isLargeScreen:a},{inert:d?"":void 0},{children:[e(Jt,{}),e(js,{}),e(Jc,{}),e(Kf,{offset:n,onSubmit:r})]}))]}))})),wp=h(((t,n)=>e(Et,{children:e(At,{children:e(xp,Object.assign({ref:n},t))})})));export{wp as FormBuilder};
//# sourceMappingURL=index.js.map
