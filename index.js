import{jsx as e,jsxs as t,Fragment as n}from"react/jsx-runtime";import r,{useMemo as i,useReducer as a,createContext as o,useContext as s,useCallback as l,useLayoutEffect as u,useEffect as c,useRef as d,useState as f,memo as p,forwardRef as h,useImperativeHandle as m}from"react";import{Color as v}from"@lifesg/react-design-system/color";import g,{css as b}from"styled-components";import{ChevronDownIcon as y}from"@lifesg/react-icons/chevron-down";import{CircleDotIcon as _}from"@lifesg/react-icons/circle-dot";import{EnvelopeIcon as w}from"@lifesg/react-icons/envelope";import{PhoneIcon as x}from"@lifesg/react-icons/phone";import{PopoverTrigger as E}from"@lifesg/react-design-system/popover-v2";import{BinIcon as O}from"@lifesg/react-icons/bin";import{PlusIcon as T}from"@lifesg/react-icons/plus";import{Text as C,TextStyleHelper as A}from"@lifesg/react-design-system/text";import{Accordion as S}from"@lifesg/react-design-system/accordion";import{ButtonWithIcon as j}from"@lifesg/react-design-system/button-with-icon";import{Toast as D}from"@lifesg/react-design-system/toast";import{MediaQuery as I}from"@lifesg/react-design-system/media";import{Modal as k}from"@lifesg/react-design-system/modal";import{Form as M}from"@lifesg/react-design-system/form";import{Button as N}from"@lifesg/react-design-system/button";import{ErrorDisplay as $}from"@lifesg/react-design-system/error-display";import{unstable_batchedUpdates as R,createPortal as F}from"react-dom";import{DragHandleIcon as L,PlusCircleIcon as V,ICircleFillIcon as z}from"@lifesg/react-icons";import{CopyIcon as P}from"@lifesg/react-icons/copy";import{Toggle as B}from"@lifesg/react-design-system/toggle";import{PencilIcon as U}from"@lifesg/react-icons/pencil";import{Form as q,Text as W}from"@lifesg/react-design-system";import{Alert as H}from"@lifesg/react-design-system/alert";import{MagnifierIcon as X}from"@lifesg/react-icons/magnifier";import{InputGroup as G}from"@lifesg/react-design-system/input-group";import{CrossIcon as Z}from"@lifesg/react-icons/cross";import{ChevronRightIcon as K}from"@lifesg/react-icons/chevron-right";import{Transition as Y}from"@lifesg/react-design-system/transition";import{DocIcon as J}from"@lifesg/react-icons/doc";import{Layout as Q}from"@lifesg/react-design-system/layout";const ee=g.div`
    padding: 1rem;
    border-radius: 0.5rem;
    cursor: pointer;
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    box-shadow: 0px 2px 8px 0px rgba(104, 104, 104, 0.24);

    ${({$focused:e})=>e?b`
                  border: 1px solid ${v.Primary};
                  background: ${v.Accent.Light[5]};
              `:b`
                  border: 1px solid transparent;
              `}

    :hover {
        border-color: ${v.Primary};
        box-shadow: 0px 2px 8px 0px ${v.Shadow.Accent};
    }

    :focus {
        outline-color: ${v.Primary};
    }
`,te=({id:t,children:n,focused:r,onClick:i,className:a="pointer"})=>e(ee,Object.assign({tabIndex:0,$focused:r,onClick:i,id:t,role:"button",className:a},{children:n}));var ne;!function(e){e.CONTACT="contact-field",e.EMAIL="email-field",e.NUMERIC="numeric-field",e.RADIO="radio",e.DROPDOWN="select",e.TEXT="text-field",e.TEXTAREA="textarea"}(ne||(ne={}));const re=new Set([ne.CONTACT,ne.EMAIL,ne.NUMERIC,ne.TEXT,ne.TEXTAREA]);var ie,ae,oe,se;function le(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ue(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}new Set([ne.DROPDOWN]),function(e){e.MORE_THAN="More than",e.LESS_THAN="Less than",e.EQUALS="Equals",e.NOT_EQUALS="Not equals"}(ie||(ie={})),function(e){e.EMAIL_DOMAIN="Email domain",e.WHOLE_NUMBERS="Whole numbers",e.CUSTOM_REGEX="Custom regex",e.MIN_VALUE="Minimum value",e.MAX_VALUE="Maximum value",e.MIN_LENGTH="Minimum length",e.MAX_LENGTH="Maximum length",e.CONTACT_NUMBER="Contact number format"}(ae||(ae={})),function(e){e.MIN="min",e.MAX="max",e.INTEGER="integer",e.MATCHES="matches"}(oe||(oe={})),function(e){e.DEFAULT="default",e.MOBILE="mobile",e.HOUSE="house"}(se||(se={})),"function"==typeof SuppressedError&&SuppressedError;const ce=[{categoryTitle:"Text field",elementTypes:[ne.EMAIL,ne.TEXT,ne.TEXTAREA,ne.NUMERIC,ne.CONTACT]},{categoryTitle:"Option group",elementTypes:[ne.DROPDOWN,ne.RADIO]}];var de;!function(e){e.EMAIL="Email address",e.NUMERIC="Numbers",e.TEXT="Short text",e.TEXTAREA="Long text",e.CONTACT="Contact number",e.DROPDOWN="Dropdown",e.CHECKBOX="Checkbox",e.RADIO="Radio Button"}(de||(de={}));const fe={[ne.EMAIL]:de.EMAIL,[ne.NUMERIC]:de.NUMERIC,[ne.TEXT]:de.TEXT,[ne.TEXTAREA]:de.TEXTAREA,[ne.CONTACT]:de.CONTACT,[ne.DROPDOWN]:de.DROPDOWN,[ne.RADIO]:de.RADIO},pe={[ne.EMAIL]:"email-field",[ne.NUMERIC]:"numeric-field",[ne.CONTACT]:"contact-field",[ne.TEXT]:"short-text-field",[ne.TEXTAREA]:"long-text-field",[ne.DROPDOWN]:"select",[ne.RADIO]:"radio-field"},he={"Text field":{[ne.EMAIL]:{maxEntries:1,validationTypes:[ae.EMAIL_DOMAIN]},[ne.NUMERIC]:{maxEntries:3,validationTypes:[ae.WHOLE_NUMBERS,ae.MIN_VALUE,ae.MAX_VALUE]},[ne.TEXT]:{maxEntries:-1,validationTypes:[ae.CUSTOM_REGEX,ae.MIN_LENGTH,ae.MAX_LENGTH]},[ne.TEXTAREA]:{maxEntries:1,validationTypes:[ae.MAX_LENGTH]},[ne.CONTACT]:{maxEntries:1,validationTypes:[ae.CONTACT_NUMBER]}}},me={[ie.MORE_THAN]:"moreThan",[ie.LESS_THAN]:"lessThan",[ie.EQUALS]:"equals",[ie.NOT_EQUALS]:"notEquals"},ve={moreThan:ie.MORE_THAN,lessThan:ie.LESS_THAN,equals:ie.EQUALS,notEquals:ie.NOT_EQUALS};var ge;!function(e){e.generate=()=>Math.random().toString(36).substring(2,9)}(ge||(ge={}));const be=(e,t,n)=>{const r=new RegExp(n?`^${e}-copy(?:-(\\d+))?$`:`^${e}(?:-(\\d+))?$`);let i=n?0:-1;return t.forEach((e=>{const t=null==e?void 0:e.match(r);if(t){const e=t[1]?parseInt(t[1],10):n?1:0;i=Math.max(i,e)}})),n?`${e}-copy${i+1>1?`-${i+1}`:""}`:`${e}${i+1>0?`-${i+1}`:""}`},ye=e=>{let t;for(;!t||e.includes(t);)t=ge.generate();return t};var _e;!function(e){e.generate=(e,t,n)=>{const r={internalId:ye(t),type:e,id:be(pe[e],n,!1),required:!0,requiredErrorMsg:"This is a required field.",preselectedValue:"",description:"",label:fe[e],columns:{desktop:12,tablet:8,mobile:4},conditionalRendering:[],prefill:[]};switch(e){case ne.EMAIL:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case ne.NUMERIC:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case ne.TEXT:return Object.assign(Object.assign({},r),{placeholder:"",validation:[]});case ne.TEXTAREA:return Object.assign(Object.assign({},r),{placeholder:"",resizableInput:!1,pills:!1,validation:[]});case ne.DROPDOWN:return Object.assign(Object.assign({},r),{placeholder:"",dropdownItems:[{label:"",value:""},{label:"",value:""}]});case ne.CONTACT:return Object.assign(Object.assign({},r),{placeholder:"",enableClearButton:!0,defaultCountryCode:"",validation:[{validationType:ae.CONTACT_NUMBER,validationErrorMessage:"Invalid contact number."}]});case ne.RADIO:return Object.assign(Object.assign({},r),{placeholder:"",radioItems:[{label:"",value:""},{label:"",value:""}]});default:return null}},e.duplicate=(e,t,n)=>{const r=(e=>{const t=e.match(/^(.*?)(-copy(?:-\d+)?)?$/);return t?t[1]:e})(e.id),i=be(r,n,!0);return Object.assign(Object.assign({},e),{internalId:ye(t),id:i})}}(_e||(_e={}));const we=/^[a-zA-Z0-9_-]+$/,xe=/^[a-zA-Z0-9._-]+$/;var Ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Te,Ce,Ae={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Te=Ae,Ce=Ae.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",r="__lodash_placeholder__",i=16,a=32,o=64,s=128,l=256,u=1/0,c=9007199254740991,d=NaN,f=4294967295,p=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",i],["flip",512],["partial",a],["partialRight",o],["rearg",l]],h="[object Arguments]",m="[object Array]",v="[object Boolean]",g="[object Date]",b="[object Error]",y="[object Function]",_="[object GeneratorFunction]",w="[object Map]",x="[object Number]",E="[object Object]",O="[object Promise]",T="[object RegExp]",C="[object Set]",A="[object String]",S="[object Symbol]",j="[object WeakMap]",D="[object ArrayBuffer]",I="[object DataView]",k="[object Float32Array]",M="[object Float64Array]",N="[object Int8Array]",$="[object Int16Array]",R="[object Int32Array]",F="[object Uint8Array]",L="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]",P=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,H=RegExp(q.source),X=RegExp(W.source),G=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ne=/^\s+/,re=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['’]",Ie="["+_e+"]",ke="["+je+"]",Me="["+we+"]",Ne="\\d+",$e="["+xe+"]",Re="["+Oe+"]",Fe="[^"+_e+je+Ne+xe+Oe+Ae+"]",Le="\\ud83c[\\udffb-\\udfff]",Ve="[^"+_e+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Ae+"]",Ue="\\u200d",qe="(?:"+Re+"|"+Fe+")",We="(?:"+Be+"|"+Fe+")",He="(?:['’](?:d|ll|m|re|s|t|ve))?",Xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Me+"|"+Le+")?",Ze="["+Se+"]?",Ke=Ze+Ge+"(?:"+Ue+"(?:"+[Ve,ze,Pe].join("|")+")"+Ze+Ge+")*",Ye="(?:"+[$e,ze,Pe].join("|")+")"+Ke,Je="(?:"+[Ve+Me+"?",Me,ze,Pe,Ie].join("|")+")",Qe=RegExp(De,"g"),et=RegExp(Me,"g"),tt=RegExp(Le+"(?="+Le+")|"+Je+Ke,"g"),nt=RegExp([Be+"?"+Re+"+"+He+"(?="+[ke,Be,"$"].join("|")+")",We+"+"+Xe+"(?="+[ke,Be+qe,"$"].join("|")+")",Be+"?"+qe+"+"+He,Be+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ye].join("|"),"g"),rt=RegExp("["+Ue+_e+we+Se+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,st={};st[k]=st[M]=st[N]=st[$]=st[R]=st[F]=st[L]=st[V]=st[z]=!0,st[h]=st[m]=st[D]=st[v]=st[I]=st[g]=st[b]=st[y]=st[w]=st[x]=st[E]=st[T]=st[C]=st[A]=st[j]=!1;var lt={};lt[h]=lt[m]=lt[D]=lt[I]=lt[v]=lt[g]=lt[k]=lt[M]=lt[N]=lt[$]=lt[R]=lt[w]=lt[x]=lt[E]=lt[T]=lt[C]=lt[A]=lt[S]=lt[F]=lt[L]=lt[V]=lt[z]=!0,lt[b]=lt[y]=lt[j]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,dt=parseInt,ft="object"==typeof Ee&&Ee&&Ee.Object===Object&&Ee,pt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||pt||Function("return this")(),mt=Ce&&!Ce.nodeType&&Ce,vt=mt&&Te&&!Te.nodeType&&Te,gt=vt&&vt.exports===mt,bt=gt&&ft.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,xt=yt&&yt.isMap,Et=yt&&yt.isRegExp,Ot=yt&&yt.isSet,Tt=yt&&yt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function jt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function kt(e,t){return!(null==e||!e.length)&&Bt(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function $t(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Ht("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Pt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Pt(e,qt,n)}function Ut(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function qt(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:d}function Ht(t){return function(n){return null==n?e:n[t]}}function Xt(t){return function(n){return null==t?e:t[n]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Zt(t,n){for(var r,i=-1,a=t.length;++i<a;){var o=n(t[i]);o!==e&&(r=r===e?o:r+o)}return r}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,mn(e)+1).replace(ne,""):e}function Jt(e){return function(t){return e(t)}}function Qt(e,t){return Nt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}var rn=Xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function sn(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,i=e.length,a=0,o=[];++n<i;){var s=e[n];s!==t&&s!==r||(e[n]=r,o[a++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){for(var t=tt.lastIndex=0;tt.test(e);)++t;return t}(e):Vt(e)}function hn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var vn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function re(_e){var we,xe=(_e=null==_e?ht:gn.defaults(ht.Object(),_e,gn.pick(ht,at))).Array,Ee=_e.Date,Oe=_e.Error,Te=_e.Function,Ce=_e.Math,Ae=_e.Object,Se=_e.RegExp,je=_e.String,De=_e.TypeError,Ie=xe.prototype,ke=Te.prototype,Me=Ae.prototype,Ne=_e["__core-js_shared__"],$e=ke.toString,Re=Me.hasOwnProperty,Fe=0,Le=(we=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+we:"",Ve=Me.toString,ze=$e.call(Ae),Pe=ht._,Be=Se("^"+$e.call(Re).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=gt?_e.Buffer:e,qe=_e.Symbol,We=_e.Uint8Array,He=Ue?Ue.allocUnsafe:e,Xe=un(Ae.getPrototypeOf,Ae),Ge=Ae.create,Ze=Me.propertyIsEnumerable,Ke=Ie.splice,Ye=qe?qe.isConcatSpreadable:e,Je=qe?qe.iterator:e,tt=qe?qe.toStringTag:e,rt=function(){try{var e=fa(Ae,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=_e.clearTimeout!==ht.clearTimeout&&_e.clearTimeout,ft=Ee&&Ee.now!==ht.Date.now&&Ee.now,pt=_e.setTimeout!==ht.setTimeout&&_e.setTimeout,mt=Ce.ceil,vt=Ce.floor,bt=Ae.getOwnPropertySymbols,yt=Ue?Ue.isBuffer:e,Vt=_e.isFinite,Xt=Ie.join,bn=un(Ae.keys,Ae),yn=Ce.max,_n=Ce.min,wn=Ee.now,xn=_e.parseInt,En=Ce.random,On=Ie.reverse,Tn=fa(_e,"DataView"),Cn=fa(_e,"Map"),An=fa(_e,"Promise"),Sn=fa(_e,"Set"),jn=fa(_e,"WeakMap"),Dn=fa(Ae,"create"),In=jn&&new jn,kn={},Mn=La(Tn),Nn=La(Cn),$n=La(An),Rn=La(Sn),Fn=La(jn),Ln=qe?qe.prototype:e,Vn=Ln?Ln.valueOf:e,zn=Ln?Ln.toString:e;function Pn(e){if(ns(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Re.call(e,"__wrapped__"))return Va(e)}return new qn(e)}var Bn=function(){function t(){}return function(n){if(!ts(n))return{};if(Ge)return Ge(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function Un(){}function qn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Yn(e,t){var n=Wo(e),r=!n&&qo(e),i=!n&&!r&&Zo(e),a=!n&&!r&&!i&&cs(e),o=n||r||i||a,s=o?Kt(e.length,je):[],l=s.length;for(var u in e)!t&&!Re.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ya(u,l))||s.push(u);return s}function Jn(t){var n=t.length;return n?t[Zr(0,n-1)]:e}function Qn(e,t){return $a(Di(e),lr(t,0,e.length))}function er(e){return $a(Di(e))}function tr(t,n,r){(r!==e&&!Po(t[n],r)||r===e&&!(n in t))&&or(t,n,r)}function nr(t,n,r){var i=t[n];Re.call(t,n)&&Po(i,r)&&(r!==e||n in t)||or(t,n,r)}function rr(e,t){for(var n=e.length;n--;)if(Po(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Ii(t,ks(t),e)}function or(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(t,n){for(var r=-1,i=n.length,a=xe(i),o=null==t;++r<i;)a[r]=o?e:As(t,n[r]);return a}function lr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function ur(t,n,r,i,a,o){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),s!==e)return s;if(!ts(t))return t;var d=Wo(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Di(t,s)}else{var f=ma(t),p=f==y||f==_;if(Zo(t))return Oi(t,l);if(f==E||f==h||p&&!a){if(s=u||p?{}:ga(t),!l)return u?function(e,t){return Ii(e,ha(e),t)}(t,function(e,t){return e&&Ii(t,Ms(t),e)}(s,t)):function(e,t){return Ii(e,pa(e),t)}(t,ar(s,t))}else{if(!lt[f])return a?t:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case D:return Ti(e);case v:case g:return new i(+e);case I:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case k:case M:case N:case $:case R:case F:case L:case V:case z:return Ci(e,n);case w:return new i;case x:case A:return new i(e);case T:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new i;case S:return r=e,Vn?Ae(Vn.call(r)):{}}}(t,f,l)}}o||(o=new Kn);var m=o.get(t);if(m)return m;o.set(t,s),ss(t)?t.forEach((function(e){s.add(ur(e,n,r,e,t,o))})):rs(t)&&t.forEach((function(e,i){s.set(i,ur(e,n,r,i,t,o))}));var b=d?e:(c?u?aa:ia:u?Ms:ks)(t);return St(b||t,(function(e,i){b&&(e=t[i=e]),nr(s,i,ur(e,n,r,i,t,o))})),s}function cr(t,n,r){var i=r.length;if(null==t)return!i;for(t=Ae(t);i--;){var a=r[i],o=n[a],s=t[a];if(s===e&&!(a in t)||!o(s))return!1}return!0}function dr(n,r,i){if("function"!=typeof n)throw new De(t);return Ia((function(){n.apply(e,i)}),r)}function fr(e,t,n,r){var i=-1,a=kt,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Nt(t,Jt(n))),r?(a=Mt,o=!1):t.length>=200&&(a=en,o=!1,t=new Zn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}Pn.templateSettings={escape:G,evaluate:Z,interpolate:K,variable:"",imports:{_:Pn}},Pn.prototype=Un.prototype,Pn.prototype.constructor=Pn,qn.prototype=Bn(Un.prototype),qn.prototype.constructor=qn,Wn.prototype=Bn(Un.prototype),Wn.prototype.constructor=Wn,Hn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(t){var r=this.__data__;if(Dn){var i=r[t];return i===n?e:i}return Re.call(r,t)?r[t]:e},Hn.prototype.has=function(t){var n=this.__data__;return Dn?n[t]!==e:Re.call(n,t)},Hn.prototype.set=function(t,r){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Dn&&r===e?n:r,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Xn.prototype.get=function(t){var n=this.__data__,r=rr(n,t);return r<0?e:n[r][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Cn||Xn),string:new Hn}},Gn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ca(this,e).get(e)},Gn.prototype.has=function(e){return ca(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,n),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ni(wr),hr=Ni(xr,!0);function mr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(t,n,r){for(var i=-1,a=t.length;++i<a;){var o=t[i],s=n(o);if(null!=s&&(l===e?s==s&&!us(s):r(s,l)))var l=s,u=o}return u}function gr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?br(s,t-1,n,r,i):$t(i,s):r||(i[i.length]=s)}return i}var yr=$i(),_r=$i(!0);function wr(e,t){return e&&yr(e,t,ks)}function xr(e,t){return e&&_r(e,t,ks)}function Er(e,t){return It(t,(function(t){return Jo(e[t])}))}function Or(t,n){for(var r=0,i=(n=_i(n,t)).length;null!=t&&r<i;)t=t[Fa(n[r++])];return r&&r==i?t:e}function Tr(e,t,n){var r=t(e);return Wo(e)?r:$t(r,n(e))}function Cr(t){return null==t?t===e?"[object Undefined]":"[object Null]":tt&&tt in Ae(t)?function(t){var n=Re.call(t,tt),r=t[tt];try{t[tt]=e;var i=!0}catch(e){}var a=Ve.call(t);return i&&(n?t[tt]=r:delete t[tt]),a}(t):function(e){return Ve.call(e)}(t)}function Ar(e,t){return e>t}function Sr(e,t){return null!=e&&Re.call(e,t)}function jr(e,t){return null!=e&&t in Ae(e)}function Dr(t,n,r){for(var i=r?Mt:kt,a=t[0].length,o=t.length,s=o,l=xe(o),u=1/0,c=[];s--;){var d=t[s];s&&n&&(d=Nt(d,Jt(n))),u=_n(d.length,u),l[s]=!r&&(n||a>=120&&d.length>=120)?new Zn(s&&d):e}d=t[0];var f=-1,p=l[0];e:for(;++f<a&&c.length<u;){var h=d[f],m=n?n(h):h;if(h=r||0!==h?h:0,!(p?en(p,m):i(c,m,r))){for(s=o;--s;){var v=l[s];if(!(v?en(v,m):i(t[s],m,r)))continue e}p&&p.push(m),c.push(h)}}return c}function Ir(t,n,r){var i=null==(t=Sa(t,n=_i(n,t)))?t:t[Fa(Ka(n))];return null==i?e:Ct(i,t,r)}function kr(e){return ns(e)&&Cr(e)==h}function Mr(t,n,r,i,a){return t===n||(null==t||null==n||!ns(t)&&!ns(n)?t!=t&&n!=n:function(t,n,r,i,a,o){var s=Wo(t),l=Wo(n),u=s?m:ma(t),c=l?m:ma(n),d=(u=u==h?E:u)==E,f=(c=c==h?E:c)==E,p=u==c;if(p&&Zo(t)){if(!Zo(n))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Kn),s||cs(t)?na(t,n,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case v:case g:case x:return Po(+e,+t);case b:return e.name==t.name&&e.message==t.message;case T:case A:return e==t+"";case w:var s=ln;case C:var l=1&r;if(s||(s=dn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=na(s(e),s(t),r,i,a,o);return o.delete(e),c;case S:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}(t,n,u,r,i,a,o);if(!(1&r)){var y=d&&Re.call(t,"__wrapped__"),_=f&&Re.call(n,"__wrapped__");if(y||_){var O=y?t.value():t,j=_?n.value():n;return o||(o=new Kn),a(O,j,r,i,o)}}return!!p&&(o||(o=new Kn),function(t,n,r,i,a,o){var s=1&r,l=ia(t),u=l.length,c=ia(n),d=c.length;if(u!=d&&!s)return!1;for(var f=u;f--;){var p=l[f];if(!(s?p in n:Re.call(n,p)))return!1}var h=o.get(t),m=o.get(n);if(h&&m)return h==n&&m==t;var v=!0;o.set(t,n),o.set(n,t);for(var g=s;++f<u;){var b=t[p=l[f]],y=n[p];if(i)var _=s?i(y,b,p,n,t,o):i(b,y,p,t,n,o);if(!(_===e?b===y||a(b,y,r,i,o):_)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var w=t.constructor,x=n.constructor;w==x||!("constructor"in t)||!("constructor"in n)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return o.delete(t),o.delete(n),v}(t,n,r,i,a,o))}(t,n,r,i,Mr,a))}function Nr(t,n,r,i){var a=r.length,o=a,s=!i;if(null==t)return!o;for(t=Ae(t);a--;){var l=r[a];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<o;){var u=(l=r[a])[0],c=t[u],d=l[1];if(s&&l[2]){if(c===e&&!(u in t))return!1}else{var f=new Kn;if(i)var p=i(c,d,u,t,n,f);if(!(p===e?Mr(d,c,3,i,f):p))return!1}}return!0}function $r(e){return!(!ts(e)||(t=e,Le&&Le in t))&&(Jo(e)?Be:he).test(La(e));var t}function Rr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Wo(e)?Br(e[0],e[1]):Pr(e):pl(e)}function Fr(e){if(!Oa(e))return bn(e);var t=[];for(var n in Ae(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=Oa(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Vr(e,t){return e<t}function zr(e,t){var n=-1,r=Xo(e)?xe(e.length):[];return pr(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Pr(e){var t=da(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Br(t,n){return wa(t)&&Ta(n)?Ca(Fa(t),n):function(r){var i=As(r,t);return i===e&&i===n?Ss(r,t):Mr(n,i,3)}}function Ur(t,n,r,i,a){t!==n&&yr(n,(function(o,s){if(a||(a=new Kn),ts(o))!function(t,n,r,i,a,o,s){var l=ja(t,r),u=ja(n,r),c=s.get(u);if(c)tr(t,r,c);else{var d=o?o(l,u,r+"",t,n,s):e,f=d===e;if(f){var p=Wo(u),h=!p&&Zo(u),m=!p&&!h&&cs(u);d=u,p||h||m?Wo(l)?d=l:Go(l)?d=Di(l):h?(f=!1,d=Oi(u,!0)):m?(f=!1,d=Ci(u,!0)):d=[]:as(u)||qo(u)?(d=l,qo(l)?d=bs(l):ts(l)&&!Jo(l)||(d=ga(u))):f=!1}f&&(s.set(u,d),a(d,u,i,o,s),s.delete(u)),tr(t,r,d)}}(t,n,s,r,Ur,i,a);else{var l=i?i(ja(t,s),o,s+"",t,n,a):e;l===e&&(l=o),tr(t,s,l)}}),Ms)}function qr(t,n){var r=t.length;if(r)return ya(n+=n<0?r:0,r)?t[n]:e}function Wr(e,t,n){t=t.length?Nt(t,(function(e){return Wo(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=Nt(t,Jt(ua()));var i=zr(e,(function(e,n,i){var a=Nt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Ai(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Or(e,o);n(s,o)&&ei(a,_i(o,e),s)}return a}function Xr(e,t,n,r){var i=r?Ut:Bt,a=-1,o=t.length,s=e;for(e===t&&(t=Di(t)),n&&(s=Nt(e,Jt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Zr(e,t){return e+vt(En()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>c)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return ka(Aa(e,t,il),e+"")}function Jr(e){return Jn(Ps(e))}function Qr(e,t){var n=Ps(e);return $a(n,lr(t,0,n.length))}function ei(t,n,r,i){if(!ts(t))return t;for(var a=-1,o=(n=_i(n,t)).length,s=o-1,l=t;null!=l&&++a<o;){var u=Fa(n[a]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(a!=s){var d=l[u];(c=i?i(d,u,l):e)===e&&(c=ts(d)?d:ya(n[a+1])?[]:{})}nr(l,u,c),l=l[u]}return t}var ti=In?function(e,t){return In.set(e,t),e}:il,ni=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return $a(Ps(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=xe(i);++r<i;)a[r]=e[r+t];return a}function ai(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!us(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return si(e,t,il,n)}function si(t,n,r,i){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(n=r(n))!=n,l=null===n,u=us(n),c=n===e;a<o;){var d=vt((a+o)/2),f=r(t[d]),p=f!==e,h=null===f,m=f==f,v=us(f);if(s)var g=i||m;else g=c?m&&(i||p):l?m&&p&&(i||!h):u?m&&p&&!h&&(i||!v):!h&&!v&&(i?f<=n:f<n);g?a=d+1:o=d}return _n(o,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Po(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:us(e)?d:+e}function ci(e){if("string"==typeof e)return e;if(Wo(e))return Nt(e,ci)+"";if(us(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=kt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Mt;else if(a>=200){var u=t?null:Ki(e);if(u)return dn(u);o=!1,i=en,l=new Zn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function fi(e,t){return null==(e=Sa(e,t=_i(t,e)))||delete e[Fa(Ka(t))]}function pi(e,t,n,r){return ei(e,t,n(Or(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function mi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,$t([e],t.args))}),n)}function vi(e,t,n){var r=e.length;if(r<2)return r?di(e[0]):[];for(var i=-1,a=xe(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=fr(a[i]||o,e[s],t,n));return di(br(a,1),t,n)}function gi(t,n,r){for(var i=-1,a=t.length,o=n.length,s={};++i<a;){var l=i<o?n[i]:e;r(s,t[i],l)}return s}function bi(e){return Go(e)?e:[]}function yi(e){return"function"==typeof e?e:il}function _i(e,t){return Wo(e)?e:wa(e,t)?[e]:Ra(ys(e))}var wi=Yr;function xi(t,n,r){var i=t.length;return r=r===e?i:r,!n&&r>=i?t:ii(t,n,r)}var Ei=ut||function(e){return ht.clearTimeout(e)};function Oi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ci(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ai(t,n){if(t!==n){var r=t!==e,i=null===t,a=t==t,o=us(t),s=n!==e,l=null===n,u=n==n,c=us(n);if(!l&&!c&&!o&&t>n||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&t<n||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}function Si(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=yn(a-o,0),c=xe(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<o;)(d||i<a)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function ji(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=yn(a-s,0),d=xe(c+u),f=!r;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++o<s;)(f||i<a)&&(d[p+n[o]]=e[i++]);return d}function Di(e,t){var n=-1,r=e.length;for(t||(t=xe(r));++n<r;)t[n]=e[n];return t}function Ii(t,n,r,i){var a=!r;r||(r={});for(var o=-1,s=n.length;++o<s;){var l=n[o],u=i?i(r[l],t[l],l,r,t):e;u===e&&(u=t[l]),a?or(r,l,u):nr(r,l,u)}return r}function ki(e,t){return function(n,r){var i=Wo(n)?At:ir,a=t?t():{};return i(n,e,ua(r,2),a)}}function Mi(t){return Yr((function(n,r){var i=-1,a=r.length,o=a>1?r[a-1]:e,s=a>2?r[2]:e;for(o=t.length>3&&"function"==typeof o?(a--,o):e,s&&_a(r[0],r[1],s)&&(o=a<3?e:o,a=1),n=Ae(n);++i<a;){var l=r[i];l&&t(n,l,i,o)}return n}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Xo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ae(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function $i(e){return function(t,n,r){for(var i=-1,a=Ae(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Ri(t){return function(n){var r=sn(n=ys(n))?hn(n):e,i=r?r[0]:n.charAt(0),a=r?xi(r,1).join(""):n.slice(1);return i[t]()+a}}function Fi(e){return function(t){return Rt(Js(qs(t).replace(Qe,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Vi(t){return function(n,r,i){var a=Ae(n);if(!Xo(n)){var o=ua(r,3);n=ks(n),r=function(e){return o(a[e],e,a)}}var s=t(n,r,i);return s>-1?a[o?n[s]:s]:e}}function zi(n){return ra((function(r){var i=r.length,a=i,o=qn.prototype.thru;for(n&&r.reverse();a--;){var s=r[a];if("function"!=typeof s)throw new De(t);if(o&&!l&&"wrapper"==sa(s))var l=new qn([],!0)}for(a=l?a:i;++a<i;){var u=sa(s=r[a]),c="wrapper"==u?oa(s):e;l=c&&xa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[sa(c[0])].apply(l,c[3]):1==s.length&&xa(s)?l[u]():l.thru(s)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Wo(t))return l.plant(t).value();for(var n=0,a=i?r[n].apply(this,e):t;++n<i;)a=r[n].call(this,a);return a}}))}function Pi(t,n,r,i,a,o,l,u,c,d){var f=n&s,p=1&n,h=2&n,m=24&n,v=512&n,g=h?e:Li(t);return function s(){for(var b=arguments.length,y=xe(b),_=b;_--;)y[_]=arguments[_];if(m)var w=la(s),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,w);if(i&&(y=Si(y,i,a,m)),o&&(y=ji(y,o,l,m)),b-=x,m&&b<d){var E=cn(y,w);return Gi(t,n,Pi,s.placeholder,r,y,E,u,c,d-b)}var O=p?r:this,T=h?O[t]:t;return b=y.length,u?y=function(t,n){for(var r=t.length,i=_n(n.length,r),a=Di(t);i--;){var o=n[i];t[i]=ya(o,r)?a[o]:e}return t}(y,u):v&&b>1&&y.reverse(),f&&c<b&&(y.length=c),this&&this!==ht&&this instanceof s&&(T=g||Li(T)),T.apply(O,y)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Ui(t,n){return function(r,i){var a;if(r===e&&i===e)return n;if(r!==e&&(a=r),i!==e){if(a===e)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=ui(r),i=ui(i)),a=t(r,i)}return a}}function qi(e){return ra((function(t){return t=Nt(t,Jt(ua())),Yr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function Wi(t,n){var r=(n=n===e?" ":ci(n)).length;if(r<2)return r?Kr(n,t):n;var i=Kr(n,mt(t/pn(n)));return sn(n)?xi(hn(i),0,t).join(""):i.slice(0,t)}function Hi(t){return function(n,r,i){return i&&"number"!=typeof i&&_a(n,r,i)&&(r=i=e),n=hs(n),r===e?(r=n,n=0):r=hs(r),function(e,t,n,r){for(var i=-1,a=yn(mt((t-e)/(n||1)),0),o=xe(a);a--;)o[r?a:++i]=e,e+=n;return o}(n,r,i=i===e?n<r?1:-1:hs(i),t)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Gi(t,n,r,i,s,l,u,c,d,f){var p=8&n;n|=p?a:o,4&(n&=~(p?o:a))||(n&=-4);var h=[t,n,s,p?l:e,p?u:e,p?e:l,p?e:u,c,d,f],m=r.apply(e,h);return xa(t)&&Da(m,h),m.placeholder=i,Ma(m,t,n)}function Zi(e){var t=Ce[e];return function(e,n){if(e=gs(e),(n=null==n?0:_n(ms(n),292))&&Vt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=Sn&&1/dn(new Sn([,-0]))[1]==u?function(e){return new Sn(e)}:ul;function Yi(e){return function(t){var n=ma(t);return n==w?ln(t):n==C?fn(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(n,u,c,d,f,p,h,m){var v=2&u;if(!v&&"function"!=typeof n)throw new De(t);var g=d?d.length:0;if(g||(u&=-97,d=f=e),h=h===e?h:yn(ms(h),0),m=m===e?m:ms(m),g-=f?f.length:0,u&o){var b=d,y=f;d=f=e}var _=v?e:oa(n),w=[n,u,c,d,f,b,y,p,h,m];if(_&&function(e,t){var n=e[1],i=t[1],a=n|i,o=a<131,u=i==s&&8==n||i==s&&n==l&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!u)return e;1&i&&(e[2]=t[2],a|=1&n?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?Si(d,c,t[4]):c,e[4]=d?cn(e[3],r):t[4]}(c=t[5])&&(d=e[5],e[5]=d?ji(d,c,t[6]):c,e[6]=d?cn(e[5],r):t[6]),(c=t[7])&&(e[7]=c),i&s&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(w,_),n=w[0],u=w[1],c=w[2],d=w[3],f=w[4],!(m=w[9]=w[9]===e?v?0:n.length:yn(w[9]-g,0))&&24&u&&(u&=-25),u&&1!=u)x=8==u||u==i?function(t,n,r){var i=Li(t);return function a(){for(var o=arguments.length,s=xe(o),l=o,u=la(a);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:cn(s,u);return(o-=c.length)<r?Gi(t,n,Pi,a.placeholder,e,s,c,e,e,r-o):Ct(this&&this!==ht&&this instanceof a?i:t,this,s)}}(n,u,m):u!=a&&33!=u||f.length?Pi.apply(e,w):function(e,t,n,r){var i=1&t,a=Li(e);return function t(){for(var o=-1,s=arguments.length,l=-1,u=r.length,c=xe(u+s),d=this&&this!==ht&&this instanceof t?a:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++o];return Ct(d,i?n:this,c)}}(n,u,c,d);else var x=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(n,u,c);return Ma((_?ti:Da)(x,w),n,u)}function Qi(t,n,r,i){return t===e||Po(t,Me[r])&&!Re.call(i,r)?n:t}function ea(t,n,r,i,a,o){return ts(t)&&ts(n)&&(o.set(n,t),Ur(t,n,e,ea,o),o.delete(n)),t}function ta(t){return as(t)?e:t}function na(t,n,r,i,a,o){var s=1&r,l=t.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(t),d=o.get(n);if(c&&d)return c==n&&d==t;var f=-1,p=!0,h=2&r?new Zn:e;for(o.set(t,n),o.set(n,t);++f<l;){var m=t[f],v=n[f];if(i)var g=s?i(v,m,f,n,t,o):i(m,v,f,t,n,o);if(g!==e){if(g)continue;p=!1;break}if(h){if(!Lt(n,(function(e,t){if(!en(h,t)&&(m===e||a(m,e,r,i,o)))return h.push(t)}))){p=!1;break}}else if(m!==v&&!a(m,v,r,i,o)){p=!1;break}}return o.delete(t),o.delete(n),p}function ra(t){return ka(Aa(t,e,Wa),t+"")}function ia(e){return Tr(e,ks,pa)}function aa(e){return Tr(e,Ms,ha)}var oa=In?function(e){return In.get(e)}:ul;function sa(e){for(var t=e.name+"",n=kn[t],r=Re.call(kn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Re.call(Pn,"placeholder")?Pn:e).placeholder}function ua(){var e=Pn.iteratee||al;return e=e===al?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function da(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ta(i)]}return t}function fa(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return $r(r)?r:e}var pa=bt?function(e){return null==e?[]:(e=Ae(e),It(bt(e),(function(t){return Ze.call(e,t)})))}:vl,ha=bt?function(e){for(var t=[];e;)$t(t,pa(e)),e=Xe(e);return t}:vl,ma=Cr;function va(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&es(i)&&ya(o,i)&&(Wo(e)||qo(e))}function ga(e){return"function"!=typeof e.constructor||Oa(e)?{}:Bn(Xe(e))}function ba(e){return Wo(e)||qo(e)||!!(Ye&&e&&e[Ye])}function ya(e,t){var n=typeof e;return!!(t=null==t?c:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function _a(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Xo(n)&&ya(t,n.length):"string"==r&&t in n)&&Po(n[t],e)}function wa(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||J.test(e)||!Y.test(e)||null!=t&&e in Ae(t)}function xa(e){var t=sa(e),n=Pn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(Tn&&ma(new Tn(new ArrayBuffer(1)))!=I||Cn&&ma(new Cn)!=w||An&&ma(An.resolve())!=O||Sn&&ma(new Sn)!=C||jn&&ma(new jn)!=j)&&(ma=function(t){var n=Cr(t),r=n==E?t.constructor:e,i=r?La(r):"";if(i)switch(i){case Mn:return I;case Nn:return w;case $n:return O;case Rn:return C;case Fn:return j}return n});var Ea=Ne?Jo:gl;function Oa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Ta(e){return e==e&&!ts(e)}function Ca(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in Ae(r))}}function Aa(t,n,r){return n=yn(n===e?t.length-1:n,0),function(){for(var e=arguments,i=-1,a=yn(e.length-n,0),o=xe(a);++i<a;)o[i]=e[n+i];i=-1;for(var s=xe(n+1);++i<n;)s[i]=e[i];return s[n]=r(o),Ct(t,this,s)}}function Sa(e,t){return t.length<2?e:Or(e,ii(t,0,-1))}function ja(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Da=Na(ti),Ia=pt||function(e,t){return ht.setTimeout(e,t)},ka=Na(ni);function Ma(e,t,n){var r=t+"";return ka(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(p,(function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(oe):[]}(r),n)))}function Na(t){var n=0,r=0;return function(){var i=wn(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function $a(t,n){var r=-1,i=t.length,a=i-1;for(n=n===e?i:n;++r<n;){var o=Zr(r,a),s=t[o];t[o]=t[r],t[r]=s}return t.length=n,t}var Ra=function(e){var t=$o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t}));function Fa(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function La(e){if(null!=e){try{return $e.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Va(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Yr((function(e,t){return Go(e)?fr(e,br(t,1,Go,!0)):[]})),Pa=Yr((function(t,n){var r=Ka(n);return Go(r)&&(r=e),Go(t)?fr(t,br(n,1,Go,!0),ua(r,2)):[]})),Ba=Yr((function(t,n){var r=Ka(n);return Go(r)&&(r=e),Go(t)?fr(t,br(n,1,Go,!0),e,r):[]}));function Ua(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Pt(e,ua(t,3),i)}function qa(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return r!==e&&(a=ms(r),a=r<0?yn(i+a,0):_n(a,i-1)),Pt(t,ua(n,3),a,!0)}function Wa(e){return null!=e&&e.length?br(e,1):[]}function Ha(t){return t&&t.length?t[0]:e}var Xa=Yr((function(e){var t=Nt(e,bi);return t.length&&t[0]===e[0]?Dr(t):[]})),Ga=Yr((function(t){var n=Ka(t),r=Nt(t,bi);return n===Ka(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Dr(r,ua(n,2)):[]})),Za=Yr((function(t){var n=Ka(t),r=Nt(t,bi);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?Dr(r,e,n):[]}));function Ka(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Ya=Yr(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var Qa=ra((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Nt(t,(function(e){return ya(e,n)?+e:e})).sort(Ai)),r}));function eo(e){return null==e?e:On.call(e)}var to=Yr((function(e){return di(br(e,1,Go,!0))})),no=Yr((function(t){var n=Ka(t);return Go(n)&&(n=e),di(br(t,1,Go,!0),ua(n,2))})),ro=Yr((function(t){var n=Ka(t);return n="function"==typeof n?n:e,di(br(t,1,Go,!0),e,n)}));function io(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Go(e))return t=yn(e.length,t),!0})),Kt(t,(function(t){return Nt(e,Ht(t))}))}function ao(t,n){if(!t||!t.length)return[];var r=io(t);return null==n?r:Nt(r,(function(t){return Ct(n,e,t)}))}var oo=Yr((function(e,t){return Go(e)?fr(e,t):[]})),so=Yr((function(e){return vi(It(e,Go))})),lo=Yr((function(t){var n=Ka(t);return Go(n)&&(n=e),vi(It(t,Go),ua(n,2))})),uo=Yr((function(t){var n=Ka(t);return n="function"==typeof n?n:e,vi(It(t,Go),e,n)})),co=Yr(io),fo=Yr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,ao(t,r)}));function po(e){var t=Pn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var mo=ra((function(t){var n=t.length,r=n?t[0]:0,i=this.__wrapped__,a=function(e){return sr(e,t)};return!(n>1||this.__actions__.length)&&i instanceof Wn&&ya(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:ho,args:[a],thisArg:e}),new qn(i,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(a)})),vo=ki((function(e,t,n){Re.call(e,n)?++e[n]:or(e,n,1)})),go=Vi(Ua),bo=Vi(qa);function yo(e,t){return(Wo(e)?St:pr)(e,ua(t,3))}function _o(e,t){return(Wo(e)?jt:hr)(e,ua(t,3))}var wo=ki((function(e,t,n){Re.call(e,n)?e[n].push(t):or(e,n,[t])})),xo=Yr((function(e,t,n){var r=-1,i="function"==typeof t,a=Xo(e)?xe(e.length):[];return pr(e,(function(e){a[++r]=i?Ct(t,e,n):Ir(e,t,n)})),a})),Eo=ki((function(e,t,n){or(e,n,t)}));function Oo(e,t){return(Wo(e)?Nt:zr)(e,ua(t,3))}var To=ki((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Co=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_a(e,t[0],t[1])?t=[]:n>2&&_a(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,br(t,1),[])})),Ao=ft||function(){return ht.Date.now()};function So(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Ji(t,s,e,e,e,e,n)}function jo(n,r){var i;if("function"!=typeof r)throw new De(t);return n=ms(n),function(){return--n>0&&(i=r.apply(this,arguments)),n<=1&&(r=e),i}}var Do=Yr((function(e,t,n){var r=1;if(n.length){var i=cn(n,la(Do));r|=a}return Ji(e,r,t,n,i)})),Io=Yr((function(e,t,n){var r=3;if(n.length){var i=cn(n,la(Io));r|=a}return Ji(t,r,e,n,i)}));function ko(n,r,i){var a,o,s,l,u,c,d=0,f=!1,p=!1,h=!0;if("function"!=typeof n)throw new De(t);function m(t){var r=a,i=o;return a=o=e,d=t,l=n.apply(i,r)}function v(t){var n=t-c;return c===e||n>=r||n<0||p&&t-d>=s}function g(){var e=Ao();if(v(e))return b(e);u=Ia(g,function(e){var t=r-(e-c);return p?_n(t,s-(e-d)):t}(e))}function b(t){return u=e,h&&a?m(t):(a=o=e,l)}function y(){var t=Ao(),n=v(t);if(a=arguments,o=this,c=t,n){if(u===e)return function(e){return d=e,u=Ia(g,r),f?m(e):l}(c);if(p)return Ei(u),u=Ia(g,r),m(c)}return u===e&&(u=Ia(g,r)),l}return r=gs(r)||0,ts(i)&&(f=!!i.leading,s=(p="maxWait"in i)?yn(gs(i.maxWait)||0,r):s,h="trailing"in i?!!i.trailing:h),y.cancel=function(){u!==e&&Ei(u),d=0,a=c=o=u=e},y.flush=function(){return u===e?l:b(Ao())},y}var Mo=Yr((function(e,t){return dr(e,1,t)})),No=Yr((function(e,t,n){return dr(e,gs(t)||0,n)}));function $o(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new De(t);var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,t);return r.cache=a.set(i,o)||a,o};return r.cache=new($o.Cache||Gn),r}function Ro(e){if("function"!=typeof e)throw new De(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}$o.Cache=Gn;var Fo=wi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Nt(t[0],Jt(ua())):Nt(br(t,1),Jt(ua()))).length;return Yr((function(r){for(var i=-1,a=_n(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)}))})),Lo=Yr((function(t,n){var r=cn(n,la(Lo));return Ji(t,a,e,n,r)})),Vo=Yr((function(t,n){var r=cn(n,la(Vo));return Ji(t,o,e,n,r)})),zo=ra((function(t,n){return Ji(t,l,e,e,e,n)}));function Po(e,t){return e===t||e!=e&&t!=t}var Bo=Xi(Ar),Uo=Xi((function(e,t){return e>=t})),qo=kr(function(){return arguments}())?kr:function(e){return ns(e)&&Re.call(e,"callee")&&!Ze.call(e,"callee")},Wo=xe.isArray,Ho=_t?Jt(_t):function(e){return ns(e)&&Cr(e)==D};function Xo(e){return null!=e&&es(e.length)&&!Jo(e)}function Go(e){return ns(e)&&Xo(e)}var Zo=yt||gl,Ko=wt?Jt(wt):function(e){return ns(e)&&Cr(e)==g};function Yo(e){if(!ns(e))return!1;var t=Cr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Jo(e){if(!ts(e))return!1;var t=Cr(e);return t==y||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qo(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=xt?Jt(xt):function(e){return ns(e)&&ma(e)==w};function is(e){return"number"==typeof e||ns(e)&&Cr(e)==x}function as(e){if(!ns(e)||Cr(e)!=E)return!1;var t=Xe(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$e.call(n)==ze}var os=Et?Jt(Et):function(e){return ns(e)&&Cr(e)==T},ss=Ot?Jt(Ot):function(e){return ns(e)&&ma(e)==C};function ls(e){return"string"==typeof e||!Wo(e)&&ns(e)&&Cr(e)==A}function us(e){return"symbol"==typeof e||ns(e)&&Cr(e)==S}var cs=Tt?Jt(Tt):function(e){return ns(e)&&es(e.length)&&!!st[Cr(e)]},ds=Xi(Vr),fs=Xi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xo(e))return ls(e)?hn(e):Di(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=ma(e);return(t==w?ln:t==C?dn:Ps)(e)}function hs(e){return e?(e=gs(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?lr(ms(e),0,f):0}function gs(e){if("number"==typeof e)return e;if(us(e))return d;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=pe.test(e);return n||me.test(e)?dt(e.slice(2),n?2:8):fe.test(e)?d:+e}function bs(e){return Ii(e,Ms(e))}function ys(e){return null==e?"":ci(e)}var _s=Mi((function(e,t){if(Oa(t)||Xo(t))Ii(t,ks(t),e);else for(var n in t)Re.call(t,n)&&nr(e,n,t[n])})),ws=Mi((function(e,t){Ii(t,Ms(t),e)})),xs=Mi((function(e,t,n,r){Ii(t,Ms(t),e,r)})),Es=Mi((function(e,t,n,r){Ii(t,ks(t),e,r)})),Os=ra(sr),Ts=Yr((function(t,n){t=Ae(t);var r=-1,i=n.length,a=i>2?n[2]:e;for(a&&_a(n[0],n[1],a)&&(i=1);++r<i;)for(var o=n[r],s=Ms(o),l=-1,u=s.length;++l<u;){var c=s[l],d=t[c];(d===e||Po(d,Me[c])&&!Re.call(t,c))&&(t[c]=o[c])}return t})),Cs=Yr((function(t){return t.push(e,ea),Ct($s,e,t)}));function As(t,n,r){var i=null==t?e:Or(t,n);return i===e?r:i}function Ss(e,t){return null!=e&&va(e,t,jr)}var js=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),e[t]=n}),tl(il)),Ds=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Is=Yr(Ir);function ks(e){return Xo(e)?Yn(e):Fr(e)}function Ms(e){return Xo(e)?Yn(e,!0):Lr(e)}var Ns=Mi((function(e,t,n){Ur(e,t,n)})),$s=Mi((function(e,t,n,r){Ur(e,t,n,r)})),Rs=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Ii(e,aa(e),n),r&&(n=ur(n,7,ta));for(var i=t.length;i--;)fi(n,t[i]);return n})),Fs=ra((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ss(e,n)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var n=Nt(aa(e),(function(e){return[e]}));return t=ua(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Vs=Yi(ks),zs=Yi(Ms);function Ps(e){return null==e?[]:Qt(e,ks(e))}var Bs=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return Ys(ys(e).toLowerCase())}function qs(e){return(e=ys(e))&&e.replace(ge,rn).replace(et,"")}var Ws=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=Ri("toLowerCase"),Gs=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Zs=Fi((function(e,t,n){return e+(n?" ":"")+Ys(t)})),Ks=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=Ri("toUpperCase");function Js(t,n,r){return t=ys(t),(n=r?e:n)===e?function(e){return it.test(e)}(t)?function(e){return e.match(nt)||[]}(t):function(e){return e.match(se)||[]}(t):t.match(n)||[]}var Qs=Yr((function(t,n){try{return Ct(t,e,n)}catch(e){return Yo(e)?e:new Oe(e)}})),el=ra((function(e,t){return St(t,(function(t){t=Fa(t),or(e,t,Do(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=zi(),rl=zi(!0);function il(e){return e}function al(e){return Rr("function"==typeof e?e:ur(e,1))}var ol=Yr((function(e,t){return function(n){return Ir(n,e,t)}})),sl=Yr((function(e,t){return function(n){return Ir(e,n,t)}}));function ll(e,t,n){var r=ks(t),i=Er(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,ks(t)));var a=!(ts(n)&&"chain"in n&&!n.chain),o=Jo(e);return St(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,$t([this.value()],arguments))})})),e}function ul(){}var cl=qi(Nt),dl=qi(Dt),fl=qi(Lt);function pl(e){return wa(e)?Ht(Fa(e)):function(e){return function(t){return Or(t,e)}}(e)}var hl=Hi(),ml=Hi(!0);function vl(){return[]}function gl(){return!1}var bl,yl=Ui((function(e,t){return e+t}),0),_l=Zi("ceil"),wl=Ui((function(e,t){return e/t}),1),xl=Zi("floor"),El=Ui((function(e,t){return e*t}),1),Ol=Zi("round"),Tl=Ui((function(e,t){return e-t}),0);return Pn.after=function(e,n){if("function"!=typeof n)throw new De(t);return e=ms(e),function(){if(--e<1)return n.apply(this,arguments)}},Pn.ary=So,Pn.assign=_s,Pn.assignIn=ws,Pn.assignInWith=xs,Pn.assignWith=Es,Pn.at=Os,Pn.before=jo,Pn.bind=Do,Pn.bindAll=el,Pn.bindKey=Io,Pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Pn.chain=po,Pn.chunk=function(t,n,r){n=(r?_a(t,n,r):n===e)?1:yn(ms(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,o=0,s=xe(mt(i/n));a<i;)s[o++]=ii(t,a,a+=n);return s},Pn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=xe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return $t(Wo(n)?Di(n):[n],br(t,1))},Pn.cond=function(e){var n=null==e?0:e.length,r=ua();return e=n?Nt(e,(function(e){if("function"!=typeof e[1])throw new De(t);return[r(e[0]),e[1]]})):[],Yr((function(t){for(var r=-1;++r<n;){var i=e[r];if(Ct(i[0],this,t))return Ct(i[1],this,t)}}))},Pn.conforms=function(e){return function(e){var t=ks(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Pn.constant=tl,Pn.countBy=vo,Pn.create=function(e,t){var n=Bn(e);return null==t?n:ar(n,t)},Pn.curry=function t(n,r,i){var a=Ji(n,8,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},Pn.curryRight=function t(n,r,a){var o=Ji(n,i,e,e,e,e,e,r=a?e:r);return o.placeholder=t.placeholder,o},Pn.debounce=ko,Pn.defaults=Ts,Pn.defaultsDeep=Cs,Pn.defer=Mo,Pn.delay=No,Pn.difference=za,Pn.differenceBy=Pa,Pn.differenceWith=Ba,Pn.drop=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,(n=r||n===e?1:ms(n))<0?0:n,i):[]},Pn.dropRight=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,0,(n=i-(n=r||n===e?1:ms(n)))<0?0:n):[]},Pn.dropRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0,!0):[]},Pn.dropWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0):[]},Pn.fill=function(t,n,r,i){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&_a(t,n,r)&&(r=0,i=a),function(t,n,r,i){var a=t.length;for((r=ms(r))<0&&(r=-r>a?0:a+r),(i=i===e||i>a?a:ms(i))<0&&(i+=a),i=r>i?0:vs(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},Pn.filter=function(e,t){return(Wo(e)?It:gr)(e,ua(t,3))},Pn.flatMap=function(e,t){return br(Oo(e,t),1)},Pn.flatMapDeep=function(e,t){return br(Oo(e,t),u)},Pn.flatMapDepth=function(t,n,r){return r=r===e?1:ms(r),br(Oo(t,n),r)},Pn.flatten=Wa,Pn.flattenDeep=function(e){return null!=e&&e.length?br(e,u):[]},Pn.flattenDepth=function(t,n){return null!=t&&t.length?br(t,n=n===e?1:ms(n)):[]},Pn.flip=function(e){return Ji(e,512)},Pn.flow=nl,Pn.flowRight=rl,Pn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Pn.functions=function(e){return null==e?[]:Er(e,ks(e))},Pn.functionsIn=function(e){return null==e?[]:Er(e,Ms(e))},Pn.groupBy=wo,Pn.initial=function(e){return null!=e&&e.length?ii(e,0,-1):[]},Pn.intersection=Xa,Pn.intersectionBy=Ga,Pn.intersectionWith=Za,Pn.invert=js,Pn.invertBy=Ds,Pn.invokeMap=xo,Pn.iteratee=al,Pn.keyBy=Eo,Pn.keys=ks,Pn.keysIn=Ms,Pn.map=Oo,Pn.mapKeys=function(e,t){var n={};return t=ua(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Pn.mapValues=function(e,t){var n={};return t=ua(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Pn.matches=function(e){return Pr(ur(e,1))},Pn.matchesProperty=function(e,t){return Br(e,ur(t,1))},Pn.memoize=$o,Pn.merge=Ns,Pn.mergeWith=$s,Pn.method=ol,Pn.methodOf=sl,Pn.mixin=ll,Pn.negate=Ro,Pn.nthArg=function(e){return e=ms(e),Yr((function(t){return qr(t,e)}))},Pn.omit=Rs,Pn.omitBy=function(e,t){return Ls(e,Ro(ua(t)))},Pn.once=function(e){return jo(2,e)},Pn.orderBy=function(t,n,r,i){return null==t?[]:(Wo(n)||(n=null==n?[]:[n]),Wo(r=i?e:r)||(r=null==r?[]:[r]),Wr(t,n,r))},Pn.over=cl,Pn.overArgs=Fo,Pn.overEvery=dl,Pn.overSome=fl,Pn.partial=Lo,Pn.partialRight=Vo,Pn.partition=To,Pn.pick=Fs,Pn.pickBy=Ls,Pn.property=pl,Pn.propertyOf=function(t){return function(n){return null==t?e:Or(t,n)}},Pn.pull=Ya,Pn.pullAll=Ja,Pn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,ua(n,2)):e},Pn.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Xr(t,n,e,r):t},Pn.pullAt=Qa,Pn.range=hl,Pn.rangeRight=ml,Pn.rearg=zo,Pn.reject=function(e,t){return(Wo(e)?It:gr)(e,Ro(ua(t,3)))},Pn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ua(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Gr(e,i),n},Pn.rest=function(n,r){if("function"!=typeof n)throw new De(t);return Yr(n,r=r===e?r:ms(r))},Pn.reverse=eo,Pn.sampleSize=function(t,n,r){return n=(r?_a(t,n,r):n===e)?1:ms(n),(Wo(t)?Qn:Qr)(t,n)},Pn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Pn.setWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:ei(t,n,r,i)},Pn.shuffle=function(e){return(Wo(e)?er:ri)(e)},Pn.slice=function(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&_a(t,n,r)?(n=0,r=i):(n=null==n?0:ms(n),r=r===e?i:ms(r)),ii(t,n,r)):[]},Pn.sortBy=Co,Pn.sortedUniq=function(e){return e&&e.length?li(e):[]},Pn.sortedUniqBy=function(e,t){return e&&e.length?li(e,ua(t,2)):[]},Pn.split=function(t,n,r){return r&&"number"!=typeof r&&_a(t,n,r)&&(n=r=e),(r=r===e?f:r>>>0)?(t=ys(t))&&("string"==typeof n||null!=n&&!os(n))&&!(n=ci(n))&&sn(t)?xi(hn(t),0,r):t.split(n,r):[]},Pn.spread=function(e,n){if("function"!=typeof e)throw new De(t);return n=null==n?0:yn(ms(n),0),Yr((function(t){var r=t[n],i=xi(t,0,n);return r&&$t(i,r),Ct(e,this,i)}))},Pn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Pn.take=function(t,n,r){return t&&t.length?ii(t,0,(n=r||n===e?1:ms(n))<0?0:n):[]},Pn.takeRight=function(t,n,r){var i=null==t?0:t.length;return i?ii(t,(n=i-(n=r||n===e?1:ms(n)))<0?0:n,i):[]},Pn.takeRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!1,!0):[]},Pn.takeWhile=function(e,t){return e&&e.length?hi(e,ua(t,3)):[]},Pn.tap=function(e,t){return t(e),e},Pn.throttle=function(e,n,r){var i=!0,a=!0;if("function"!=typeof e)throw new De(t);return ts(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),ko(e,n,{leading:i,maxWait:n,trailing:a})},Pn.thru=ho,Pn.toArray=ps,Pn.toPairs=Vs,Pn.toPairsIn=zs,Pn.toPath=function(e){return Wo(e)?Nt(e,Fa):us(e)?[e]:Di(Ra(ys(e)))},Pn.toPlainObject=bs,Pn.transform=function(e,t,n){var r=Wo(e),i=r||Zo(e)||cs(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ts(e)&&Jo(a)?Bn(Xe(e)):{}}return(i?St:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Pn.unary=function(e){return So(e,1)},Pn.union=to,Pn.unionBy=no,Pn.unionWith=ro,Pn.uniq=function(e){return e&&e.length?di(e):[]},Pn.uniqBy=function(e,t){return e&&e.length?di(e,ua(t,2)):[]},Pn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?di(t,e,n):[]},Pn.unset=function(e,t){return null==e||fi(e,t)},Pn.unzip=io,Pn.unzipWith=ao,Pn.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Pn.updateWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:pi(t,n,yi(r),i)},Pn.values=Ps,Pn.valuesIn=function(e){return null==e?[]:Qt(e,Ms(e))},Pn.without=oo,Pn.words=Js,Pn.wrap=function(e,t){return Lo(yi(t),e)},Pn.xor=so,Pn.xorBy=lo,Pn.xorWith=uo,Pn.zip=co,Pn.zipObject=function(e,t){return gi(e||[],t||[],nr)},Pn.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},Pn.zipWith=fo,Pn.entries=Vs,Pn.entriesIn=zs,Pn.extend=ws,Pn.extendWith=xs,ll(Pn,Pn),Pn.add=yl,Pn.attempt=Qs,Pn.camelCase=Bs,Pn.capitalize=Us,Pn.ceil=_l,Pn.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=gs(r))==r?r:0),n!==e&&(n=(n=gs(n))==n?n:0),lr(gs(t),n,r)},Pn.clone=function(e){return ur(e,4)},Pn.cloneDeep=function(e){return ur(e,5)},Pn.cloneDeepWith=function(t,n){return ur(t,5,n="function"==typeof n?n:e)},Pn.cloneWith=function(t,n){return ur(t,4,n="function"==typeof n?n:e)},Pn.conformsTo=function(e,t){return null==t||cr(e,t,ks(t))},Pn.deburr=qs,Pn.defaultTo=function(e,t){return null==e||e!=e?t:e},Pn.divide=wl,Pn.endsWith=function(t,n,r){t=ys(t),n=ci(n);var i=t.length,a=r=r===e?i:lr(ms(r),0,i);return(r-=n.length)>=0&&t.slice(r,a)==n},Pn.eq=Po,Pn.escape=function(e){return(e=ys(e))&&X.test(e)?e.replace(W,an):e},Pn.escapeRegExp=function(e){return(e=ys(e))&&te.test(e)?e.replace(ee,"\\$&"):e},Pn.every=function(t,n,r){var i=Wo(t)?Dt:mr;return r&&_a(t,n,r)&&(n=e),i(t,ua(n,3))},Pn.find=go,Pn.findIndex=Ua,Pn.findKey=function(e,t){return zt(e,ua(t,3),wr)},Pn.findLast=bo,Pn.findLastIndex=qa,Pn.findLastKey=function(e,t){return zt(e,ua(t,3),xr)},Pn.floor=xl,Pn.forEach=yo,Pn.forEachRight=_o,Pn.forIn=function(e,t){return null==e?e:yr(e,ua(t,3),Ms)},Pn.forInRight=function(e,t){return null==e?e:_r(e,ua(t,3),Ms)},Pn.forOwn=function(e,t){return e&&wr(e,ua(t,3))},Pn.forOwnRight=function(e,t){return e&&xr(e,ua(t,3))},Pn.get=As,Pn.gt=Bo,Pn.gte=Uo,Pn.has=function(e,t){return null!=e&&va(e,t,Sr)},Pn.hasIn=Ss,Pn.head=Ha,Pn.identity=il,Pn.includes=function(e,t,n,r){e=Xo(e)?e:Ps(e),n=n&&!r?ms(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Pn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Bt(e,t,i)},Pn.inRange=function(t,n,r){return n=hs(n),r===e?(r=n,n=0):r=hs(r),function(e,t,n){return e>=_n(t,n)&&e<yn(t,n)}(t=gs(t),n,r)},Pn.invoke=Is,Pn.isArguments=qo,Pn.isArray=Wo,Pn.isArrayBuffer=Ho,Pn.isArrayLike=Xo,Pn.isArrayLikeObject=Go,Pn.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Cr(e)==v},Pn.isBuffer=Zo,Pn.isDate=Ko,Pn.isElement=function(e){return ns(e)&&1===e.nodeType&&!as(e)},Pn.isEmpty=function(e){if(null==e)return!0;if(Xo(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Zo(e)||cs(e)||qo(e)))return!e.length;var t=ma(e);if(t==w||t==C)return!e.size;if(Oa(e))return!Fr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Pn.isEqual=function(e,t){return Mr(e,t)},Pn.isEqualWith=function(t,n,r){var i=(r="function"==typeof r?r:e)?r(t,n):e;return i===e?Mr(t,n,e,r):!!i},Pn.isError=Yo,Pn.isFinite=function(e){return"number"==typeof e&&Vt(e)},Pn.isFunction=Jo,Pn.isInteger=Qo,Pn.isLength=es,Pn.isMap=rs,Pn.isMatch=function(e,t){return e===t||Nr(e,t,da(t))},Pn.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Nr(t,n,da(n),r)},Pn.isNaN=function(e){return is(e)&&e!=+e},Pn.isNative=function(e){if(Ea(e))throw new Oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $r(e)},Pn.isNil=function(e){return null==e},Pn.isNull=function(e){return null===e},Pn.isNumber=is,Pn.isObject=ts,Pn.isObjectLike=ns,Pn.isPlainObject=as,Pn.isRegExp=os,Pn.isSafeInteger=function(e){return Qo(e)&&e>=-9007199254740991&&e<=c},Pn.isSet=ss,Pn.isString=ls,Pn.isSymbol=us,Pn.isTypedArray=cs,Pn.isUndefined=function(t){return t===e},Pn.isWeakMap=function(e){return ns(e)&&ma(e)==j},Pn.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==Cr(e)},Pn.join=function(e,t){return null==e?"":Xt.call(e,t)},Pn.kebabCase=Ws,Pn.last=Ka,Pn.lastIndexOf=function(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i;return r!==e&&(a=(a=ms(r))<0?yn(i+a,0):_n(a,i-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(t,n,a):Pt(t,qt,a,!0)},Pn.lowerCase=Hs,Pn.lowerFirst=Xs,Pn.lt=ds,Pn.lte=fs,Pn.max=function(t){return t&&t.length?vr(t,il,Ar):e},Pn.maxBy=function(t,n){return t&&t.length?vr(t,ua(n,2),Ar):e},Pn.mean=function(e){return Wt(e,il)},Pn.meanBy=function(e,t){return Wt(e,ua(t,2))},Pn.min=function(t){return t&&t.length?vr(t,il,Vr):e},Pn.minBy=function(t,n){return t&&t.length?vr(t,ua(n,2),Vr):e},Pn.stubArray=vl,Pn.stubFalse=gl,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=El,Pn.nth=function(t,n){return t&&t.length?qr(t,ms(n)):e},Pn.noConflict=function(){return ht._===this&&(ht._=Pe),this},Pn.noop=ul,Pn.now=Ao,Pn.pad=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(mt(i),n)},Pn.padEnd=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},Pn.padStart=function(e,t,n){e=ys(e);var r=(t=ms(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Pn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ys(e).replace(ne,""),t||0)},Pn.random=function(t,n,r){if(r&&"boolean"!=typeof r&&_a(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=hs(t),n===e?(n=t,t=0):n=hs(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var a=En();return _n(t+a*(n-t+ct("1e-"+((a+"").length-1))),n)}return Zr(t,n)},Pn.reduce=function(e,t,n){var r=Wo(e)?Rt:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,pr)},Pn.reduceRight=function(e,t,n){var r=Wo(e)?Ft:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,hr)},Pn.repeat=function(t,n,r){return n=(r?_a(t,n,r):n===e)?1:ms(n),Kr(ys(t),n)},Pn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Pn.result=function(t,n,r){var i=-1,a=(n=_i(n,t)).length;for(a||(a=1,t=e);++i<a;){var o=null==t?e:t[Fa(n[i])];o===e&&(i=a,o=r),t=Jo(o)?o.call(t):o}return t},Pn.round=Ol,Pn.runInContext=re,Pn.sample=function(e){return(Wo(e)?Jn:Jr)(e)},Pn.size=function(e){if(null==e)return 0;if(Xo(e))return ls(e)?pn(e):e.length;var t=ma(e);return t==w||t==C?e.size:Fr(e).length},Pn.snakeCase=Gs,Pn.some=function(t,n,r){var i=Wo(t)?Lt:ai;return r&&_a(t,n,r)&&(n=e),i(t,ua(n,3))},Pn.sortedIndex=function(e,t){return oi(e,t)},Pn.sortedIndexBy=function(e,t,n){return si(e,t,ua(n,2))},Pn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Po(e[r],t))return r}return-1},Pn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Pn.sortedLastIndexBy=function(e,t,n){return si(e,t,ua(n,2),!0)},Pn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=oi(e,t,!0)-1;if(Po(e[n],t))return n}return-1},Pn.startCase=Zs,Pn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:lr(ms(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Pn.subtract=Tl,Pn.sum=function(e){return e&&e.length?Zt(e,il):0},Pn.sumBy=function(e,t){return e&&e.length?Zt(e,ua(t,2)):0},Pn.template=function(t,n,r){var i=Pn.templateSettings;r&&_a(t,n,r)&&(n=e),t=ys(t),n=xs({},n,i,Qi);var a,o,s=xs({},n.imports,i.imports,Qi),l=ks(s),u=Qt(s,l),c=0,d=n.interpolate||be,f="__p += '",p=Se((n.escape||be).source+"|"+d.source+"|"+(d===K?ce:be).source+"|"+(n.evaluate||be).source+"|$","g"),h="//# sourceURL="+(Re.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";t.replace(p,(function(e,n,r,i,s,l){return r||(r=i),f+=t.slice(c,l).replace(ye,on),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),f+="';\n";var m=Re.call(n,"variable")&&n.variable;if(m){if(le.test(m))throw new Oe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(P,""):f).replace(B,"$1").replace(U,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Qs((function(){return Te(l,h+"return "+f).apply(e,u)}));if(v.source=f,Yo(v))throw v;return v},Pn.times=function(e,t){if((e=ms(e))<1||e>c)return[];var n=f,r=_n(e,f);t=ua(t),e-=f;for(var i=Kt(r,t);++n<e;)t(n);return i},Pn.toFinite=hs,Pn.toInteger=ms,Pn.toLength=vs,Pn.toLower=function(e){return ys(e).toLowerCase()},Pn.toNumber=gs,Pn.toSafeInteger=function(e){return e?lr(ms(e),-9007199254740991,c):0===e?e:0},Pn.toString=ys,Pn.toUpper=function(e){return ys(e).toUpperCase()},Pn.trim=function(t,n,r){if((t=ys(t))&&(r||n===e))return Yt(t);if(!t||!(n=ci(n)))return t;var i=hn(t),a=hn(n);return xi(i,tn(i,a),nn(i,a)+1).join("")},Pn.trimEnd=function(t,n,r){if((t=ys(t))&&(r||n===e))return t.slice(0,mn(t)+1);if(!t||!(n=ci(n)))return t;var i=hn(t);return xi(i,0,nn(i,hn(n))+1).join("")},Pn.trimStart=function(t,n,r){if((t=ys(t))&&(r||n===e))return t.replace(ne,"");if(!t||!(n=ci(n)))return t;var i=hn(t);return xi(i,tn(i,hn(n))).join("")},Pn.truncate=function(t,n){var r=30,i="...";if(ts(n)){var a="separator"in n?n.separator:a;r="length"in n?ms(n.length):r,i="omission"in n?ci(n.omission):i}var o=(t=ys(t)).length;if(sn(t)){var s=hn(t);o=s.length}if(r>=o)return t;var l=r-pn(i);if(l<1)return i;var u=s?xi(s,0,l).join(""):t.slice(0,l);if(a===e)return u+i;if(s&&(l+=u.length-l),os(a)){if(t.slice(l).search(a)){var c,d=u;for(a.global||(a=Se(a.source,ys(de.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var f=c.index;u=u.slice(0,f===e?l:f)}}else if(t.indexOf(ci(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+i},Pn.unescape=function(e){return(e=ys(e))&&H.test(e)?e.replace(q,vn):e},Pn.uniqueId=function(e){var t=++Fe;return ys(e)+t},Pn.upperCase=Ks,Pn.upperFirst=Ys,Pn.each=yo,Pn.eachRight=_o,Pn.first=Ha,ll(Pn,(bl={},wr(Pn,(function(e,t){Re.call(Pn.prototype,t)||(bl[t]=e)})),bl),{chain:!1}),Pn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Pn[e].placeholder=Pn})),St(["drop","take"],(function(t,n){Wn.prototype[t]=function(r){r=r===e?1:yn(ms(r),0);var i=this.__filtered__&&!n?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=_n(r,i.__takeCount__):i.__views__.push({size:_n(r,f),type:t+(i.__dir__<0?"Right":"")}),i},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Ir(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ro(ua(e)))},Wn.prototype.slice=function(t,n){t=ms(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Wn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=ms(n))<0?r.dropRight(-n):r.take(n-t)),r)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(f)},wr(Wn.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),a=Pn[i?"take"+("last"==n?"Right":""):n],o=i||/^find/.test(n);a&&(Pn.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,l=n instanceof Wn,u=s[0],c=l||Wo(n),d=function(e){var t=a.apply(Pn,$t([e],s));return i&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=o&&!f,m=l&&!p;if(!o&&c){n=m?n:new Wn(this);var v=t.apply(n,s);return v.__actions__.push({func:ho,args:[d],thisArg:e}),new qn(v,f)}return h&&m?t.apply(this,s):(v=this.thru(d),h?i?v.value()[0]:v.value():v)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Pn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),wr(Wn.prototype,(function(e,t){var n=Pn[t];if(n){var r=n.name+"";Re.call(kn,r)||(kn[r]=[]),kn[r].push({name:t,func:n})}})),kn[Pi(e,2).name]=[{name:"wrapper",func:e}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=_n(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,p=_n(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return mi(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,v=e[u+=t];++m<d;){var g=c[m],b=g.iteratee,y=g.type,_=b(v);if(2==y)v=_;else if(!_){if(1==y)continue e;break e}}h[f++]=v}return h},Pn.prototype.at=mo,Pn.prototype.chain=function(){return po(this)},Pn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Pn.prototype.next=function(){this.__values__===e&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Pn.prototype.plant=function(t){for(var n,r=this;r instanceof Un;){var i=Va(r);i.__index__=0,i.__values__=e,n?a.__wrapped__=i:n=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,n},Pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var n=t;return this.__actions__.length&&(n=new Wn(this)),(n=n.reverse()).__actions__.push({func:ho,args:[eo],thisArg:e}),new qn(n,this.__chain__)}return this.thru(eo)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Je&&(Pn.prototype[Je]=function(){return this}),Pn}();vt?((vt.exports=gn)._=gn,mt._=gn):ht._=gn}.call(Ee);var Se=Ae.exports,je=Symbol.for("immer-nothing"),De=Symbol.for("immer-draftable"),Ie=Symbol.for("immer-state"),ke="production"!==process.env.NODE_ENV?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}]:[];function Me(e,...t){if("production"!==process.env.NODE_ENV){const n=ke[e],r="function"==typeof n?n.apply(null,t):n;throw new Error(`[Immer] ${r}`)}throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ne=Object.getPrototypeOf;function $e(e){return!!e&&!!e[Ie]}function Re(e){return!!e&&(Le(e)||Array.isArray(e)||!!e[De]||!!e.constructor?.[De]||Ue(e)||qe(e))}var Fe=Object.prototype.constructor.toString();function Le(e){if(!e||"object"!=typeof e)return!1;const t=Ne(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Fe}function Ve(e,t){0===ze(e)?Object.entries(e).forEach((([n,r])=>{t(n,r,e)})):e.forEach(((n,r)=>t(r,n,e)))}function ze(e){const t=e[Ie];return t?t.type_:Array.isArray(e)?1:Ue(e)?2:qe(e)?3:0}function Pe(e,t){return 2===ze(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Be(e,t,n){const r=ze(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ue(e){return e instanceof Map}function qe(e){return e instanceof Set}function We(e){return e.copy_||e.base_}function He(e,t){if(Ue(e))return new Map(e);if(qe(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Le(e)){if(!Ne(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[Ie];let r=Reflect.ownKeys(n);for(let t=0;t<r.length;t++){const i=r[t],a=n[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Ne(e),n)}function Xe(e,t=!1){return Ze(e)||$e(e)||!Re(e)||(ze(e)>1&&(e.set=e.add=e.clear=e.delete=Ge),Object.freeze(e),t&&Ve(e,((e,t)=>Xe(t,!0)))),e}function Ge(){Me(2)}function Ze(e){return Object.isFrozen(e)}var Ke,Ye={};function Je(e){const t=Ye[e];return t||Me(0,e),t}function Qe(){return Ke}function et(e,t){t&&(Je("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tt(e){nt(e),e.drafts_.forEach(it),e.drafts_=null}function nt(e){e===Ke&&(Ke=e.parent_)}function rt(e){return Ke={drafts_:[],parent_:Ke,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function it(e){const t=e[Ie];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function at(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Ie].modified_&&(tt(t),Me(4)),Re(e)&&(e=ot(t,e),t.parent_||lt(t,e)),t.patches_&&Je("Patches").generateReplacementPatches_(n[Ie].base_,e,t.patches_,t.inversePatches_)):e=ot(t,n,[]),tt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==je?e:void 0}function ot(e,t,n){if(Ze(t))return t;const r=t[Ie];if(!r)return Ve(t,((i,a)=>st(e,r,t,i,a,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return lt(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Ve(i,((i,o)=>st(e,r,t,i,o,n,a))),lt(e,t,!1),n&&e.patches_&&Je("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function st(e,t,n,r,i,a,o){if("production"!==process.env.NODE_ENV&&i===n&&Me(5),$e(i)){const o=ot(e,i,a&&t&&3!==t.type_&&!Pe(t.assigned_,r)?a.concat(r):void 0);if(Be(n,r,o),!$e(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Re(i)&&!Ze(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ot(e,i),t&&t.scope_.parent_||lt(e,i)}}function lt(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xe(t,n)}var ut={get(e,t){if(t===Ie)return e;const n=We(e);if(!Pe(n,t))return function(e,t,n){const r=ft(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Re(r)?r:r===dt(e.base_,t)?(ht(e),e.copy_[t]=mt(r,e)):r},has:(e,t)=>t in We(e),ownKeys:e=>Reflect.ownKeys(We(e)),set(e,t,n){const r=ft(We(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=dt(We(e),t),o=r?.[Ie];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||Pe(e.base_,t)))return!0;ht(e),pt(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==dt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ht(e),pt(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=We(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Me(11)},getPrototypeOf:e=>Ne(e.base_),setPrototypeOf(){Me(12)}},ct={};function dt(e,t){const n=e[Ie];return(n?We(n):e)[t]}function ft(e,t){if(!(t in e))return;let n=Ne(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ne(n)}}function pt(e){e.modified_||(e.modified_=!0,e.parent_&&pt(e.parent_))}function ht(e){e.copy_||(e.copy_=He(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ve(ut,((e,t)=>{ct[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ct.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&Me(13),ct.set.call(this,e,t,void 0)},ct.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&Me(14),ut.set.call(this,e[0],t,n,e[0])};function mt(e,t){const n=Ue(e)?Je("MapSet").proxyMap_(e,t):qe(e)?Je("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Qe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ut;n&&(i=[r],a=ct);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Qe()).drafts_.push(n),n}function vt(e){if(!Re(e)||Ze(e))return e;const t=e[Ie];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=He(e,t.scope_.immer_.useStrictShallowCopy_)}else n=He(e,!0);return Ve(n,((e,t)=>{Be(n,e,vt(t))})),t&&(t.finalized_=!1),n}var gt,bt,yt=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&Me(6),void 0!==n&&"function"!=typeof n&&Me(7),Re(e)){const i=rt(this),a=mt(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?tt(i):nt(i)}return et(i,n),at(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===je&&(r=void 0),this.autoFreeze_&&Xe(r,!0),n){const t=[],i=[];Je("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Me(1,e)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Re(e)||Me(8),$e(e)&&(e=function(e){$e(e)||Me(10,e);return vt(e)}(e));const t=rt(this),n=mt(e,void 0);return n[Ie].isManual_=!0,nt(t),n}finishDraft(e,t){const n=e&&e[Ie];n&&n.isManual_||Me(9);const{scope_:r}=n;return et(r,t),at(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Je("Patches").applyPatches_;return $e(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},_t=yt.produce;function wt(e,t,n){var r=i((function(){return _t(e)}),[e]);return a(r,t,n)}yt.produceWithPatches.bind(yt),yt.setAutoFreeze.bind(yt),yt.setUseStrictShallowCopy.bind(yt),yt.applyPatches.bind(yt),yt.createDraft.bind(yt),yt.finishDraft.bind(yt),function(e){e.ADD_ELEMENT="add-element",e.EDIT_ELEMENT="edit-element",e.EDIT_PAGES="edit-pages"}(gt||(gt={})),function(e){e.EMAIL_FIELD="email-field",e.NUMERIC_FIELD="numeric-field",e.TEXT_FIELD="text-field",e.CONTACT_FIELD="contact-field",e.TEXTAREA_FIELD="textarea-field"}(bt||(bt={}));const xt={mode:gt.ADD_ELEMENT,elements:{},focusedElement:null,showSidePanel:!0,orderedIdentifiers:[],deletedElements:{},elementCounter:0,selectedElementType:null,isSubmitting:!1},Et=(e,t)=>{switch(t.type){case"toggle-submitting":e.isSubmitting=t.payload;break;case"toggle-panel":e.showSidePanel=t.payload;break;case"toggle-mode":e.mode=t.payload;break;case"update-ordered-identifiers":e.orderedIdentifiers=t.payload;break;case"add-element":{const n=t.payload.element;e.elements[n.internalId]=n,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.elementCounter+=1;break}case"delete-element":case"undo-delete-element":e.elements=t.payload.updatedElements,e.orderedIdentifiers=t.payload.orderedIdentifiers,e.deletedElements=t.payload.deletedElements;break;case"focus-element":e.focusedElement=t.payload,e.selectedElementType=t.payload.element.type;break;case"remove-focused-element":e.focusedElement=null;break;case"update-element":{const n=e.focusedElement.element.internalId;e.elements=Object.assign(Object.assign({},e.elements),{[n]:Object.assign(Object.assign({},t.payload),{internalId:n})});break}case"update-focused-element":if(t.payload.element){const n=Object.assign(Object.assign({},t.payload.element),{internalId:e.focusedElement.element.internalId});e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty,element:n})}else e.focusedElement=Object.assign(Object.assign({},e.focusedElement),{isDirty:t.payload.isDirty});break;case"select-element-type":e.selectedElementType=t.payload;break;case"update-schema-element":e.elements=Object.assign({},t.payload.elements),e.orderedIdentifiers=t.payload.orderedIdentifiers}return e},Ot=o({state:xt,dispatch:Se.noop}),Tt=({children:t})=>{const[n,r]=wt(Et,xt);return e(Ot.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},Ct=()=>{const{state:e,dispatch:t}=s(Ot),n=l((e=>{t({type:"toggle-submitting",payload:e})}),[]),r=l((e=>{t({type:"toggle-panel",payload:e})}),[]),i=l((e=>{const n=[...e.map((e=>e.position))].sort(((e,t)=>e-t)),r=e.map(((e,t)=>Object.assign(Object.assign({},e),{position:n[t]})));t({type:"update-ordered-identifiers",payload:r})}),[]),a=l(((n,r)=>{const i=e.orderedIdentifiers.map((e=>e.internalId)),a=Object.values(e.elements).map((e=>e.id)),o=_e.generate(n,i,a),s=[...e.orderedIdentifiers,{internalId:o.internalId,position:e.elementCounter,size:"full"}];t({type:"add-element",payload:{element:o,orderedIdentifiers:s}}),r&&t({type:"focus-element",payload:{element:o,isDirty:!1}})}),[e.orderedIdentifiers,e.elements]),o=l((n=>{const r=e.orderedIdentifiers.find((e=>e.internalId===n.internalId)).size,i=e.orderedIdentifiers.map((e=>e.internalId)),a=Object.values(e.elements).map((e=>e.id)),o=_e.duplicate(n,i,a),s=[...e.orderedIdentifiers,{internalId:o.internalId,position:e.elementCounter,size:r}];t({type:"add-element",payload:{element:o,orderedIdentifiers:s}}),t({type:"focus-element",payload:{element:o,isDirty:!1}})}),[e.orderedIdentifiers]),u=l((n=>{const r=e.elements,i=n,a=r[i],o=le(r,["symbol"==typeof i?i:i+""]),s=e.orderedIdentifiers.find((e=>e.internalId===n)),l=e.orderedIdentifiers.filter((e=>e.internalId!==n)),u=Object.fromEntries(Object.entries(o).map((([e,t])=>{var r;return[e,Object.assign(Object.assign({},t),{conditionalRendering:null===(r=null==t?void 0:t.conditionalRendering)||void 0===r?void 0:r.filter((e=>e.internalId!==n))})]}))),c=Object.assign(Object.assign({},e.deletedElements),{[n]:{element:a,position:s.position,size:s.size}});t({type:"delete-element",payload:{updatedElements:u,orderedIdentifiers:l,deletedElements:c}}),null!==e.focusedElement&&(f(),p(gt.ADD_ELEMENT))}),[e.orderedIdentifiers,e.elements,e.mode,e.deletedElements,e.focusedElement]),c=l((n=>{const r=e.deletedElements[n];if(!r)return;const i=e.orderedIdentifiers;let a=i.findIndex((e=>e.position>r.position));-1===a&&(a=i.length);const o=[...i];o.splice(a,0,{internalId:n,position:r.position,size:r.size}),t({type:"undo-delete-element",payload:{updatedElements:Object.assign(Object.assign({},e.elements),{[n]:r.element}),orderedIdentifiers:o,deletedElements:Object.fromEntries(Object.entries(e.deletedElements).filter((([e])=>e!==n)))}})}),[e.deletedElements,e.orderedIdentifiers,e.elements]),d=l((e=>{t({type:"focus-element",payload:{element:e}})}),[]),f=l((()=>{t({type:"remove-focused-element"})}),[]),p=l((e=>{t({type:"toggle-mode",payload:e})}),[]),h=l((e=>{t({type:"update-element",payload:e})}),[]),m=l(((e,n,r)=>{t({type:"update-schema-element",payload:{elements:e,orderedIdentifiers:n}}),r&&(t({type:"remove-focused-element"}),t({type:"focus-element",payload:{element:r}}))}),[]),v=l(((e,n)=>{t({type:"update-focused-element",payload:{isDirty:e,element:n}})}),[]),g=l((e=>{t({type:"select-element-type",payload:e})}),[]);return{isSubmitting:e.isSubmitting,deletedElements:e.deletedElements,elements:e.elements,showSidePanel:e.showSidePanel,currentMode:e.mode,orderedIdentifiers:e.orderedIdentifiers,focusedElement:e.focusedElement,selectedElementType:e.selectedElementType,toggleSubmitting:n,togglePanel:r,toggleMode:p,updateOrderedIdentifiers:i,addElement:a,deleteElement:u,undoDeleteElement:c,focusElement:d,removeFocusedElement:f,updateElement:h,updateFocusedElement:v,duplicateElement:o,selectElementType:g,updateElementSchema:m}},At=o({}),St=({children:t,value:n})=>e(At.Provider,Object.assign({value:n||{}},{children:t})),jt=()=>s(At),Dt=(e,t)=>{var n;const{presetForm:r,elements:i}=jt(),a=null==i?void 0:i[fe[t]],o=null==a?void 0:a.isDisabled,s=null===(n=null==r?void 0:r[e])||void 0===n?void 0:n.isDisabled;return null!=o?o:s},It=(e,t)=>{var n,r,i,a;const{attributes:o,elements:s}=jt(),l=null===(n=null==e?void 0:e.element)||void 0===n?void 0:n.type,u=null===(r=null==s?void 0:s[fe[l]])||void 0===r?void 0:r.attributes,c=null===(i=null==u?void 0:u[t])||void 0===i?void 0:i.isDisabled,d=null===(a=null==o?void 0:o[t])||void 0===a?void 0:a.isDisabled;return null!=c?c:d},kt=(e,t)=>{var n,r,i,a,o;const{elements:s,attributes:l}=jt(),u=null==s?void 0:s[t];return null===(o=null!==(i=null===(r=null===(n=null==u?void 0:u.attributes)||void 0===n?void 0:n[e])||void 0===r?void 0:r.shouldShow)&&void 0!==i?i:null===(a=null==l?void 0:l[e])||void 0===a?void 0:a.shouldShow)||void 0===o||o},Mt=()=>{var e,t;const{attributes:n}=jt();return null===(t=null===(e=null==n?void 0:n.prefill)||void 0===e?void 0:e.shouldShow)||void 0===t||t};const Nt={toasts:[],modals:[]},$t=(e,t)=>{switch(t.type){case"set-modal":e.modals=[t.payload];break;case"show-toast":e.toasts=[...e.toasts,t.payload];break;case"dismiss-toast":{const n=[...e.toasts].filter((e=>e.id!==t.payload));e.toasts=n;break}case"hide-modal":e=Object.assign(Object.assign({},e),{modals:t.payload?e.modals.filter((e=>e.type!==t.payload)):[]})}return e},Rt=o({state:Nt,dispatch:Oe((function(){}))}),Ft=({children:t})=>{const[n,r]=wt($t,Nt);return e(Rt.Provider,Object.assign({value:{state:n,dispatch:r}},{children:t}))},Lt=()=>{const{state:e,dispatch:t}=s(Rt);return{showToast:l((e=>{const n=ge.generate();t({type:"show-toast",payload:Object.assign(Object.assign({},e),{id:n})})}),[t,e.toasts]),dismissToast:l((e=>{t({type:"dismiss-toast",payload:e})}),[]),toasts:e.toasts}};var Vt,zt;!function(e){e.DELETE_ELEMENT_TOAST="delete-element-toast",e.SUCCESS_TOAST="success-toast"}(Vt||(Vt={})),function(e){e.DiscardChanges="discard-changes",e.BulkEdit="bulk-edit",e.ResetFields="reset-fields"}(zt||(zt={}));const Pt=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M3.33333 9.16667C3.09722 9.16667 2.89931 9.08681 2.73958 8.92708C2.57986 8.76736 2.5 8.56944 2.5 8.33333V3.33333C2.5 3.09722 2.57986 2.89931 2.73958 2.73958C2.89931 2.57986 3.09722 2.5 3.33333 2.5H8.33333C8.56944 2.5 8.76736 2.57986 8.92708 2.73958C9.08681 2.89931 9.16667 3.09722 9.16667 3.33333V8.33333C9.16667 8.56944 9.08681 8.76736 8.92708 8.92708C8.76736 9.08681 8.56944 9.16667 8.33333 9.16667H3.33333ZM11.6667 9.16667C11.4306 9.16667 11.2326 9.08681 11.0729 8.92708C10.9132 8.76736 10.8333 8.56944 10.8333 8.33333V3.33333C10.8333 3.09722 10.9132 2.89931 11.0729 2.73958C11.2326 2.57986 11.4306 2.5 11.6667 2.5H16.6667C16.9028 2.5 17.1007 2.57986 17.2604 2.73958C17.4201 2.89931 17.5 3.09722 17.5 3.33333V8.33333C17.5 8.56944 17.4201 8.76736 17.2604 8.92708C17.1007 9.08681 16.9028 9.16667 16.6667 9.16667H11.6667ZM3.33333 17.5C3.09722 17.5 2.89931 17.4201 2.73958 17.2604C2.57986 17.1007 2.5 16.9028 2.5 16.6667V11.6667C2.5 11.4306 2.57986 11.2326 2.73958 11.0729C2.89931 10.9132 3.09722 10.8333 3.33333 10.8333H8.33333C8.56944 10.8333 8.76736 10.9132 8.92708 11.0729C9.08681 11.2326 9.16667 11.4306 9.16667 11.6667V16.6667C9.16667 16.9028 9.08681 17.1007 8.92708 17.2604C8.76736 17.4201 8.56944 17.5 8.33333 17.5H3.33333ZM14.1667 17.5C13.9306 17.5 13.7326 17.4201 13.5729 17.2604C13.4132 17.1007 13.3333 16.9028 13.3333 16.6667V15H11.6458C11.4097 15 11.2153 14.9201 11.0625 14.7604C10.9097 14.6007 10.8333 14.4028 10.8333 14.1667C10.8333 13.9306 10.9132 13.7326 11.0729 13.5729C11.2326 13.4132 11.4306 13.3333 11.6667 13.3333H13.3333V11.6458C13.3333 11.4097 13.4132 11.2153 13.5729 11.0625C13.7326 10.9097 13.9306 10.8333 14.1667 10.8333C14.4028 10.8333 14.6007 10.9132 14.7604 11.0729C14.9201 11.2326 15 11.4306 15 11.6667V13.3333H16.6875C16.9236 13.3333 17.1181 13.4132 17.2708 13.5729C17.4236 13.7326 17.5 13.9306 17.5 14.1667C17.5 14.4028 17.4201 14.6007 17.2604 14.7604C17.1007 14.9201 16.9028 15 16.6667 15H15V16.6875C15 16.9236 14.9201 17.1181 14.7604 17.2708C14.6007 17.4236 14.4028 17.5 14.1667 17.5ZM12.5 4.16667V7.5H15.8333V4.16667H12.5ZM4.16667 4.16667V7.5H7.5V4.16667H4.16667ZM4.16667 12.5V15.8333H7.5V12.5H4.16667Z",fill:"currentColor"})}));Pt.displayName="AddElementIcon";const Bt=n=>t("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[e("mask",Object.assign({id:"path-1-inside-1_6699_38328",fill:"white"},{children:e("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1"})})),e("rect",{x:"2",y:"4.5",width:"22",height:"12",rx:"1",stroke:"currentColor",strokeWidth:"4",mask:"url(#path-1-inside-1_6699_38328)"}),e("rect",{x:"2",y:"19.5",width:"22",height:"2",rx:"1",fill:"currentColor"})]}));Bt.displayName="BottomPositionIcon";const Ut=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M3.33333 15C3.09722 15 2.89931 14.9201 2.73958 14.7604C2.57986 14.6007 2.5 14.4028 2.5 14.1667C2.5 13.9306 2.57986 13.7326 2.73958 13.5729C2.89931 13.4132 3.09722 13.3333 3.33333 13.3333H11.6667C11.9028 13.3333 12.1007 13.4132 12.2604 13.5729C12.4201 13.7326 12.5 13.9306 12.5 14.1667C12.5 14.4028 12.4201 14.6007 12.2604 14.7604C12.1007 14.9201 11.9028 15 11.6667 15H3.33333ZM3.33333 10.8333C3.09722 10.8333 2.89931 10.7535 2.73958 10.5938C2.57986 10.434 2.5 10.2361 2.5 10C2.5 9.76389 2.57986 9.56597 2.73958 9.40625C2.89931 9.24653 3.09722 9.16667 3.33333 9.16667H16.6667C16.9028 9.16667 17.1007 9.24653 17.2604 9.40625C17.4201 9.56597 17.5 9.76389 17.5 10C17.5 10.2361 17.4201 10.434 17.2604 10.5938C17.1007 10.7535 16.9028 10.8333 16.6667 10.8333H3.33333ZM3.33333 6.66667C3.09722 6.66667 2.89931 6.58681 2.73958 6.42708C2.57986 6.26736 2.5 6.06944 2.5 5.83333C2.5 5.59722 2.57986 5.39931 2.73958 5.23958C2.89931 5.07986 3.09722 5 3.33333 5H16.6667C16.9028 5 17.1007 5.07986 17.2604 5.23958C17.4201 5.39931 17.5 5.59722 17.5 5.83333C17.5 6.06944 17.4201 6.26736 17.2604 6.42708C17.1007 6.58681 16.9028 6.66667 16.6667 6.66667H3.33333Z",fill:"currentColor"})}));Ut.displayName="LongTextIcon";const qt=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M7.49939 13.3334L6.81189 16.0625C6.77022 16.2431 6.67994 16.3889 6.54105 16.5C6.40216 16.6112 6.2355 16.6667 6.04105 16.6667C5.77716 16.6667 5.56189 16.5625 5.39522 16.3542C5.22855 16.1459 5.17994 15.9167 5.24939 15.6667L5.83272 13.3334H3.56189C3.28411 13.3334 3.06189 13.2257 2.89522 13.0105C2.72855 12.7952 2.67994 12.5556 2.74939 12.2917C2.79105 12.0973 2.88828 11.9445 3.04105 11.8334C3.19383 11.7223 3.36744 11.6667 3.56189 11.6667H6.24939L7.08272 8.33337H4.81189C4.53411 8.33337 4.31189 8.22574 4.14522 8.01046C3.97855 7.79518 3.92994 7.5556 3.99939 7.29171C4.04105 7.09726 4.13828 6.94449 4.29105 6.83337C4.44383 6.72226 4.61744 6.66671 4.81189 6.66671H7.49939L8.18689 3.93754C8.22855 3.75699 8.31883 3.61115 8.45772 3.50004C8.59661 3.38893 8.76328 3.33337 8.95772 3.33337C9.22161 3.33337 9.43689 3.43754 9.60355 3.64587C9.77022 3.85421 9.81883 4.08337 9.74939 4.33337L9.16605 6.66671H12.4994L13.1869 3.93754C13.2286 3.75699 13.3188 3.61115 13.4577 3.50004C13.5966 3.38893 13.7633 3.33337 13.9577 3.33337C14.2216 3.33337 14.4369 3.43754 14.6036 3.64587C14.7702 3.85421 14.8188 4.08337 14.7494 4.33337L14.1661 6.66671H16.4369C16.7147 6.66671 16.9369 6.77435 17.1036 6.98962C17.2702 7.2049 17.3188 7.44449 17.2494 7.70837C17.2077 7.90282 17.1105 8.0556 16.9577 8.16671C16.8049 8.27782 16.6313 8.33337 16.4369 8.33337H13.7494L12.9161 11.6667H15.1869C15.4647 11.6667 15.6869 11.7743 15.8536 11.9896C16.0202 12.2049 16.0688 12.4445 15.9994 12.7084C15.9577 12.9028 15.8605 13.0556 15.7077 13.1667C15.5549 13.2778 15.3813 13.3334 15.1869 13.3334H12.4994L11.8119 16.0625C11.7702 16.2431 11.6799 16.3889 11.5411 16.5C11.4022 16.6112 11.2355 16.6667 11.0411 16.6667C10.7772 16.6667 10.5619 16.5625 10.3952 16.3542C10.2286 16.1459 10.1799 15.9167 10.2494 15.6667L10.8327 13.3334H7.49939ZM7.91605 11.6667H11.2494L12.0827 8.33337H8.74939L7.91605 11.6667Z",fill:"currentColor"})}));qt.displayName="NumbersIcon";const Wt=t=>e("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:e("path",{d:"M4.16732 12.5C3.93121 12.5 3.73329 12.4201 3.57357 12.2604C3.41385 12.1007 3.33398 11.9028 3.33398 11.6667C3.33398 11.4306 3.41385 11.2326 3.57357 11.0729C3.73329 10.9132 3.93121 10.8333 4.16732 10.8333H10.834C11.0701 10.8333 11.268 10.9132 11.4277 11.0729C11.5875 11.2326 11.6673 11.4306 11.6673 11.6667C11.6673 11.9028 11.5875 12.1007 11.4277 12.2604C11.268 12.4201 11.0701 12.5 10.834 12.5H4.16732ZM4.16732 9.16667C3.93121 9.16667 3.73329 9.08681 3.57357 8.92708C3.41385 8.76736 3.33398 8.56944 3.33398 8.33333C3.33398 8.09722 3.41385 7.89931 3.57357 7.73958C3.73329 7.57986 3.93121 7.5 4.16732 7.5H15.834C16.0701 7.5 16.268 7.57986 16.4277 7.73958C16.5875 7.89931 16.6673 8.09722 16.6673 8.33333C16.6673 8.56944 16.5875 8.76736 16.4277 8.92708C16.268 9.08681 16.0701 9.16667 15.834 9.16667H4.16732Z",fill:"currentColor"})}));Wt.displayName="ShortTextIcon";const Ht=n=>t("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{children:[e("rect",{x:"2",y:"4.5",width:"22",height:"2",rx:"1",fill:"currentColor"}),e("mask",Object.assign({id:"path-2-inside-1_6699_38329",fill:"white"},{children:e("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1"})})),e("rect",{x:"2",y:"9.5",width:"22",height:"12",rx:"1",stroke:"currentColor",fill:"white",strokeWidth:"4",mask:"url(#path-2-inside-1_6699_38329)"})]}));Ht.displayName="TopPositionIcon";const Xt=g.div`
    width: 2rem;
    height: 2rem;
    display: grid;
    place-items: center;
    border-radius: 0.4rem;
    background: ${v.Accent.Light[5]};

    svg {
        color: ${v.Accent.Light[2]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,Gt=({elementType:t})=>{let n;switch(t){case ne.EMAIL:n=e(w,{});break;case ne.CONTACT:n=e(x,{});break;case ne.NUMERIC:n=e(qt,{});break;case ne.TEXT:n=e(Wt,{});break;case ne.TEXTAREA:n=e(Ut,{});break;case ne.DROPDOWN:n=e(y,{});break;case ne.RADIO:n=e(_,{})}return e(Xt,{children:n})},Zt=g.button`
    padding: 1rem; // Increase hit zone
    border: none;
    background: transparent;
    cursor: pointer;

    :hover {
        box-shadow: none;
    }

    :focus {
        outline-color: ${v.Primary};
    }

    svg {
        width: ${({$iconSize:e})=>e};
        height: ${({$iconSize:e})=>e};
        color: ${({$iconColor:e})=>e};
        margin-bottom: -5px; // Tweak to align to label
    }
`,Kt=g.button`
    background: none;
    border: none;
    margin-top: 0.625rem;
    svg {
        color: ${({disabled:e})=>e?v.Neutral[3]:v.Accent.Light[1]};
        width: 1.625rem;
        height: 1.625rem;
        cursor: ${({disabled:e})=>e?"not-allowed":"pointer"};
    }
`,Yt=({onClick:t,disabled:n,popoverMessage:r})=>{const i=e(Kt,Object.assign({type:"button",disabled:n,"data-testid":"delete-button",onClick:n?void 0:t},{children:e(O,{})}));return n?e(E,Object.assign({popoverContent:r,trigger:"hover",position:"bottom-end","data-testid":"delete-button-popover"},{children:i})):i},Jt=g.div`
    background: ${v.Neutral[7]};
    display: flex;
    flex: 1;
    width: 100%;
    align-items: center;
    margin-bottom: 2rem;
    padding-right: 1rem;
`,Qt=g.div`
    padding: 1rem;
    flex: 1;
`,en=({onDelete:n,children:r})=>t(Jt,{children:[e(Qt,{children:r}),e(Yt,{onClick:n,"data-testid":"delete-button"})]}),tn=g(C.Body)`
    margin-bottom: 2rem;
`,nn=g(S.Item)`
    width: 100%;
    border-top: 0;
    border-bottom: 1px solid ${v.Neutral[6]};
    padding-bottom: ${({$hasSubtitle:e})=>e?"0.5rem":"0"};

    #content-container {
        padding: 0;
    }

    ${tn} {
        font-size: 0.875rem !important;
    }

    [data-testid="accordion-item-expandable-container"] {
        padding: 0 1rem;
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin-right: 0.1rem;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hasSubtitle:e})=>e?"1rem 0 0.5rem 1rem":"1rem 0 1rem 1rem"};
    }
`,rn=g(j.Default)`
    width: 100%;
    margin: 1rem 0;
`,an=({title:r,buttonLabel:i,onAdd:a,children:o,disabledButton:s,popoverMessage:l,subtitle:u,expanded:c,hideAddButton:d})=>e(nn,Object.assign({title:r,$hasSubtitle:!!u,expanded:c},{children:t(n,{children:[u&&e(tn,{children:u}),o,!d&&(s&&l?e(E,Object.assign({popoverContent:l,trigger:"hover","data-testid":"add-button-popover"},{children:e(rn,Object.assign({icon:e(T,{}),styleType:"light",onClick:a,role:"button",disabled:s,type:"button"},{children:"Add "+i}))})):e(rn,Object.assign({icon:e(T,{}),styleType:"light",onClick:a,role:"button",disabled:s,type:"button"},{children:"Add "+i})))]})})),on=({toast:t})=>{const{dismissToast:n,showToast:r}=Lt(),{undoDeleteElement:i}=Ct(),a=e=>{n(e)},o=()=>{i(t.elementInternalId),a(t.id);const e=Object.assign(Object.assign({},t),{type:Vt.SUCCESS_TOAST,message:"Deleted element reverted."});r(e)};switch(t.type){case Vt.SUCCESS_TOAST:return e(D,{type:"success",label:t.message,autoDismiss:!0,fixed:!1,onDismiss:()=>a(t.id)});case Vt.DELETE_ELEMENT_TOAST:return e(D,{type:"success",label:t.message,autoDismiss:!0,autoDismissTime:7e3,fixed:!1,onDismiss:()=>a(t.id),actionButton:{label:"Undo",onClick:o}});default:return console.error("Unable to render toast required."),null}},sn=g.div`
    position: fixed;
    top: 1rem;
    right: 3rem;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 1rem;
`,ln=()=>{const{toasts:t}=Lt();return e(sn,{children:t.map((t=>e(on,{toast:t},t.id)))})},un=()=>{const{state:e,dispatch:t}=s(Rt),{showToast:n}=Lt(),r=l((e=>{t({type:"set-modal",payload:e})}),[t]),i=l((e=>t({type:"hide-modal",payload:e})),[t]),a=l((()=>{const e={message:"Changes discarded.",type:Vt.SUCCESS_TOAST};t({type:"hide-modal",payload:zt.DiscardChanges}),n(e)}),[]);return{modals:e.modals,showModal:r,hideModal:i,discardChanges:a}},cn=g(k.Box)`
    width: 100%;
    max-width: 42rem;

    /* to grow with content */
    height: auto;
    max-height: none;

    margin: auto;
`,dn=g.div`
    margin: 4rem;
    text-align: center;

    ${I.MaxWidth.mobileL} {
        margin: 4rem 1.25rem;
    }
`,fn=g.div`
    margin: auto;
    padding: 5rem 1.25rem;
    width: 100%;

    ${I.MaxWidth.mobileL} {
        padding: 1rem 1.25rem;
    }
`,pn=t=>{var{type:n,onClose:r,children:i}=t,a=le(t,["type","onClose","children"]);const{hideModal:o}=un();return e(fn,{children:e(cn,Object.assign({onClose:null!=r?r:()=>{o(n)}},a,{children:e(dn,Object.assign({"data-testid":"modal-content"},{children:i}))}))})};var hn=e=>"checkbox"===e.type,mn=e=>e instanceof Date,vn=e=>null==e;const gn=e=>"object"==typeof e;var bn=e=>!vn(e)&&!Array.isArray(e)&&gn(e)&&!mn(e),yn=e=>bn(e)&&e.target?hn(e.target)?e.target.checked:e.target.value:e,_n=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),wn=e=>{const t=e.constructor&&e.constructor.prototype;return bn(t)&&t.hasOwnProperty("isPrototypeOf")},xn="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function En(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(xn&&(e instanceof Blob||e instanceof FileList)||!n&&!bn(e))return e;if(t=n?[]:{},n||wn(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=En(e[n]));else t=e}return t}var On=e=>Array.isArray(e)?e.filter(Boolean):[],Tn=e=>void 0===e,Cn=(e,t,n)=>{if(!t||!bn(e))return n;const r=On(t.split(/[,[\].]+?/)).reduce(((e,t)=>vn(e)?e:e[t]),e);return Tn(r)||r===e?Tn(e[t])?n:e[t]:r},An=e=>"boolean"==typeof e;const Sn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dn="max",In="min",kn="maxLength",Mn="minLength",Nn="pattern",$n="required",Rn="validate",Fn=r.createContext(null),Ln=()=>r.useContext(Fn),Vn=e=>{const{children:t,...n}=e;return r.createElement(Fn.Provider,{value:n},t)};var zn=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==jn.all&&(t._proxyFormState[i]=!r||jn.all),n&&(n[i]=!0),e[i]}});return i},Pn=e=>bn(e)&&!Object.keys(e).length,Bn=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return Pn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||jn.all)))},Un=e=>Array.isArray(e)?e:[e],qn=(e,t,n)=>!e||!t||e===t||Un(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function Wn(e){const t=r.useRef(e);t.current=e,r.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Hn=e=>"string"==typeof e,Xn=(e,t,n,r,i)=>Hn(e)?(r&&t.watch.add(e),Cn(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),Cn(n,e)))):(r&&(t.watchAll=!0),n);var Gn=e=>/^\w*$/.test(e),Zn=e=>On(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Kn=(e,t,n)=>{let r=-1;const i=Gn(t)?[t]:Zn(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=bn(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=a,e=e[t]}return e};function Yn(e){const t=Ln(),{name:n,disabled:i,control:a=t.control,shouldUnregister:o}=e,s=_n(a._names.array,n),l=function(e){const t=Ln(),{control:n=t.control,name:i,defaultValue:a,disabled:o,exact:s}=e||{},l=r.useRef(i);l.current=i,Wn({disabled:o,subject:n._subjects.values,next:e=>{qn(l.current,e.name,s)&&c(En(Xn(l.current,n._names,e.values||n._formValues,!1,a)))}});const[u,c]=r.useState(n._getWatch(i,a));return r.useEffect((()=>n._removeUnmounted())),u}({control:a,name:n,defaultValue:Cn(a._formValues,n,Cn(a._defaultValues,n,e.defaultValue)),exact:!0}),u=function(e){const t=Ln(),{control:n=t.control,disabled:i,name:a,exact:o}=e||{},[s,l]=r.useState(n._formState),u=r.useRef(!0),c=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=r.useRef(a);return d.current=a,Wn({disabled:i,next:e=>u.current&&qn(d.current,e.name,o)&&Bn(e,c.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),r.useEffect((()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1})),[n]),zn(s,n,c.current,!1)}({control:a,name:n}),c=r.useRef(a.register(n,{...e.rules,value:l,...An(e.disabled)?{disabled:e.disabled}:{}}));return r.useEffect((()=>{const e=a._options.shouldUnregister||o,t=(e,t)=>{const n=Cn(a._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){const e=En(Cn(a._options.defaultValues,n));Kn(a._defaultValues,n,e),Tn(Cn(a._formValues,n))&&Kn(a._formValues,n,e)}return()=>{(s?e&&!a._state.action:e)?a.unregister(n):t(n,!1)}}),[n,a,s,o]),r.useEffect((()=>{Cn(a._fields,n)&&a._updateDisabledField({disabled:i,fields:a._fields,name:n,value:Cn(a._fields,n)._f.value})}),[i,n,a]),{field:{name:n,value:l,...An(i)||u.disabled?{disabled:u.disabled||i}:{},onChange:r.useCallback((e=>c.current.onChange({target:{value:yn(e),name:n},type:Sn.CHANGE})),[n]),onBlur:r.useCallback((()=>c.current.onBlur({target:{value:Cn(a._formValues,n),name:n},type:Sn.BLUR})),[n,a]),ref:e=>{const t=Cn(a._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Cn(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Cn(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Cn(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Cn(u.validatingFields,n)},error:{enumerable:!0,get:()=>Cn(u.errors,n)}})}}const Jn=e=>e.render(Yn(e));var Qn=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},er=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},tr=(e,t,n={})=>n.shouldFocus||Tn(n.shouldFocus)?n.focusName||`${e}.${Tn(n.focusIndex)?t:n.focusIndex}.`:"",nr=e=>({isOnSubmit:!e||e===jn.onSubmit,isOnBlur:e===jn.onBlur,isOnChange:e===jn.onChange,isOnAll:e===jn.all,isOnTouch:e===jn.onTouched}),rr=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const ir=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Cn(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)break;if(e.ref&&t(e.ref,e.name)&&!r)break;ir(a,t)}else bn(a)&&ir(a,t)}}};var ar=(e,t,n)=>{const r=On(Cn(e,n));return Kn(r,"root",t[n]),Kn(e,n,r),e},or=e=>"file"===e.type,sr=e=>"function"==typeof e,lr=e=>{if(!xn)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ur=e=>Hn(e),cr=e=>"radio"===e.type,dr=e=>e instanceof RegExp;const fr={value:!1,isValid:!1},pr={value:!0,isValid:!0};var hr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Tn(e[0].attributes.value)?Tn(e[0].value)||""===e[0].value?pr:{value:e[0].value,isValid:!0}:pr:fr}return fr};const mr={isValid:!1,value:null};var vr=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),mr):mr;function gr(e,t,n="validate"){if(ur(e)||Array.isArray(e)&&e.every(ur)||An(e)&&!e)return{type:n,message:ur(e)?e:"",ref:t}}var br=e=>bn(e)&&!dr(e)?e:{value:e,message:""},yr=async(e,t,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:p,name:h,valueAsNumber:m,mount:v,disabled:g}=e._f,b=Cn(t,h);if(!v||g)return{};const y=o?o[0]:a,_=e=>{r&&y.reportValidity&&(y.setCustomValidity(An(e)?"":e||""),y.reportValidity())},w={},x=cr(a),E=hn(a),O=x||E,T=(m||or(a))&&Tn(a.value)&&Tn(b)||lr(a)&&""===a.value||""===b||Array.isArray(b)&&!b.length,C=Qn.bind(null,h,n,w),A=(e,t,n,r=kn,i=Mn)=>{const o=e?t:n;w[h]={type:e?r:i,message:o,ref:a,...C(e?r:i,o)}};if(i?!Array.isArray(b)||!b.length:s&&(!O&&(T||vn(b))||An(b)&&!b||E&&!hr(o).isValid||x&&!vr(o).isValid)){const{value:e,message:t}=ur(s)?{value:!!s,message:s}:br(s);if(e&&(w[h]={type:$n,message:t,ref:y,...C($n,t)},!n))return _(t),w}if(!(T||vn(c)&&vn(d))){let e,t;const r=br(d),i=br(c);if(vn(b)||isNaN(b)){const n=a.valueAsDate||new Date(b),o=e=>new Date((new Date).toDateString()+" "+e),s="time"==a.type,l="week"==a.type;Hn(r.value)&&b&&(e=s?o(b)>o(r.value):l?b>r.value:n>new Date(r.value)),Hn(i.value)&&b&&(t=s?o(b)<o(i.value):l?b<i.value:n<new Date(i.value))}else{const n=a.valueAsNumber||(b?+b:b);vn(r.value)||(e=n>r.value),vn(i.value)||(t=n<i.value)}if((e||t)&&(A(!!e,r.message,i.message,Dn,In),!n))return _(w[h].message),w}if((l||u)&&!T&&(Hn(b)||i&&Array.isArray(b))){const e=br(l),t=br(u),r=!vn(e.value)&&b.length>+e.value,i=!vn(t.value)&&b.length<+t.value;if((r||i)&&(A(r,e.message,t.message),!n))return _(w[h].message),w}if(f&&!T&&Hn(b)){const{value:e,message:t}=br(f);if(dr(e)&&!b.match(e)&&(w[h]={type:Nn,message:t,ref:a,...C(Nn,t)},!n))return _(t),w}if(p)if(sr(p)){const e=gr(await p(b,t),y);if(e&&(w[h]={...e,...C(Rn,e.message)},!n))return _(e.message),w}else if(bn(p)){let e={};for(const r in p){if(!Pn(e)&&!n)break;const i=gr(await p[r](b,t),y,r);i&&(e={...i,...C(r,i.message)},_(i.message),n&&(w[h]=e))}if(!Pn(e)&&(w[h]={ref:y,...e},!n))return w}return _(!0),w},_r=(e,t)=>[...e,...Un(t)],wr=e=>Array.isArray(e)?e.map((()=>{})):void 0;function xr(e,t,n){return[...e.slice(0,t),...Un(n),...e.slice(t)]}var Er=(e,t,n)=>Array.isArray(e)?(Tn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Or=(e,t)=>[...Un(t),...Un(e)];var Tr=(e,t)=>Tn(t)?[]:function(e,t){let n=0;const r=[...e];for(const e of t)r.splice(e-n,1),n++;return On(r).length?r:[]}(e,Un(t).sort(((e,t)=>e-t))),Cr=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function Ar(e,t){const n=Array.isArray(t)?t:Gn(t)?[t]:Zn(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Tn(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(bn(r)&&Pn(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Tn(e[t]))return!1;return!0}(r))&&Ar(e,n.slice(0,-1)),e}var Sr=(e,t,n)=>(e[t]=n,e);function jr(e){const t=Ln(),{control:n=t.control,name:i,keyName:a="id",shouldUnregister:o}=e,[s,l]=r.useState(n._getFieldArray(i)),u=r.useRef(n._getFieldArray(i).map(er)),c=r.useRef(s),d=r.useRef(i),f=r.useRef(!1);d.current=i,c.current=s,n._names.array.add(i),e.rules&&n.register(i,e.rules),Wn({next:({values:e,name:t})=>{if(t===d.current||!t){const t=Cn(e,d.current);Array.isArray(t)&&(l(t),u.current=t.map(er))}},subject:n._subjects.array});const p=r.useCallback((e=>{f.current=!0,n._updateFieldArray(i,e)}),[n,i]);return r.useEffect((()=>{if(n._state.action=!1,rr(i,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!nr(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([i]).then((e=>{const t=Cn(e.errors,i),r=Cn(n._formState.errors,i);(r?!t&&r.type||t&&(r.type!==t.type||r.message!==t.message):t&&t.type)&&(t?Kn(n._formState.errors,i,t):Ar(n._formState.errors,i),n._subjects.state.next({errors:n._formState.errors}))}));else{const e=Cn(n._fields,i);!e||!e._f||nr(n._options.reValidateMode).isOnSubmit&&nr(n._options.mode).isOnSubmit||yr(e,n._formValues,n._options.criteriaMode===jn.all,n._options.shouldUseNativeValidation,!0).then((e=>!Pn(e)&&n._subjects.state.next({errors:ar(n._formState.errors,e,i)})))}n._subjects.values.next({name:i,values:{...n._formValues}}),n._names.focus&&ir(n._fields,((e,t)=>{if(n._names.focus&&t.startsWith(n._names.focus)&&e.focus)return e.focus(),1})),n._names.focus="",n._updateValid(),f.current=!1}),[s,i,n]),r.useEffect((()=>(!Cn(n._formValues,i)&&n._updateFieldArray(i),()=>{(n._options.shouldUnregister||o)&&n.unregister(i)})),[i,n,a,o]),{swap:r.useCallback(((e,t)=>{const r=n._getFieldArray(i);Cr(r,e,t),Cr(u.current,e,t),p(r),l(r),n._updateFieldArray(i,r,Cr,{argA:e,argB:t},!1)}),[p,i,n]),move:r.useCallback(((e,t)=>{const r=n._getFieldArray(i);Er(r,e,t),Er(u.current,e,t),p(r),l(r),n._updateFieldArray(i,r,Er,{argA:e,argB:t},!1)}),[p,i,n]),prepend:r.useCallback(((e,t)=>{const r=Un(En(e)),a=Or(n._getFieldArray(i),r);n._names.focus=tr(i,0,t),u.current=Or(u.current,r.map(er)),p(a),l(a),n._updateFieldArray(i,a,Or,{argA:wr(e)})}),[p,i,n]),append:r.useCallback(((e,t)=>{const r=Un(En(e)),a=_r(n._getFieldArray(i),r);n._names.focus=tr(i,a.length-1,t),u.current=_r(u.current,r.map(er)),p(a),l(a),n._updateFieldArray(i,a,_r,{argA:wr(e)})}),[p,i,n]),remove:r.useCallback((e=>{const t=Tr(n._getFieldArray(i),e);u.current=Tr(u.current,e),p(t),l(t),n._updateFieldArray(i,t,Tr,{argA:e})}),[p,i,n]),insert:r.useCallback(((e,t,r)=>{const a=Un(En(t)),o=xr(n._getFieldArray(i),e,a);n._names.focus=tr(i,e,r),u.current=xr(u.current,e,a.map(er)),p(o),l(o),n._updateFieldArray(i,o,xr,{argA:e,argB:wr(t)})}),[p,i,n]),update:r.useCallback(((e,t)=>{const r=En(t),a=Sr(n._getFieldArray(i),e,r);u.current=[...a].map(((t,n)=>t&&n!==e?u.current[n]:er())),p(a),l([...a]),n._updateFieldArray(i,a,Sr,{argA:e,argB:r},!0,!1)}),[p,i,n]),replace:r.useCallback((e=>{const t=Un(En(e));u.current=t.map(er),p([...t]),l([...t]),n._updateFieldArray(i,[...t],(e=>e),{},!0,!1)}),[p,i,n]),fields:r.useMemo((()=>s.map(((e,t)=>({...e,[a]:u.current[t]||er()})))),[s,a])}}var Dr=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Ir=e=>vn(e)||!gn(e);function kr(e,t){if(Ir(e)||Ir(t))return e===t;if(mn(e)&&mn(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(mn(n)&&mn(e)||bn(n)&&bn(e)||Array.isArray(n)&&Array.isArray(e)?!kr(n,e):n!==e)return!1}}return!0}var Mr=e=>"select-multiple"===e.type,Nr=e=>cr(e)||hn(e),$r=e=>lr(e)&&e.isConnected,Rr=e=>{for(const t in e)if(sr(e[t]))return!0;return!1};function Fr(e,t={}){const n=Array.isArray(e);if(bn(e)||n)for(const n in e)Array.isArray(e[n])||bn(e[n])&&!Rr(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Fr(e[n],t[n])):vn(e[n])||(t[n]=!0);return t}function Lr(e,t,n){const r=Array.isArray(e);if(bn(e)||r)for(const r in e)Array.isArray(e[r])||bn(e[r])&&!Rr(e[r])?Tn(t)||Ir(n[r])?n[r]=Array.isArray(e[r])?Fr(e[r],[]):{...Fr(e[r])}:Lr(e[r],vn(t)?{}:t[r],n[r]):n[r]=!kr(e[r],t[r]);return n}var Vr=(e,t)=>Lr(e,t,Fr(t)),zr=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Tn(e)?e:t?""===e?NaN:e?+e:e:n&&Hn(e)?new Date(e):r?r(e):e;function Pr(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return or(t)?t.files:cr(t)?vr(e.refs).value:Mr(t)?[...t.selectedOptions].map((({value:e})=>e)):hn(t)?hr(e.refs).value:zr(Tn(t.value)?e.ref.value:t.value,e)}var Br=(e,t,n,r)=>{const i={};for(const n of e){const e=Cn(t,n);e&&Kn(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Ur=e=>Tn(e)?e:dr(e)?e.source:bn(e)?dr(e.value)?e.value.source:e.value:e,qr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Wr(e,t,n){const r=Cn(e,n);if(r||Gn(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=Cn(t,r),o=Cn(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};i.pop()}return{name:n}}var Hr=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),Xr=(e,t)=>!On(Cn(e,t)).length&&Ar(e,t);const Gr={mode:jn.onSubmit,reValidateMode:jn.onChange,shouldFocusError:!0};function Zr(e={}){let t,n={...Gr,...e},r={submitCount:0,isDirty:!1,isLoading:sr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(bn(n.defaultValues)||bn(n.values))&&En(n.defaultValues||n.values)||{},o=n.shouldUnregister?{}:En(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Dr(),array:Dr(),state:Dr()},f=nr(n.mode),p=nr(n.reValidateMode),h=n.criteriaMode===jn.all,m=async e=>{if(c.isValid||e){const e=n.resolver?Pn((await _()).errors):await w(i,!0);e!==r.isValid&&d.state.next({isValid:e})}},v=(e,t)=>{(c.isValidating||c.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>e&&Kn(r.validatingFields,e,!!t))),r.isValidating=Object.values(r.validatingFields).some((e=>e)),d.state.next({validatingFields:r.validatingFields,isValidating:r.isValidating}))},g=(e,t,n,r)=>{const l=Cn(i,e);if(l){const i=Cn(o,e,Tn(n)?Cn(a,e):n);Tn(i)||r&&r.defaultChecked||t?Kn(o,e,t?i:Pr(l._f)):O(e,i),s.mount&&m()}},b=(e,t,n,o,s)=>{let l=!1,u=!1;const f={name:e},p=!(!Cn(i,e)||!Cn(i,e)._f.disabled);if(!n||o){c.isDirty&&(u=r.isDirty,r.isDirty=f.isDirty=x(),l=u!==f.isDirty);const n=p||kr(Cn(a,e),t);u=!(p||!Cn(r.dirtyFields,e)),n||p?Ar(r.dirtyFields,e):Kn(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||c.dirtyFields&&u!==!n}if(n){const t=Cn(r.touchedFields,e);t||(Kn(r.touchedFields,e,n),f.touchedFields=r.touchedFields,l=l||c.touchedFields&&t!==n)}return l&&s&&d.state.next(f),l?f:{}},y=(n,i,a,o)=>{const s=Cn(r.errors,n),l=c.isValid&&An(i)&&r.isValid!==i;var f;if(e.delayError&&a?(f=()=>((e,t)=>{Kn(r.errors,e,t),d.state.next({errors:r.errors})})(n,a),t=e=>{clearTimeout(u),u=setTimeout(f,e)},t(e.delayError)):(clearTimeout(u),t=null,a?Kn(r.errors,n,a):Ar(r.errors,n)),(a?!kr(s,a):s)||!Pn(o)||l){const e={...o,...l&&An(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},d.state.next(e)}},_=async e=>{v(e,!0);const t=await n.resolver(o,n.context,Br(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return v(e),t},w=async(e,t,i={valid:!0})=>{for(const a in e){const s=e[a];if(s){const{_f:e,...u}=s;if(e){const u=l.array.has(e.name);v([a],!0);const c=await yr(s,o,h,n.shouldUseNativeValidation&&!t,u);if(v([a]),c[e.name]&&(i.valid=!1,t))break;!t&&(Cn(c,e.name)?u?ar(r.errors,c,e.name):Kn(r.errors,e.name,c[e.name]):Ar(r.errors,e.name))}u&&await w(u,t,i)}}return i.valid},x=(e,t)=>(e&&t&&Kn(o,e,t),!kr(D(),a)),E=(e,t,n)=>Xn(e,l,{...s.mount?o:Tn(t)?a:Hn(e)?{[e]:t}:t},n,t),O=(e,t,n={})=>{const r=Cn(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&Kn(o,e,zr(t,n)),a=lr(n.ref)&&vn(t)?"":t,Mr(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?hn(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):or(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||d.values.next({name:e,values:{...o}})))}(n.shouldDirty||n.shouldTouch)&&b(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},T=(e,t,n)=>{for(const r in t){const a=t[r],o=`${e}.${r}`,s=Cn(i,o);!l.array.has(e)&&Ir(a)&&(!s||s._f)||mn(a)?O(o,a,n):T(o,a,n)}},C=(e,t,n={})=>{const u=Cn(i,e),f=l.array.has(e),p=En(t);Kn(o,e,p),f?(d.array.next({name:e,values:{...o}}),(c.isDirty||c.dirtyFields)&&n.shouldDirty&&d.state.next({name:e,dirtyFields:Vr(a,o),isDirty:x(e,p)})):!u||u._f||vn(p)?O(e,p,n):T(e,p,n),rr(e,l)&&d.state.next({...r}),d.values.next({name:s.mount?e:void 0,values:{...o}})},A=async e=>{const a=e.target;let s=a.name,u=!0;const g=Cn(i,s),x=e=>{u=Number.isNaN(e)||e===Cn(o,s,e)};if(g){let E,O;const T=a.type?Pr(g._f):yn(e),C=e.type===Sn.BLUR||e.type===Sn.FOCUS_OUT,A=!qr(g._f)&&!n.resolver&&!Cn(r.errors,s)&&!g._f.deps||Hr(C,Cn(r.touchedFields,s),r.isSubmitted,p,f),S=rr(s,l,C);Kn(o,s,T),C?(g._f.onBlur&&g._f.onBlur(e),t&&t(0)):g._f.onChange&&g._f.onChange(e);const D=b(s,T,C,!1),I=!Pn(D)||S;if(!C&&d.values.next({name:s,type:e.type,values:{...o}}),A)return c.isValid&&m(),I&&d.state.next({name:s,...S?{}:D});if(!C&&S&&d.state.next({...r}),n.resolver){const{errors:e}=await _([s]);if(x(T),u){const t=Wr(r.errors,i,s),n=Wr(e,i,t.name||s);E=n.error,s=n.name,O=Pn(e)}}else v([s],!0),E=(await yr(g,o,h,n.shouldUseNativeValidation))[s],v([s]),x(T),u&&(E?O=!1:c.isValid&&(O=await w(i,!0)));u&&(g._f.deps&&j(g._f.deps),y(s,O,E,D))}},S=(e,t)=>{if(Cn(r.errors,t)&&e.focus)return e.focus(),1},j=async(e,t={})=>{let a,o;const s=Un(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await _(e);if(e)for(const n of e){const e=Cn(t,n);e?Kn(r.errors,n,e):Ar(r.errors,n)}else r.errors=t;return t})(Tn(e)?e:s);a=Pn(t),o=e?!s.some((e=>Cn(t,e))):a}else e?(o=(await Promise.all(s.map((async e=>{const t=Cn(i,e);return await w(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||r.isValid)&&m()):o=a=await w(i);return d.state.next({...!Hn(e)||c.isValid&&a!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:a}:{},errors:r.errors}),t.shouldFocus&&!o&&ir(i,S,e?s:l.mount),o},D=e=>{const t={...a,...s.mount?o:{}};return Tn(e)?t:Hn(e)?Cn(t,e):e.map((e=>Cn(t,e)))},I=(e,t)=>({invalid:!!Cn((t||r).errors,e),isDirty:!!Cn((t||r).dirtyFields,e),isTouched:!!Cn((t||r).touchedFields,e),isValidating:!!Cn((t||r).validatingFields,e),error:Cn((t||r).errors,e)}),k=(e,t,n)=>{const a=(Cn(i,e,{_f:{}})._f||{}).ref;Kn(r.errors,e,{...t,ref:a}),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},M=(e,t={})=>{for(const s of e?Un(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(Ar(i,s),Ar(o,s)),!t.keepError&&Ar(r.errors,s),!t.keepDirty&&Ar(r.dirtyFields,s),!t.keepTouched&&Ar(r.touchedFields,s),!t.keepIsValidating&&Ar(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&Ar(a,s);d.values.next({values:{...o}}),d.state.next({...r,...t.keepDirty?{isDirty:x()}:{}}),!t.keepIsValid&&m()},N=({disabled:e,name:t,field:n,fields:r,value:i})=>{if(An(e)){const a=e?void 0:Tn(i)?Pr(n?n._f:Cn(r,t)._f):i;Kn(o,t,a),b(t,a,!1,!1,!0)}},$=(e,t={})=>{let r=Cn(i,e);const o=An(t.disabled);return Kn(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),r?N({field:r,disabled:t.disabled,name:e,value:t.value}):g(e,!0,t.value),{...o?{disabled:t.disabled}:{},...n.progressive?{required:!!t.required,min:Ur(t.min),max:Ur(t.max),minLength:Ur(t.minLength),maxLength:Ur(t.maxLength),pattern:Ur(t.pattern)}:{},name:e,onChange:A,onBlur:A,ref:o=>{if(o){$(e,t),r=Cn(i,e);const n=Tn(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=Nr(n),l=r._f.refs||[];if(s?l.find((e=>e===n)):n===r._f.ref)return;Kn(i,e,{_f:{...r._f,...s?{refs:[...l.filter($r),n,...Array.isArray(Cn(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),g(e,!1,void 0,n)}else r=Cn(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!_n(l.array,e)||!s.action)&&l.unMount.add(e)}}},R=()=>n.shouldFocusError&&ir(i,S,l.mount),F=(e,t)=>async a=>{let s;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let l=En(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await _();r.errors=e,l=t}else await w(i);if(Ar(r.errors,"root"),Pn(r.errors)){d.state.next({errors:{}});try{await e(l,a)}catch(e){s=e}}else t&&await t({...r.errors},a),R(),setTimeout(R);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},L=(t,n={})=>{const u=t?En(t):a,f=En(u),p=Pn(t),h=p?a:f;if(n.keepDefaultValues||(a=u),!n.keepValues){if(n.keepDirtyValues)for(const e of l.mount)Cn(r.dirtyFields,e)?Kn(h,e,Cn(o,e)):C(e,Cn(h,e));else{if(xn&&Tn(t))for(const e of l.mount){const t=Cn(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(lr(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}o=e.shouldUnregister?n.keepDefaultValues?En(a):{}:En(h),d.array.next({values:{...h}}),d.values.next({values:{...h}})}l={mount:n.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!n.keepIsValid||!!n.keepDirtyValues,s.watch=!!e.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!p&&(n.keepDirty?r.isDirty:!(!n.keepDefaultValues||kr(t,a))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?[]:n.keepDirtyValues?n.keepDefaultValues&&o?Vr(a,o):r.dirtyFields:n.keepDefaultValues&&t?Vr(a,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},V=(e,t)=>L(sr(e)?e(o):e,t);return{control:{register:$,unregister:M,getFieldState:I,handleSubmit:F,setError:k,_executeSchema:_,_getWatch:E,_getDirty:x,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=Cn(i,e);t&&(t._f.refs?t._f.refs.every((e=>!$r(e))):!$r(t._f.ref))&&M(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],n,l,u=!0,f=!0)=>{if(l&&n){if(s.action=!0,f&&Array.isArray(Cn(i,e))){const t=n(Cn(i,e),l.argA,l.argB);u&&Kn(i,e,t)}if(f&&Array.isArray(Cn(r.errors,e))){const t=n(Cn(r.errors,e),l.argA,l.argB);u&&Kn(r.errors,e,t),Xr(r.errors,e)}if(c.touchedFields&&f&&Array.isArray(Cn(r.touchedFields,e))){const t=n(Cn(r.touchedFields,e),l.argA,l.argB);u&&Kn(r.touchedFields,e,t)}c.dirtyFields&&(r.dirtyFields=Vr(a,o)),d.state.next({name:e,isDirty:x(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Kn(o,e,t)},_updateDisabledField:N,_getFieldArray:t=>On(Cn(s.mount?o:a,t,e.shouldUnregister?Cn(a,t,[]):[])),_reset:L,_resetDefaultValues:()=>sr(n.defaultValues)&&n.defaultValues().then((e=>{V(e,n.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{An(e)&&(d.state.next({disabled:e}),ir(i,((t,n)=>{let r=e;const a=Cn(i,n);a&&An(a._f.disabled)&&(r||(r=a._f.disabled)),t.disabled=r}),0,!1))},_subjects:d,_proxyFormState:c,_setErrors:e=>{r.errors=e,d.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:j,register:$,handleSubmit:F,watch:(e,t)=>sr(e)?d.values.subscribe({next:n=>e(E(void 0,t),n)}):E(e,t,!0),setValue:C,getValues:D,reset:V,resetField:(e,t={})=>{Cn(i,e)&&(Tn(t.defaultValue)?C(e,En(Cn(a,e))):(C(e,t.defaultValue),Kn(a,e,En(t.defaultValue))),t.keepTouched||Ar(r.touchedFields,e),t.keepDirty||(Ar(r.dirtyFields,e),r.isDirty=t.defaultValue?x(e,En(Cn(a,e))):x()),t.keepError||(Ar(r.errors,e),c.isValid&&m()),d.state.next({...r}))},clearErrors:e=>{e&&Un(e).forEach((e=>Ar(r.errors,e))),d.state.next({errors:e?r.errors:{}})},unregister:M,setError:k,setFocus:(e,t={})=>{const n=Cn(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:I}}function Kr(e={}){const t=r.useRef(),n=r.useRef(),[i,a]=r.useState({isDirty:!1,isValidating:!1,isLoading:sr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:sr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Zr(e),formState:i});const o=t.current.control;return o._options=e,Wn({subject:o._subjects.state,next:e=>{Bn(e,o._proxyFormState,o._updateFormState,!0)&&a({...o._formState})}}),r.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),r.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==i.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,i.isDirty]),r.useEffect((()=>{e.values&&!kr(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,a((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),r.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),r.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),r.useEffect((()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})}),[e.shouldUnregister,o]),t.current.formState=zn(i,o),t.current}var Yr=function(e,t,n){if(e&&"reportValidity"in e){var r=Cn(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Jr=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Yr(r.ref,n,e):r.refs&&r.refs.forEach((function(t){return Yr(t,n,e)}))};for(var r in t.fields)n(r)},Qr=function(e,t){t.shouldUseNativeValidation&&Jr(e,t);var n={};for(var r in e){var i=Cn(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(ei(t.names||Object.keys(e),r)){var o=Object.assign({},Cn(n,r));Kn(o,"root",a),Kn(n,r,o)}else Kn(n,r,a)}return n},ei=function(e,t){return e.some((function(e){return e.startsWith(t+".")}))};function ti(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,s){try{var l=(t.context&&"development"===process.env.NODE_ENV&&console.warn("You should not used the yup options context. Please, use the 'useForm' context object instead"),Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:i}))).then((function(e){return a.shouldUseNativeValidation&&Jr({},a),{values:n.raw?r:e,errors:{}}})))}catch(e){return s(e)}return l&&l.then?l.then(void 0,s):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:Qr((t=e,n=!a.shouldUseNativeValidation&&"all"===a.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,i=r&&r[t.type];e[t.path]=Qn(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e}),{})),a)};var t,n})))}catch(e){return Promise.reject(e)}}}var ni=Object.prototype;var ri=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ni)};var ii=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ai=ri,oi=ii,si=Object.prototype.hasOwnProperty;var li=function(e){if(!ai(e))return oi(e);var t=[];for(var n in Object(e))si.call(e,n)&&"constructor"!=n&&t.push(n);return t},ui="object"==typeof Ee&&Ee&&Ee.Object===Object&&Ee,ci=ui,di="object"==typeof self&&self&&self.Object===Object&&self,fi=ci||di||Function("return this")(),pi=fi.Symbol,hi=pi,mi=Object.prototype,vi=mi.hasOwnProperty,gi=mi.toString,bi=hi?hi.toStringTag:void 0;var yi=function(e){var t=vi.call(e,bi),n=e[bi];try{e[bi]=void 0;var r=!0}catch(e){}var i=gi.call(e);return r&&(t?e[bi]=n:delete e[bi]),i},_i=Object.prototype.toString;var wi=yi,xi=function(e){return _i.call(e)},Ei=pi?pi.toStringTag:void 0;var Oi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ei&&Ei in Object(e)?wi(e):xi(e)};var Ti=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ci=Oi,Ai=Ti;var Si,ji=function(e){if(!Ai(e))return!1;var t=Ci(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Di=fi["__core-js_shared__"],Ii=(Si=/[^.]+$/.exec(Di&&Di.keys&&Di.keys.IE_PROTO||""))?"Symbol(src)_1."+Si:"";var ki=function(e){return!!Ii&&Ii in e},Mi=Function.prototype.toString;var Ni=function(e){if(null!=e){try{return Mi.call(e)}catch(e){}try{return e+""}catch(e){}}return""},$i=ji,Ri=ki,Fi=Ti,Li=Ni,Vi=/^\[object .+?Constructor\]$/,zi=Function.prototype,Pi=Object.prototype,Bi=zi.toString,Ui=Pi.hasOwnProperty,qi=RegExp("^"+Bi.call(Ui).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Wi=function(e,t){return null==e?void 0:e[t]},Hi=function(e){return!(!Fi(e)||Ri(e))&&($i(e)?qi:Vi).test(Li(e))},Xi=Wi;var Gi=function(e,t){var n=Xi(e,t);return Hi(n)?n:void 0},Zi=Gi(fi,"DataView"),Ki=Gi(fi,"Map"),Yi=Gi(fi,"Promise"),Ji=Gi(fi,"Set"),Qi=Gi(fi,"WeakMap"),ea=Oi,ta=Ni,na="[object Map]",ra="[object Promise]",ia="[object Set]",aa="[object WeakMap]",oa="[object DataView]",sa=ta(Zi),la=ta(Ki),ua=ta(Yi),ca=ta(Ji),da=ta(Qi),fa=ea;(Zi&&fa(new Zi(new ArrayBuffer(1)))!=oa||Ki&&fa(new Ki)!=na||Yi&&fa(Yi.resolve())!=ra||Ji&&fa(new Ji)!=ia||Qi&&fa(new Qi)!=aa)&&(fa=function(e){var t=ea(e),n="[object Object]"==t?e.constructor:void 0,r=n?ta(n):"";if(r)switch(r){case sa:return oa;case la:return na;case ua:return ra;case ca:return ia;case da:return aa}return t});var pa=fa;var ha=function(e){return null!=e&&"object"==typeof e},ma=Oi,va=ha;var ga=function(e){return va(e)&&"[object Arguments]"==ma(e)},ba=ha,ya=Object.prototype,_a=ya.hasOwnProperty,wa=ya.propertyIsEnumerable,xa=ga(function(){return arguments}())?ga:function(e){return ba(e)&&_a.call(e,"callee")&&!wa.call(e,"callee")},Ea=Array.isArray;var Oa=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ta=ji,Ca=Oa;var Aa=function(e){return null!=e&&Ca(e.length)&&!Ta(e)},Sa={exports:{}};var ja=function(){return!1};!function(e,t){var n=fi,r=ja,i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||r;e.exports=s}(Sa,Sa.exports);var Da=Sa.exports,Ia=Oi,ka=Oa,Ma=ha,Na={};Na["[object Float32Array]"]=Na["[object Float64Array]"]=Na["[object Int8Array]"]=Na["[object Int16Array]"]=Na["[object Int32Array]"]=Na["[object Uint8Array]"]=Na["[object Uint8ClampedArray]"]=Na["[object Uint16Array]"]=Na["[object Uint32Array]"]=!0,Na["[object Arguments]"]=Na["[object Array]"]=Na["[object ArrayBuffer]"]=Na["[object Boolean]"]=Na["[object DataView]"]=Na["[object Date]"]=Na["[object Error]"]=Na["[object Function]"]=Na["[object Map]"]=Na["[object Number]"]=Na["[object Object]"]=Na["[object RegExp]"]=Na["[object Set]"]=Na["[object String]"]=Na["[object WeakMap]"]=!1;var $a=function(e){return Ma(e)&&ka(e.length)&&!!Na[Ia(e)]};var Ra=function(e){return function(t){return e(t)}},Fa={exports:{}};!function(e,t){var n=ui,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o}(Fa,Fa.exports);var La=Fa.exports,Va=$a,za=Ra,Pa=La&&La.isTypedArray,Ba=Pa?za(Pa):Va,Ua=li,qa=pa,Wa=xa,Ha=Ea,Xa=Aa,Ga=Da,Za=ri,Ka=Ba,Ya=Object.prototype.hasOwnProperty;var Ja=Oe((function(e){if(null==e)return!0;if(Xa(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Ga(e)||Ka(e)||Wa(e)))return!e.length;var t=qa(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Za(e))return!Ua(e).length;for(var n in e)if(Ya.call(e,n))return!1;return!0}));function Qa(e){this._maxSize=e,this.clear()}Qa.prototype.clear=function(){this._size=0,this._values=Object.create(null)},Qa.prototype.get=function(e){return this._values[e]},Qa.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var eo=/[^.^\]^[]+|(?=\[\]|\.\.)/g,to=/^\d+$/,no=/^\d/,ro=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,io=/^\s*(['"]?)(.*?)(\1)\s*$/,ao=new Qa(512),oo=new Qa(512),so=new Qa(512),lo={Cache:Qa,split:co,normalizePath:uo,setter:function(e){var t=uo(e);return oo.get(e)||oo.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=uo(e);return so.get(e)||so.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(fo(t)||to.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(po(r)&&(r='"'+r+'"'),a=!(o=fo(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:co(e),t,n)}};function uo(e){return ao.get(e)||ao.set(e,co(e).map((function(e){return e.replace(io,"$2")})))}function co(e){return e.match(eo)||[""]}function fo(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function po(e){return!fo(e)&&(function(e){return e.match(no)&&!e.match(to)}(e)||function(e){return ro.test(e)}(e))}const ho=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,mo=e=>e.match(ho)||[],vo=(e,t)=>mo(e).join(t).toLowerCase(),go=e=>mo(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");var bo=go,yo=e=>vo(e,"_"),_o={exports:{}};function wo(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||l(e[a],a,new Set);return r;function l(e,t,a){if(a.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var d=c[--t];l(d,s.get(d),a)}while(t);a.delete(e)}r[--n]=e}}}_o.exports=function(e){return wo(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},_o.exports.array=wo;var xo=Oe(_o.exports);const Eo=Object.prototype.toString,Oo=Error.prototype.toString,To=RegExp.prototype.toString,Co="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",Ao=/^Symbol\((.*)\)(.*)$/;function So(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return Co.call(e).replace(Ao,"Symbol($1)");const r=Eo.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+Oo.call(e)+"]":"RegExp"===r?To.call(e):null}function jo(e,t){let n=So(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=So(this[e],t);return null!==r?r:n}),2)}function Do(e){return null==e?[]:[].concat(e)}let Io,ko,Mo,No=/\$\{\s*(\w+)\s*\}/g;Io=Symbol.toStringTag;class $o{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Io]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],Do(e).forEach((e=>{if(Ro.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ko=Symbol.hasInstance,Mo=Symbol.toStringTag;class Ro extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=Object.assign({},t,{path:n})),"string"==typeof e?e.replace(No,((e,n)=>jo(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,i){const a=new $o(e,t,n,r);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Mo]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ro)}static[ko](e){return $o[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Fo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=null!=r&&r!==n?` (cast from the value \`${jo(r,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${jo(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${jo(n,!0)}\``+i}},Lo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Vo={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},zo={isValue:"${path} field must be ${value}"},Po={noUnknown:"${path} field has unspecified keys: ${unknown}"},Bo={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Uo={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${jo(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${jo(n,!0)}\``}return Ro.formatError(Fo.notType,e)}};Object.assign(Object.create(null),{mixed:Fo,string:Lo,number:{min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date:Vo,object:Po,array:Bo,boolean:zo,tuple:Uo});const qo=e=>e&&e.__isYupSchema__;class Wo{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:i}=t,a="function"==typeof n?n:(...e)=>e.every((e=>e===n));return new Wo(e,((e,t)=>{var n;let o=a(...e)?r:i;return null!=(n=null==o?void 0:o(t))?n:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!qo(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const Ho="$",Xo=".";class Go{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ho,this.isValue=this.key[0]===Xo,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Ho:this.isValue?Xo:"";this.path=this.key.slice(n.length),this.getter=this.path&&lo.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Go.prototype.__isYupRef=!0;const Zo=e=>null==e;function Ko(e){function t({value:t,path:n="",options:r,originalValue:i,schema:a},o,s){const{name:l,test:u,params:c,message:d,skipAbsent:f}=e;let{parent:p,context:h,abortEarly:m=a.spec.abortEarly,disableStackTrace:v=a.spec.disableStackTrace}=r;function g(e){return Go.isRef(e)?e.getValue(t,p,h):e}function b(e={}){const r=Object.assign({value:t,originalValue:i,label:a.spec.label,path:e.path||n,spec:a.spec,disableStackTrace:e.disableStackTrace||v},c,e.params);for(const e of Object.keys(r))r[e]=g(r[e]);const o=new Ro(Ro.formatError(e.message||d,r),t,r.path,e.type||l,r.disableStackTrace);return o.params=r,o}const y=m?o:s;let _={path:n,parent:p,type:l,from:r.from,createError:b,resolve:g,options:r,originalValue:i,schema:a};const w=e=>{Ro.isError(e)?y(e):e?s(null):y(b())},x=e=>{Ro.isError(e)?y(e):o(e)};if(f&&Zo(t))return w(!0);let E;try{var O;if(E=u.call(_,t,_),"function"==typeof(null==(O=E)?void 0:O.then)){if(r.sync)throw new Error(`Validation test of type: "${_.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(w,x)}}catch(e){return void x(e)}w(E)}return t.OPTIONS=e,t}function Yo(e,t,n,r=n){let i,a,o;return t?(lo.forEach(t,((s,l,u)=>{let c=l?s.slice(1,s.length-1):s,d="tuple"===(e=e.resolve({context:r,parent:i,value:n})).type,f=u?parseInt(c,10):0;if(e.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=d?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);i=n,n=n&&n[c],e=e.fields[c]}a=c,o=l?"["+s+"]":"."+s})),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}class Jo extends Set{describe(){const e=[];for(const t of this.values())e.push(Go.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Jo(this.values())}merge(e,t){const n=this.clone();return e.forEach((e=>n.add(e))),t.forEach((e=>n.delete(e))),n}}function Qo(e,t=new Map){if(qo(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Qo(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,Qo(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Qo(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=Qo(i,t)}return n}class es{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Jo,this._blacklist=new Jo,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(Fo.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Qo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,i;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(i=e.disableStackTrace)?i:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,i=n._cast(e,t);if(!1!==t.assert&&!n.isType(i)){if(r&&Zo(i))return i;let a=jo(e),o=jo(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${a} \n`+(o!==a?`result of cast: ${o}`:""))}return i}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:i,originalValue:a=e,strict:o=this.spec.strict}=t,s=e;o||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:i,value:s,originalValue:a,options:t,tests:l},n,(e=>{if(e.length)return r(e,s);this.runTests({path:i,value:s,originalValue:a,options:t,tests:this.tests},n,r)}))}runTests(e,t,n){let r=!1,{tests:i,value:a,originalValue:o,path:s,options:l}=e,u=e=>{r||(r=!0,t(e,a))},c=e=>{r||(r=!0,n(e,a))},d=i.length,f=[];if(!d)return c([]);let p={value:a,originalValue:o,path:s,options:l,schema:this};for(let e=0;e<i.length;e++){(0,i[e])(p,u,(function(e){e&&(Array.isArray(e)?f.push(...e):f.push(e)),--d<=0&&c(f)}))}}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:i,options:a}){const o=null!=e?e:t;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const s="number"==typeof o;let l=n[o];const u=Object.assign({},a,{strict:!0,parent:n,value:l,originalValue:i[o],key:void 0,[s?"index":"key"]:o,path:s||o.includes(".")?`${r||""}[${s?o:`"${o}"`}]`:(r?`${r}.`:"")+e});return(e,t,n)=>this.resolve(u)._validate(l,u,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),i=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise(((n,a)=>r._validate(e,t,((e,t)=>{Ro.isError(e)&&(e.value=t),a(e)}),((e,t)=>{e.length?a(new Ro(e,t,void 0,void 0,i)):n(t)}))))}validateSync(e,t){var n;let r,i=this.resolve(Object.assign({},t,{value:e})),a=null!=(n=null==t?void 0:t.disableStackTrace)?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw Ro.isError(e)&&(e.value=t),e}),((t,n)=>{if(t.length)throw new Ro(t,e,void 0,void 0,a);r=n})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(Ro.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(Ro.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):Qo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Ko({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Ko({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=Fo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Fo.notNull){return this.nullability(!1,e)}required(e=Fo.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=Fo.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Ko(t),i=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(i)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=Do(e).map((e=>new Go(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"==typeof t?new Wo(r,t):Wo.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Ko({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Fo.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=Ko({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e,t=Fo.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=Ko({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:i,nullable:a}=t.spec,o={meta:r,label:n,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))};return o}}es.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])es.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:a,schema:o}=Yo(this,t,n,r.context);return o[e](i&&i[a],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])es.prototype[e]=es.prototype.oneOf;for(const e of["not","nope"])es.prototype[e]=es.prototype.notOneOf;function ts(){return new ns}class ns extends es{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(e=zo.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>Zo(e)||!0===e})}isFalse(e=zo.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>Zo(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}ts.prototype=ns.prototype;const rs=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function is(e){var t,n;const r=rs.exec(e);return r?{year:as(r[1]),month:as(r[2],1)-1,day:as(r[3],1),hour:as(r[4]),minute:as(r[5]),second:as(r[6]),millisecond:r[7]?as(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:as(r[10]),minuteOffset:as(r[11])}:null}function as(e,t=0){return Number(e)||t}let os=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ss=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,ls=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,us=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),cs=e=>Zo(e)||e===e.trim(),ds={}.toString();function fs(){return new ps}class ps extends es{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===ds?e:r}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||Fo.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=Lo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=Lo.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=Lo.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,i=!1;return t&&("object"==typeof t?({excludeEmptyString:i=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||Lo.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&i||-1!==t.search(e)})}email(e=Lo.email){return this.matches(os,{name:"email",message:e,excludeEmptyString:!0})}url(e=Lo.url){return this.matches(ss,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Lo.uuid){return this.matches(ls,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"==typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(us,{name:"datetime",message:r||Lo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Lo.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=is(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||Lo.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||null==n)return!0;const t=is(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=Lo.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:cs})}lowercase(e=Lo.lowercase){return this.transform((e=>Zo(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Zo(e)||e===e.toLowerCase()})}uppercase(e=Lo.uppercase){return this.transform((e=>Zo(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Zo(e)||e===e.toUpperCase()})}}fs.prototype=ps.prototype;let hs=new Date("");class ms extends es{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=is(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?ms.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let n;if(Go.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=Vo.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e,t=Vo.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function vs(e,t){let n=1/0;return e.some(((e,r)=>{var i;if(null!=(i=t.path)&&i.includes(e))return n=r,!0})),n}function gs(e){return(t,n)=>vs(e,t)-vs(e,n)}ms.INVALID_DATE=hs,ms.prototype;const bs=(e,t,n)=>{if("string"!=typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(e){}return n.isType(r)?r:e};function ys(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=ys(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=ys(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(ys)}):"optional"in e?e.optional():e}let _s=e=>"[object Object]"===Object.prototype.toString.call(e);const ws=gs([]);function xs(e){return new Es(e)}class Es extends es{constructor(e){super({type:"object",check:e=>_s(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=ws,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let i=this.fields,a=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(r).filter((e=>!this._nodes.includes(e)))),s={},l=Object.assign({},t,{parent:s,__validating:t.__validating||!1}),u=!1;for(const e of o){let n=i[e],o=e in r;if(n){let i,a=r[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:a,context:t.context,parent:s});let o=n instanceof es?n.spec:void 0,c=null==o?void 0:o.strict;if(null!=o&&o.strip){u=u||e in r;continue}i=t.__validating&&c?r[e]:n.cast(r[e],l),void 0!==i&&(s[e]=i)}else o&&!a&&(s[e]=r[e]);o===e in s&&s[e]===r[e]||(u=!0)}return u?s:r}_validate(e,t={},n,r){let{from:i=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,((e,i)=>{if(!o||!_s(i))return void r(e,i);a=a||i;let s=[];for(let e of this._nodes){let n=this.fields[e];n&&!Go.isRef(n)&&s.push(n.asNestedTest({options:t,key:e,parent:i,parentPath:t.path,originalParent:a}))}this.runTests({tests:s,value:i,originalValue:a,options:t},n,(t=>{r(t.sort(this._sortErrors).concat(e),i)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];n[e]=void 0===r?t:r}return t.withMutation((t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((n=>{var r;const i=this.fields[n];let a=e;null!=(r=a)&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(a):void 0})),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e,t=[]){let n=[],r=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function a(e,t){let a=lo.split(e)[0];r.add(a),i.has(`${t}-${a}`)||n.push([t,a])}for(const t of Object.keys(e)){let n=e[t];r.add(t),Go.isRef(n)&&n.isSibling?a(n.path,t):qo(n)&&"deps"in n&&n.deps.forEach((e=>a(e,t)))}return xo.array(Array.from(r),n).reverse()}(e,t),n._sortErrors=gs(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation((n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)}))}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return ys(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter((([t,n])=>e.includes(t)&&e.includes(n))))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let r=lo.getter(e,!0);return this.transform((i=>{if(!i)return i;let a=i;return((e,t)=>{const n=[...lo.normalizePath(t)];if(1===n.length)return n[0]in e;let r=n.pop(),i=lo.getter(lo.join(n),!0)(e);return!(!i||!(r in i))})(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=r(i)),a}))}json(){return this.transform(bs)}noUnknown(e=!0,t=Po.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=function(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=Po.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n}))}camelCase(){return this.transformKeys(bo)}snakeCase(){return this.transformKeys(yo)}constantCase(){return this.transformKeys((e=>yo(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,a]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[i]})),n.fields[i]=a.describe(t)}return n}}function Os(e){return new Ts(e)}xs.prototype=Es.prototype;class Ts extends es{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const i=n.map(((e,n)=>{const i=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${n}]`}));return i!==e&&(r=!0),i}));return r?i:n}_validate(e,t={},n,r){var i;let a=this.innerType,o=null!=(i=t.recursive)?i:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,((i,s)=>{var l;if(!o||!a||!this._typeCheck(s))return void r(i,s);let u=new Array(s.length);for(let n=0;n<s.length;n++){var c;u[n]=a.asNestedTest({options:t,index:n,parent:s,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:s,tests:u,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,(e=>r(e.concat(i),s)))}))}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(bs)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!qo(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+jo(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=Bo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||Bo.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||Bo.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default((()=>[])).transform(((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t)))}compact(e){let t=e?(t,n,r)=>!e(t,n,r):e=>!!e;return this.transform((e=>null!=e?e.filter(t):e))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var r;let i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=t.innerType.describe(i)}return n}}function Cs(e,t,n){if(!e||!qo(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof t)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n}Os.prototype=Ts.prototype;const As=e=>e.split("\n").filter((e=>!Ja(e))),Ss=e=>{const t=e.split("|").map((e=>e.trim()));return 2!==t.length||Ja(t[0])||Ja(t[1])?null:{label:t[0],value:t[1]}},js=xs().shape({items:fs().test("validate-format",'Incorrect format. Check that all labels and values are filled and separated with "|".',(e=>{if(Ja(e))return!0;return As(e).every((e=>Ss(e)))}))}),Ds=g.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
    text-align: left;
`,Is=g(k)`
    /* increase specificity as the styles are overwritten */
    && {
        height: 100%;
        overflow-y: auto;
    }
    cursor: pointer;
`,ks=g.div`
    display: flex;
    justify-content: center;
    margin-top: 2rem;
    gap: 2rem;
`,Ms=g(N.Default)`
    width: 100%;
`,Ns=g(C.H3)`
    padding: 2rem 0 1rem 0;
`,$s=({modal:n})=>{const{hideModal:r}=un(),{type:i,onClickActionButton:a,optionsString:o}=n,s=Kr({mode:"onTouched",resolver:ti(js),defaultValues:{items:o}}),l=s.formState.isValid,u=()=>{r(i)};return e(pn,Object.assign({type:null==n?void 0:n.type},{children:e(Vn,Object.assign({},s,{children:t("form",Object.assign({onSubmit:s.handleSubmit((e=>{a(e.items),r(i)}))},{children:[t(Ds,Object.assign({"data-testid":"bulk-edit-modal"},{children:[e(C.H3,Object.assign({weight:600},{children:"Bulk Edit"})),e(C.Body,Object.assign({weight:400},{children:"To add multiple entries at once, input each item on a new line, separating the label and value with a bar “|”."})),t(C.H6,Object.assign({weight:400},{children:["Example:",e("br",{}),"Banana | banana",e("br",{}),"Green Apple | green-apple"]})),e(Jn,{name:"items",control:s.control,render:({field:t})=>{var n,r;return e(M.Textarea,Object.assign({},t,{placeholder:"Enter label and value",value:t.value,onChange:e=>t.onChange(e.target.value),errorMessage:null===(r=null===(n=s.formState.errors)||void 0===n?void 0:n.items)||void 0===r?void 0:r.message}))}})]})),t(ks,{children:[e(Ms,Object.assign({type:"button",onClick:u,styleType:"light"},{children:"Cancel"})),e(Ms,Object.assign({disabled:!l},{children:"Save"}))]})]}))}))}))},Rs=({modal:n})=>{const{hideModal:r}=un(),{type:i,onClickActionButton:a}=n,o=()=>{r(i)};return t(pn,Object.assign({type:null==n?void 0:n.type},{children:[e($,{type:"confirmation",title:e(Ns,Object.assign({weight:"semibold"},{children:"Discard changes?"}))}),t(ks,{children:[e(Ms,Object.assign({onClick:a},{children:"Discard changes"})),e(Ms,Object.assign({onClick:o,styleType:"light"},{children:"Keep editing"}))]})]}))},Fs=({modal:n})=>{const{onClickActionButton:r,onClose:i}=n;return t(pn,Object.assign({type:null==n?void 0:n.type,onClose:i},{children:[e($,{type:"confirmation",description:"You've changed the element type. This will reset all fields to match the new element type.",title:e(Ns,Object.assign({weight:"semibold"},{children:"Reset all fields?"}))}),t(ks,{children:[e(Ms,Object.assign({onClick:r},{children:"Reset all fields"})),e(Ms,Object.assign({onClick:i,styleType:"light"},{children:"Return to edit"}))]})]}))},Ls=()=>{const{modals:t}=un();return e(Is,Object.assign({show:!!(null==t?void 0:t.length)},{children:((t,n)=>{if(null==t?void 0:t.type)switch(null==t?void 0:t.type){case zt.DiscardChanges:return e(Rs,{modal:t});case zt.BulkEdit:return e($s,{modal:t});case zt.ResetFields:return e(Fs,{modal:t});default:console.error("type given is not a modal type!")}})(t[0])}))};const Vs="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function zs(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Ps(e){return"nodeType"in e}function Bs(e){var t,n;return e?zs(e)?e:Ps(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Us(e){const{Document:t}=Bs(e);return e instanceof t}function qs(e){return!zs(e)&&e instanceof Bs(e).HTMLElement}function Ws(e){return e instanceof Bs(e).SVGElement}function Hs(e){return e?zs(e)?e.document:Ps(e)?Us(e)?e:qs(e)||Ws(e)?e.ownerDocument:document:document:document}const Xs=Vs?u:c;function Gs(e){const t=d(e);return Xs((()=>{t.current=e})),l((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function Zs(e,t){void 0===t&&(t=[e]);const n=d(e);return Xs((()=>{n.current!==e&&(n.current=e)}),t),n}function Ks(e,t){const n=d();return i((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function Ys(e){const t=Gs(e),n=d(null),r=l((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}function Js(e){const t=d();return c((()=>{t.current=e}),[e]),t.current}let Qs={};function el(e,t){return i((()=>{if(t)return t;const n=null==Qs[e]?0:Qs[e]+1;return Qs[e]=n,e+"-"+n}),[e,t])}function tl(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}const nl=tl(1),rl=tl(-1);function il(e){if(!e)return!1;const{KeyboardEvent:t}=Bs(e.target);return t&&e instanceof t}function al(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Bs(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const ol=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ol.Translate.toString(e),ol.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),sl="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ll(e){return e.matches(sl)?e:e.querySelector(sl)}const ul={display:"none"};function cl(e){let{id:t,value:n}=e;return r.createElement("div",{id:t,style:ul},n)}function dl(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;return r.createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":i,"aria-atomic":!0},n)}const fl=o(null);const pl={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},hl={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ml(e){let{announcements:t=hl,container:n,hiddenTextDescribedById:a,screenReaderInstructions:o=pl}=e;const{announce:u,announcement:d}=function(){const[e,t]=f("");return{announce:l((e=>{null!=e&&t(e)}),[]),announcement:e}}(),p=el("DndLiveRegion"),[h,m]=f(!1);if(c((()=>{m(!0)}),[]),function(e){const t=s(fl);c((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}(i((()=>({onDragStart(e){let{active:n}=e;u(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&u(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;u(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;u(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;u(t.onDragCancel({active:n,over:r}))}})),[u,t])),!h)return null;const v=r.createElement(r.Fragment,null,r.createElement(cl,{id:a,value:o.draggable}),r.createElement(dl,{id:p,announcement:d}));return n?F(v,n):v}var vl;function gl(){}function bl(e,t){return i((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function yl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i((()=>[...t].filter((e=>null!=e))),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(vl||(vl={}));const _l=Object.freeze({x:0,y:0});function wl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function xl(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function El(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ol(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function Tl(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function Cl(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Al=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Cl(t,t.left,t.top),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=wl(Cl(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(xl)},Sl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Ol(t),a=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Ol(r),o=i.reduce(((e,t,r)=>e+wl(n[r],t)),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(xl)};function jl(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const n=t.width*t.height,r=e.width*e.height,i=o*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const Dl=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const e of r){const{id:r}=e,a=n.get(r);if(a){const n=jl(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(El)};function Il(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:_l}function kl(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const Ml=kl(1);const Nl={ignoreTransform:!1};function $l(e,t){void 0===t&&(t=Nl);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Bs(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=e.left-o-(1-i)*parseFloat(n),u=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}(n,t,r))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function Rl(e){return $l(e,{ignoreTransform:!0})}function Fl(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(Us(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!qs(i)||Ws(i))return n;if(n.includes(i))return n;const a=Bs(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=Bs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(i,a)&&n.push(i),function(e,t){return void 0===t&&(t=Bs(e).getComputedStyle(e)),"fixed"===t.position}(i,a)?n:r(i.parentNode)}(e):n}function Ll(e){const[t]=Fl(e,1);return null!=t?t:null}function Vl(e){return Vs&&e?zs(e)?e:Ps(e)?Us(e)||e===Hs(e).scrollingElement?window:qs(e)?e:null:null:null}function zl(e){return zs(e)?e.scrollX:e.scrollLeft}function Pl(e){return zs(e)?e.scrollY:e.scrollTop}function Bl(e){return{x:zl(e),y:Pl(e)}}var Ul;function ql(e){return!(!Vs||!e)&&e===document.scrollingElement}function Wl(e){const t={x:0,y:0},n=ql(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Ul||(Ul={}));const Hl={x:.2,y:.2};function Xl(e,t,n,r,i){let{top:a,left:o,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=Hl);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=Wl(e),p={x:0,y:0},h={x:0,y:0},m=t.height*i.y,v=t.width*i.x;return!u&&a<=t.top+m?(p.y=Ul.Backward,h.y=r*Math.abs((t.top+m-a)/m)):!c&&l>=t.bottom-m&&(p.y=Ul.Forward,h.y=r*Math.abs((t.bottom-m-l)/m)),!f&&s>=t.right-v?(p.x=Ul.Forward,h.x=r*Math.abs((t.right-v-s)/v)):!d&&o<=t.left+v&&(p.x=Ul.Backward,h.x=r*Math.abs((t.left+v-o)/v)),{direction:p,speed:h}}function Gl(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Zl(e){return e.reduce(((e,t)=>nl(e,Bl(t))),_l)}const Kl=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+zl(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Pl(t)),0)}]];class Yl{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Fl(t),r=Zl(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of Kl)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Ql(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var eu,tu;function nu(e){e.preventDefault()}function ru(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(eu||(eu={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(tu||(tu={}));const iu={start:[tu.Space,tu.Enter],cancel:[tu.Esc],end:[tu.Space,tu.Enter]},au=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case tu.Right:return{...n,x:n.x+25};case tu.Left:return{...n,x:n.x-25};case tu.Down:return{...n,y:n.y+25};case tu.Up:return{...n,y:n.y-25}}};class ou{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Jl(Hs(t)),this.windowListeners=new Jl(Bs(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(eu.Resize,this.handleCancel),this.windowListeners.add(eu.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(eu.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=$l),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);Ll(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(_l)}handleKeyDown(e){if(il(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=iu,coordinateGetter:a=au,scrollBehavior:o="smooth"}=r,{code:s}=e;if(i.end.includes(s))return void this.handleEnd(e);if(i.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:_l;this.referenceCoordinates||(this.referenceCoordinates=u);const c=a(e,{active:t,context:n.current,currentCoordinates:u});if(c){const t=rl(c,u),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:a,isRight:s,isLeft:l,isBottom:u,maxScroll:d,minScroll:f}=Wl(n),p=Gl(n),h={x:Math.min(i===tu.Right?p.right-p.width/2:p.right,Math.max(i===tu.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(i===tu.Down?p.bottom-p.height/2:p.bottom,Math.max(i===tu.Down?p.top:p.top+p.height/2,c.y))},m=i===tu.Right&&!s||i===tu.Left&&!l,v=i===tu.Down&&!u||i===tu.Up&&!a;if(m&&h.x!==c.x){const e=n.scrollLeft+t.x,a=i===tu.Right&&e<=d.x||i===tu.Left&&e>=f.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=a?n.scrollLeft-e:i===tu.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(v&&h.y!==c.y){const e=n.scrollTop+t.y,a=i===tu.Down&&e<=d.y||i===tu.Up&&e>=f.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=a?n.scrollTop-e:i===tu.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,nl(rl(c,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function su(e){return Boolean(e&&"distance"in e)}function lu(e){return Boolean(e&&"delay"in e)}ou.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=iu,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class uu{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Bs(e);return e instanceof t?e:Hs(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=Hs(a),this.documentListeners=new Jl(this.document),this.listeners=new Jl(n),this.windowListeners=new Jl(Bs(a)),this.initialCoordinates=null!=(r=al(i))?r:_l,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(eu.Resize,this.handleCancel),this.windowListeners.add(eu.DragStart,nu),this.windowListeners.add(eu.VisibilityChange,this.handleCancel),this.windowListeners.add(eu.ContextMenu,nu),this.documentListeners.add(eu.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(lu(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(su(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(eu.Click,ru,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(eu.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!r)return;const s=null!=(t=al(e))?t:_l,l=rl(r,s);if(!n&&o){if(su(o)){if(null!=o.tolerance&&Ql(l,o.tolerance))return this.handleCancel();if(Ql(l,o.distance))return this.handleStart()}return lu(o)&&Ql(l,o.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===tu.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const cu={move:{name:"pointermove"},end:{name:"pointerup"}};class du extends uu{constructor(e){const{event:t}=e,n=Hs(t.target);super(e,cu,n)}}du.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const fu={move:{name:"mousemove"},end:{name:"mouseup"}};var pu;!function(e){e[e.RightClick=2]="RightClick"}(pu||(pu={}));class hu extends uu{constructor(e){super(e,fu,Hs(e.event.target))}}hu.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==pu.RightClick&&(null==r||r({event:n}),!0)}}];const mu={move:{name:"touchmove"},end:{name:"touchend"}};class vu extends uu{constructor(e){super(e,mu)}static setup(){return window.addEventListener(mu.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(mu.move.name,e)};function e(){}}}var gu,bu;function yu(e){let{acceleration:t,activator:n=gu.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:s=5,order:u=bu.TreeOrder,pointerCoordinates:f,scrollableAncestors:p,scrollableAncestorRects:h,delta:m,threshold:v}=e;const g=function(e){let{delta:t,disabled:n}=e;const r=Js(t);return Ks((e=>{if(n||!r||!e)return _u;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ul.Backward]:e.x[Ul.Backward]||-1===i.x,[Ul.Forward]:e.x[Ul.Forward]||1===i.x},y:{[Ul.Backward]:e.y[Ul.Backward]||-1===i.y,[Ul.Forward]:e.y[Ul.Forward]||1===i.y}}}),[n,t,r])}({delta:m,disabled:!o}),[b,y]=function(){const e=d(null);return[l(((t,n)=>{e.current=setInterval(t,n)}),[]),l((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),_=d({x:0,y:0}),w=d({x:0,y:0}),x=i((()=>{switch(n){case gu.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case gu.DraggableRect:return a}}),[n,a,f]),E=d(null),O=l((()=>{const e=E.current;if(!e)return;const t=_.current.x*w.current.x,n=_.current.y*w.current.y;e.scrollBy(t,n)}),[]),T=i((()=>u===bu.TreeOrder?[...p].reverse():p),[u,p]);c((()=>{if(o&&p.length&&x){for(const e of T){if(!1===(null==r?void 0:r(e)))continue;const n=p.indexOf(e),i=h[n];if(!i)continue;const{direction:a,speed:o}=Xl(e,i,x,t,v);for(const e of["x","y"])g[e][a[e]]||(o[e]=0,a[e]=0);if(o.x>0||o.y>0)return y(),E.current=e,b(O,s),_.current=o,void(w.current=a)}_.current={x:0,y:0},w.current={x:0,y:0},y()}else y()}),[t,O,r,y,o,s,JSON.stringify(x),JSON.stringify(g),b,p,T,h,JSON.stringify(v)])}vu.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(gu||(gu={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(bu||(bu={}));const _u={x:{[Ul.Backward]:!1,[Ul.Forward]:!1},y:{[Ul.Backward]:!1,[Ul.Forward]:!1}};var wu,xu;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(wu||(wu={})),function(e){e.Optimized="optimized"}(xu||(xu={}));const Eu=new Map;function Ou(e,t){return Ks((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function Tu(e){let{callback:t,disabled:n}=e;const r=Gs(t),a=i((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return c((()=>()=>null==a?void 0:a.disconnect()),[a]),a}function Cu(e){return new Yl($l(e),e)}function Au(e,t,n){void 0===t&&(t=Cu);const[r,o]=a((function(r){if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=r?r:n)?i:null;const a=t(e);if(JSON.stringify(r)===JSON.stringify(a))return r;return a}),null),s=function(e){let{callback:t,disabled:n}=e;const r=Gs(t),a=i((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return c((()=>()=>null==a?void 0:a.disconnect()),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),l=Tu({callback:o});return Xs((()=>{o(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())}),[e]),r}const Su=[];function ju(e,t){void 0===t&&(t=[]);const n=d(null);return c((()=>{n.current=null}),t),c((()=>{const t=e!==_l;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?rl(e,n.current):_l}function Du(e){return i((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const Iu=[];function ku(e){let{measure:t}=e;const[n,r]=f(null),a=l((e=>{for(const{target:n}of e)if(qs(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t]),o=Tu({callback:a}),s=l((e=>{const n=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qs(t)?t:e}(e);null==o||o.disconnect(),n&&(null==o||o.observe(n)),r(n?t(n):null)}),[t,o]),[u,c]=Ys(s);return i((()=>({nodeRef:u,rect:n,setRef:c})),[n,u,c])}const Mu=[{sensor:du,options:{}},{sensor:ou,options:{}}],Nu={current:{}},$u={draggable:{measure:Rl},droppable:{measure:Rl,strategy:wu.WhileDragging,frequency:xu.Optimized},dragOverlay:{measure:$l}};class Ru extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Fu={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ru,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$u,measureDroppableContainers:gl,windowRect:null,measuringScheduled:!1},Lu=o({activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gl,draggableNodes:new Map,over:null,measureDroppableContainers:gl}),Vu=o(Fu);function zu(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ru}}}function Pu(e,t){switch(t.type){case vl.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case vl.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case vl.DragEnd:case vl.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vl.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Ru(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case vl.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Ru(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case vl.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Ru(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Bu(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=s(Lu),a=Js(r),o=Js(null==n?void 0:n.id);return c((()=>{if(!t&&!r&&a&&null!=o){if(!il(a))return;if(document.activeElement===a.target)return;const e=i.get(o);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=ll(e);if(t){t.focus();break}}}))}}),[r,t,i,o,a]),null}const Uu=o({..._l,scaleX:1,scaleY:1});var qu;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(qu||(qu={}));const Wu=p((function(e){var t,n,o,s;let{id:u,accessibility:p,autoScroll:h=!0,children:m,sensors:v=Mu,collisionDetection:g=Dl,measuring:b,modifiers:y,..._}=e;const w=a(Pu,void 0,zu),[x,E]=w,[O,T]=function(){const[e]=f((()=>new Set)),t=l((t=>(e.add(t),()=>e.delete(t))),[e]);return[l((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[C,A]=f(qu.Uninitialized),S=C===qu.Initialized,{draggable:{active:j,nodes:D,translate:I},droppable:{containers:k}}=x,M=j?D.get(j):null,N=d({initial:null,translated:null}),$=i((()=>{var e;return null!=j?{id:j,data:null!=(e=null==M?void 0:M.data)?e:Nu,rect:N}:null}),[j,M]),F=d(null),[L,V]=f(null),[z,P]=f(null),B=Zs(_,Object.values(_)),U=el("DndDescribedBy",u),q=i((()=>k.getEnabled()),[k]),W=i((()=>({draggable:{...$u.draggable,...null==H?void 0:H.draggable},droppable:{...$u.droppable,...null==H?void 0:H.droppable},dragOverlay:{...$u.dragOverlay,...null==H?void 0:H.dragOverlay}})),[null==(H=b)?void 0:H.draggable,null==H?void 0:H.droppable,null==H?void 0:H.dragOverlay]);var H;const{droppableRects:X,measureDroppableContainers:G,measuringScheduled:Z}=function(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=f(null),{frequency:s,measure:u,strategy:p}=i,h=d(e),m=function(){switch(p){case wu.Always:return!1;case wu.BeforeDragging:return n;default:return!n}}(),v=Zs(m),g=l((function(e){void 0===e&&(e=[]),v.current||o((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[v]),b=d(null),y=Ks((t=>{if(m&&!n)return Eu;if(!t||t===Eu||h.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Yl(u(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,a,n,m,u]);return c((()=>{h.current=e}),[e]),c((()=>{m||g()}),[n,m]),c((()=>{a&&a.length>0&&o(null)}),[JSON.stringify(a)]),c((()=>{m||"number"!=typeof s||null!==b.current||(b.current=setTimeout((()=>{g(),b.current=null}),s))}),[s,m,g,...r]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:null!=a}}(q,{dragging:S,dependencies:[I.x,I.y],config:W.droppable}),K=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return Ks((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(D,j),Y=i((()=>z?al(z):null),[z]),J=function(){const e=!1===(null==L?void 0:L.autoScrollEnabled),t="object"==typeof h?!1===h.enabled:!1===h,n=S&&!e&&!t;if("object"==typeof h)return{...h,enabled:n};return{enabled:n}}(),Q=function(e,t){return Ou(e,t)}(K,W.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=d(!1),{x:o,y:s}="boolean"==typeof i?{x:i,y:i}:i;Xs((()=>{if(!o&&!s||!t)return void(a.current=!1);if(a.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const i=Il(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const t=Ll(e);t&&t.scrollBy({top:i.y,left:i.x})}}),[t,o,s,r,n])}({activeNode:j?D.get(j):null,config:J.layoutShiftCompensation,initialRect:Q,measure:W.draggable.measure});const ee=Au(K,W.draggable.measure,Q),te=Au(K?K.parentElement:null),ne=d({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),re=k.getNodeFor(null==(t=ne.current.over)?void 0:t.id),ie=ku({measure:W.dragOverlay.measure}),ae=null!=(n=ie.nodeRef.current)?n:K,oe=S?null!=(o=ie.rect)?o:ee:null,se=Boolean(ie.nodeRef.current&&ie.rect),le=Il(ue=se?null:ee,Ou(ue));var ue;const ce=Du(ae?Bs(ae):null),de=function(e){const t=d(e),n=Ks((n=>e?n&&n!==Su&&e&&t.current&&e.parentNode===t.current.parentNode?n:Fl(e):Su),[e]);return c((()=>{t.current=e}),[e]),n}(S?null!=re?re:K:null),fe=function(e,t){void 0===t&&(t=$l);const[n]=e,r=Du(n?Bs(n):null),[i,o]=a((function(){return e.length?e.map((e=>ql(e)?r:new Yl(t(e),e))):Iu}),Iu),s=Tu({callback:o});return e.length>0&&i===Iu&&o(),Xs((()=>{e.length?e.forEach((e=>null==s?void 0:s.observe(e))):(null==s||s.disconnect(),o())}),[e]),i}(de),pe=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(y,{transform:{x:I.x-le.x,y:I.y-le.y,scaleX:1,scaleY:1},activatorEvent:z,active:$,activeNodeRect:ee,containerNodeRect:te,draggingNodeRect:oe,over:ne.current.over,overlayNodeRect:ie.rect,scrollableAncestors:de,scrollableAncestorRects:fe,windowRect:ce}),he=Y?nl(Y,I):null,me=function(e){const[t,n]=f(null),r=d(e),a=l((e=>{const t=Vl(e.target);t&&n((e=>e?(e.set(t,Bl(t)),new Map(e)):null))}),[]);return c((()=>{const t=r.current;if(e!==t){i(t);const o=e.map((e=>{const t=Vl(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,Bl(t)]):null})).filter((e=>null!=e));n(o.length?new Map(o):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach((e=>{const t=Vl(e);null==t||t.removeEventListener("scroll",a)}))}}),[a,e]),i((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>nl(e,t)),_l):Zl(e):_l),[e,t])}(de),ve=ju(me),ge=ju(me,[ee]),be=nl(pe,ve),ye=oe?Ml(oe,pe):null,_e=$&&ye?g({active:$,collisionRect:ye,droppableRects:X,droppableContainers:q,pointerCoordinates:he}):null,we=Tl(_e,"id"),[xe,Ee]=f(null),Oe=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(se?pe:nl(pe,ge),null!=(s=null==xe?void 0:xe.rect)?s:null,ee),Te=l(((e,t)=>{let{sensor:n,options:r}=t;if(null==F.current)return;const i=D.get(F.current);if(!i)return;const a=e.nativeEvent,o=new n({active:F.current,activeNode:i,event:a,options:r,context:ne,onStart(e){const t=F.current;if(null==t)return;const n=D.get(t);if(!n)return;const{onDragStart:r}=B.current,i={active:{id:t,data:n.data,rect:N}};R((()=>{null==r||r(i),A(qu.Initializing),E({type:vl.DragStart,initialCoordinates:e,active:t}),O({type:"onDragStart",event:i})}))},onMove(e){E({type:vl.DragMove,coordinates:e})},onEnd:s(vl.DragEnd),onCancel:s(vl.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=ne.current;let o=null;if(t&&i){const{cancelDrop:s}=B.current;if(o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===vl.DragEnd&&"function"==typeof s){await Promise.resolve(s(o))&&(e=vl.DragCancel)}}F.current=null,R((()=>{E({type:e}),A(qu.Uninitialized),Ee(null),V(null),P(null);const t=e===vl.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=B.current[t];null==e||e(o),O({type:t,event:o})}}))}}R((()=>{V(o),P(e.nativeEvent)}))}),[D]),Ce=l(((e,t)=>(n,r)=>{const i=n.nativeEvent,a=D.get(r);if(null!==F.current||!a||i.dndKit||i.defaultPrevented)return;const o={active:a};!0===e(n,t.options,o)&&(i.dndKit={capturedBy:t.sensor},F.current=r,Te(n,t))}),[D,Te]),Ae=function(e,t){return i((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(v,Ce);!function(e){c((()=>{if(!Vs)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(v),Xs((()=>{ee&&C===qu.Initializing&&A(qu.Initialized)}),[ee,C]),c((()=>{const{onDragMove:e}=B.current,{active:t,activatorEvent:n,collisions:r,over:i}=ne.current;if(!t||!n)return;const a={active:t,activatorEvent:n,collisions:r,delta:{x:be.x,y:be.y},over:i};R((()=>{null==e||e(a),O({type:"onDragMove",event:a})}))}),[be.x,be.y]),c((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=ne.current;if(!e||null==F.current||!t||!i)return;const{onDragOver:a}=B.current,o=r.get(we),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};R((()=>{Ee(s),null==a||a(l),O({type:"onDragOver",event:l})}))}),[we]),Xs((()=>{ne.current={activatorEvent:z,active:$,activeNode:K,collisionRect:ye,collisions:_e,droppableRects:X,draggableNodes:D,draggingNode:ae,draggingNodeRect:oe,droppableContainers:k,over:xe,scrollableAncestors:de,scrollAdjustedTranslate:be},N.current={initial:oe,translated:ye}}),[$,K,_e,ye,D,ae,oe,X,k,xe,de,be]),yu({...J,delta:I,draggingRect:ye,pointerCoordinates:he,scrollableAncestors:de,scrollableAncestorRects:fe});const Se=i((()=>({active:$,activeNode:K,activeNodeRect:ee,activatorEvent:z,collisions:_e,containerNodeRect:te,dragOverlay:ie,draggableNodes:D,droppableContainers:k,droppableRects:X,over:xe,measureDroppableContainers:G,scrollableAncestors:de,scrollableAncestorRects:fe,measuringConfiguration:W,measuringScheduled:Z,windowRect:ce})),[$,K,ee,z,_e,te,ie,D,k,X,xe,G,de,fe,W,Z,ce]),je=i((()=>({activatorEvent:z,activators:Ae,active:$,activeNodeRect:ee,ariaDescribedById:{draggable:U},dispatch:E,draggableNodes:D,over:xe,measureDroppableContainers:G})),[z,Ae,$,ee,E,U,D,xe,G]);return r.createElement(fl.Provider,{value:T},r.createElement(Lu.Provider,{value:je},r.createElement(Vu.Provider,{value:Se},r.createElement(Uu.Provider,{value:Oe},m)),r.createElement(Bu,{disabled:!1===(null==p?void 0:p.restoreFocus)})),r.createElement(ml,{...p,hiddenTextDescribedById:U}))})),Hu=o(null),Xu="button",Gu="Droppable";function Zu(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const o=el(Gu),{activators:l,activatorEvent:u,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:h}=s(Lu),{role:m=Xu,roleDescription:v="draggable",tabIndex:g=0}=null!=a?a:{},b=(null==c?void 0:c.id)===t,y=s(b?Uu:Hu),[_,w]=Ys(),[x,E]=Ys(),O=function(e,t){return i((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(l,t),T=Zs(n);Xs((()=>(p.set(t,{id:t,key:o,node:_,activatorNode:x,data:T}),()=>{const e=p.get(t);e&&e.key===o&&p.delete(t)})),[p,t]);return{active:c,activatorEvent:u,activeNodeRect:d,attributes:i((()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":!(!b||m!==Xu)||void 0,"aria-roledescription":v,"aria-describedby":f.draggable})),[r,m,g,b,v,f.draggable]),isDragging:b,listeners:r?void 0:O,node:_,over:h,setNodeRef:w,setActivatorNodeRef:E,transform:y}}const Ku="Droppable",Yu={timeout:25};function Ju(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=el(Ku),{active:o,dispatch:u,over:f,measureDroppableContainers:p}=s(Lu),h=d({disabled:n}),m=d(!1),v=d(null),g=d(null),{disabled:b,updateMeasurementsFor:y,timeout:_}={...Yu,...i},w=Zs(null!=y?y:r),x=Tu({callback:l((()=>{m.current?(null!=g.current&&clearTimeout(g.current),g.current=setTimeout((()=>{p(Array.isArray(w.current)?w.current:[w.current]),g.current=null}),_)):m.current=!0}),[_]),disabled:b||!o}),E=l(((e,t)=>{x&&(t&&(x.unobserve(t),m.current=!1),e&&x.observe(e))}),[x]),[O,T]=Ys(E),C=Zs(t);return c((()=>{x&&O.current&&(x.disconnect(),m.current=!1,x.observe(O.current))}),[O,x]),Xs((()=>(u({type:vl.RegisterDroppable,element:{id:r,key:a,disabled:n,node:O,rect:v,data:C}}),()=>u({type:vl.UnregisterDroppable,key:a,id:r}))),[r]),c((()=>{n!==h.current.disabled&&(u({type:vl.SetDroppableDisabled,id:r,key:a,disabled:n}),h.current.disabled=n)}),[r,a,n,u]),{active:o,rect:v,isOver:(null==f?void 0:f.id)===r,node:O,over:f,setNodeRef:T}}function Qu(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ec(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function tc(e){return null!==e&&e>=0}const nc=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=Qu(t,r,n),o=t[i],s=a[i];return s&&o?{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}:null},rc={scaleX:1,scaleY:1},ic=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=null!=(t=a[n])?t:r;if(!s)return null;if(i===n){const e=a[o];return e?{x:0,y:n<o?e.top+e.height-(s.top+s.height):e.top-s.top,...rc}:null}const l=function(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0;return a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-l,...rc}:i<n&&i>=o?{x:0,y:s.height+l,...rc}:{x:0,y:0,...rc}};const ac="Sortable",oc=r.createContext({activeIndex:-1,containerId:ac,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nc,disabled:{draggable:!1,droppable:!1}});function sc(e){let{children:t,id:n,items:a,strategy:o=nc,disabled:l=!1}=e;const{active:u,dragOverlay:f,droppableRects:p,over:h,measureDroppableContainers:m}=s(Vu),v=el(ac,n),g=Boolean(null!==f.rect),b=i((()=>a.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[a]),y=null!=u,_=u?b.indexOf(u.id):-1,w=h?b.indexOf(h.id):-1,x=d(b),E=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(b,x.current),O=-1!==w&&-1===_||E,T=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(l);Xs((()=>{E&&y&&m(b)}),[E,b,y,m]),c((()=>{x.current=b}),[b]);const C=i((()=>({activeIndex:_,containerId:v,disabled:T,disableTransforms:O,items:b,overIndex:w,useDragOverlay:g,sortedRects:ec(b,p),strategy:o})),[_,v,T.draggable,T.droppable,O,b,w,p,g,o]);return r.createElement(oc.Provider,{value:C},t)}const lc=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return Qu(n,r,i).indexOf(t)},uc=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:u}=e;return!(!u||!r)&&((s===a||i!==o)&&(!!n||o!==i&&t===l))},cc={duration:200,easing:"ease"},dc="transform",fc=ol.Transition.toString({property:dc,duration:0,easing:"linear"}),pc={roleDescription:"sortable"};function hc(e){let{animateLayoutChanges:t=uc,attributes:n,disabled:r,data:a,getNewIndex:o=lc,id:l,strategy:u,resizeObserverConfig:p,transition:h=cc}=e;const{items:m,containerId:v,activeIndex:g,disabled:b,disableTransforms:y,sortedRects:_,overIndex:w,useDragOverlay:x,strategy:E}=s(oc),O=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,b),T=m.indexOf(l),C=i((()=>({sortable:{containerId:v,index:T,items:m},...a})),[v,a,T,m]),A=i((()=>m.slice(m.indexOf(l))),[m,l]),{rect:S,node:j,isOver:D,setNodeRef:I}=Ju({id:l,data:C,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...p}}),{active:k,activatorEvent:M,activeNodeRect:N,attributes:$,setNodeRef:R,listeners:F,isDragging:L,over:V,setActivatorNodeRef:z,transform:P}=Zu({id:l,data:C,attributes:{...pc,...n},disabled:O.draggable}),B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i((()=>e=>{t.forEach((t=>t(e)))}),t)}(I,R),U=Boolean(k),q=U&&!y&&tc(g)&&tc(w),W=!x&&L,H=W&&q?P:null,X=q?null!=H?H:(null!=u?u:E)({rects:_,activeNodeRect:N,activeIndex:g,overIndex:w,index:T}):null,G=tc(g)&&tc(w)?o({id:l,items:m,activeIndex:g,overIndex:w}):T,Z=null==k?void 0:k.id,K=d({activeId:Z,items:m,newIndex:G,containerId:v}),Y=m!==K.current.items,J=t({active:k,containerId:v,isDragging:L,isSorting:U,id:l,index:T,items:m,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:h,wasDragging:null!=K.current.activeId}),Q=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=f(null),s=d(n);return Xs((()=>{if(!t&&n!==s.current&&r.current){const e=i.current;if(e){const t=$l(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)}),[t,n,r,i]),c((()=>{a&&o(null)}),[a]),a}({disabled:!J,index:T,node:j,rect:S});return c((()=>{U&&K.current.newIndex!==G&&(K.current.newIndex=G),v!==K.current.containerId&&(K.current.containerId=v),m!==K.current.items&&(K.current.items=m)}),[U,G,v,m]),c((()=>{if(Z===K.current.activeId)return;if(Z&&!K.current.activeId)return void(K.current.activeId=Z);const e=setTimeout((()=>{K.current.activeId=Z}),50);return()=>clearTimeout(e)}),[Z]),{active:k,activeIndex:g,attributes:$,data:C,rect:S,index:T,newIndex:G,items:m,isOver:D,isSorting:U,isDragging:L,listeners:F,node:j,overIndex:w,over:V,setNodeRef:B,setActivatorNodeRef:z,setDroppableNodeRef:I,setDraggableNodeRef:R,transform:null!=Q?Q:X,transition:function(){if(Q||Y&&K.current.newIndex===T)return fc;if(W&&!il(M)||!h)return;if(U||J)return ol.Transition.toString({...h,property:dc});return}()}}function mc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const vc=[tu.Down,tu.Right,tu.Up,tu.Left],gc=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(vc.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];a.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const a=i.get(n.id);if(a)switch(e.code){case tu.Down:r.top<a.top&&t.push(n);break;case tu.Up:r.top>a.top&&t.push(n);break;case tu.Left:r.left>a.left&&t.push(n);break;case tu.Right:r.left<a.left&&t.push(n)}}));const l=Sl({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null});let u=Tl(l,"id");if(u===(null==o?void 0:o.id)&&l.length>1&&(u=l[1].id),null!=u){const e=a.get(n.id),t=a.get(u),o=t?i.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&o&&e&&t){const n=Fl(l).some(((e,t)=>s[t]!==e)),i=bc(e,t),a=function(e,t){if(!mc(e)||!mc(t))return!1;if(!bc(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),u=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},c={x:o.left,y:o.top};return u.x&&u.y?c:rl(c,u)}}}};function bc(e,t){return!(!mc(e)||!mc(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const yc={expanded:{right:{desktop4k:"4 / span 3",desktopL:"5 / span 4",tablet:"4 / span 3"},left:{desktop4k:"1 / span 3",desktopL:"1 / span 4",tablet:"1 / span 3"},full:{desktop4k:"1 / span 6",desktopL:"1 / span 8",tablet:"1 / span 6"}},minimised:{right:{desktop4k:"4 / span 3",tablet:"4 / span 2"},left:{desktop4k:"1 / span 3",tablet:"1 / span 2"},full:{desktop4k:"1 / span 6",tablet:"1 / span 4"}}},_c=(e,t="expanded")=>{return n=yc[t][e],b`
    ${Object.entries(n).map((([e,t])=>`${I.MaxWidth[e]} { grid-column: ${t}; }`))}
`;var n},wc=g(L)`
    display: none;
    transition: width 0.1s ease-out;
    min-width: 1.25rem;

    svg {
        height: 1.25rem;
        width: 1.25rem;
    }
`,xc=g.div`
    display: flex;
    align-items: center;
    width: 100%;
    gap: 1rem;
    flex: 1;
    height: 3.125rem;
    &:hover ${wc} {
        display: block;
    }
`,Ec=g.div`
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    gap: 0.25rem;
    overflow: hidden;
`;g(C.Body)`
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`;const Oc=g(C.XSmall)`
    color: ${v.Neutral[3]};
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`,Tc=g.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,Cc=g.button`
    background: transparent;
    cursor: pointer;
    padding: 1rem 0;
    border: none;
    gap: 0.25rem;
    display: flex;
    align-items: center;
    ${A.getTextStyle("XSmall","semibold")}

    svg {
        height: 1rem;
        width: 1rem;
    }

    ${({$disabled:e})=>e?b`
                color: ${v.Neutral[3]};
                cursor: not-allowed;
            `:b`
                color: ${v.Primary};

                :hover {
                    color: ${v.Secondary};
                }
            `}
`,Ac=g.div`
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: auto;
    width: 100%;
    padding: 0.4rem;
    gap: 0.25rem;
    border: 1px solid transparent;
    z-index: -1;

    ${({$size:e})=>_c(e)}

    ${({isOver:e})=>e&&b`
            border: 1px dashed ${v.Primary};
            border-radius: 0.25rem;
            background: ${v.Accent.Light[5]};
        `}

    svg {
        color: ${v.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,Sc=g(C.Body)`
    color: ${v.Primary};
    text-align: center;
    font-size: 1rem;
`,jc=g(te)`
    cursor: ${({$isDragging:e})=>e?"grabbing":"pointer"};
`,Dc=g.div`
    position: relative;
`,Ic=({element:n,onClick:r})=>{const{label:i,id:a,type:o}=n||{},s=Dt(a,o),{focusedElement:l,deleteElement:u,duplicateElement:c,orderedIdentifiers:d}=Ct(),{showToast:f}=Lt(),{isDragging:p}=Zu({id:null==n?void 0:n.internalId,disabled:s}),{attributes:h,listeners:m,setNodeRef:v,transform:g,transition:b}=hc({id:null==n?void 0:n.internalId,disabled:s}),{isOver:y,setNodeRef:_}=Ju({id:null==n?void 0:n.internalId}),w=d.find((e=>{if(e.internalId===(null==n?void 0:n.internalId))return e.size})),x=j(),E=j()&&(null==l?void 0:l.isDirty),T={transform:ol.Translate.toString(g),transition:b,opacity:p?"70%":"100%",background:p?"white":"inherit",gap:p?"1rem":"inherit",width:"100%",position:"relative",zIndex:p?1:"auto"},A=Object.assign(Object.assign({style:T},h),m),S=kt("id",fe[n.type]);function j(){var e;return l&&(null===(e=null==l?void 0:l.element)||void 0===e?void 0:e.internalId)===(null==n?void 0:n.internalId)}const D=y?t(Ac,Object.assign({isOver:y,$size:null==w?void 0:w.size},{children:[e(V,{}),e(Sc,Object.assign({weight:600},{children:"Drop your element here"}))]})):null;return t(Dc,Object.assign({ref:_},{children:[D,e("div",Object.assign({ref:v},A,{children:e(jc,Object.assign({onClick:r,focused:x,id:null==n?void 0:n.internalId,$isDragging:p},{children:t(xc,Object.assign({"data-testid":"card"+(null==n?void 0:n.internalId)},{children:[!s&&e(wc,{"data-testid":"drag-handle"}),e(Gt,{elementType:null==n?void 0:n.type}),t(Ec,{children:[e(C.Body,Object.assign({weight:"semibold"},{children:i})),S&&t(Oc,Object.assign({weight:"semibold"},{children:["ID: ",a]}))]}),x&&!s&&t(Tc,{children:[t(Cc,Object.assign({"data-testid":"delete-button",type:"button",onClick:e=>{e.stopPropagation();const t={message:"Element duplicated.",type:Vt.SUCCESS_TOAST};c(l.element),f(t)},$disabled:E,disabled:E},{children:[e(P,{}),"full"===(null==w?void 0:w.size)&&"Duplicate"]})),t(Cc,Object.assign({"data-testid":"duplicate-button",type:"button",onClick:e=>{e.stopPropagation(),u(n.internalId);const t={message:"Element deleted.",type:Vt.DELETE_ELEMENT_TOAST,elementInternalId:n.internalId};f(t)}},{children:[e(O,{}),"full"===(null==w?void 0:w.size)&&"Delete"]}))]})]}))}))}))]}))},kc=g.div`
    padding: 0 1rem 0 1rem;
    margin: 2rem 0 1rem 0;
`,Mc=g(S.Item)`
    border-top: ${({$hideTopBorder:e})=>e?`1px solid ${v.Neutral[6]}`:"0"};

    margin-top: ${({$hideTopBorder:e})=>e?"0":"-1rem"};

    #content-container {
        padding: 0;
    }

    [data-testid="accordion-item-title"] {
        margin: ${({$hideTopBorder:e})=>e?"1rem 0 1rem 1rem":"0 0 0 1rem"};
    }

    [data-testid="accordion-item-expandable-container"] {
        display: flex;
        flex-direction: column;
    }

    [data-testid="accordion-item-expand-collapse-button"] {
        margin: ${({$hideTopBorder:e})=>e?"0 0.1rem 0 1rem":"0 0.1rem 0 0"};
    }
`,Nc=g(S)`
    & > div:first-child {
        display: none;
    }
`,$c=g.div`
    background: rgba(248, 248, 248, 1);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    margin-bottom: 2rem;
`,Rc=g(M.Textarea)`
    min-height: 40px;
    overflow: hidden;
`,Fc=()=>{const{control:t,formState:{errors:n}}=Ln(),{focusedElement:r}=Ct(),i=Dt(r.element.id,r.element.type),a=It(r,"description"),o=i||a;return e(Jn,{name:"description",control:t,render:({field:t})=>{var r;return e(Rc,Object.assign({disabled:o},t,{"data-testid":"description-field",label:{children:"Description text (optional)",subtitle:e(C.H6,Object.assign({weight:400},{children:"This displays as a description under the label."}))},placeholder:"Enter description text",rows:1,onChange:e=>((e,t)=>{t.onChange(e.target.value),e.target.style.height="auto",e.target.style.height=`${Math.max(40,e.target.scrollHeight)}px`})(e,t),errorMessage:null===(r=n.description)||void 0===r?void 0:r.message,maxLength:180}))}})},Lc=()=>{var t,n;const{control:r,formState:{errors:i}}=Ln(),{focusedElement:a}=Ct(),o=Dt(null===(t=null==a?void 0:a.element)||void 0===t?void 0:t.id,null===(n=null==a?void 0:a.element)||void 0===n?void 0:n.type),s=It(a,"id"),l=o||s;return e(Jn,{name:"id",control:r,render:({field:t})=>{var n;return e(M.Input,Object.assign({disabled:l},t,{"data-testid":"id-field",label:{children:"ID",subtitle:e(C.H6,Object.assign({weight:400},{children:"ID is used to differentiate element from the others in the UI schema."}))},placeholder:"Create an ID",value:t.value||"",errorMessage:null===(n=i.id)||void 0===n?void 0:n.message}))}})},Vc=()=>{var t,n;const{control:r,formState:{errors:i}}=Ln(),{focusedElement:a}=Ct(),o=Dt(null===(t=null==a?void 0:a.element)||void 0===t?void 0:t.id,null===(n=null==a?void 0:a.element)||void 0===n?void 0:n.type),s=It(a,"label"),l=o||s;return e(Jn,{name:"label",control:r,render:({field:t})=>{var n;return e(M.Textarea,Object.assign({disabled:l},t,{"data-testid":"label-field",label:"Element Name",rows:1,placeholder:"Enter element name",errorMessage:null===(n=i.label)||void 0===n?void 0:n.message,maxLength:40}))}})},zc=g.div`
    display: flex;
    gap: 2rem;
    justify-content: start;
`,Pc=g.div`
    &:not(:last-child) {
        margin-bottom: 2rem;
    }
`,Bc=g(B)`
    label {
        gap: 0.5rem;
        display: flex;
    }
`,Uc=({onChange:n,value:r,label:i,options:a,disabled:o})=>{var s,l,u,c;const d=e=>{n(e)};return t(Pc,{children:[e(M.Label,Object.assign({subtitle:e(C.H6,Object.assign({weight:400},{children:null==i?void 0:i.subLabel}))},{children:null==i?void 0:i.mainLabel})),t(zc,{children:[t(Bc,Object.assign({disabled:o,type:"yes",checked:!0===r,onChange:()=>d(!0),indicator:!a},{children:[null===(s=null==a?void 0:a[0])||void 0===s?void 0:s.icon,(null===(l=null==a?void 0:a[0])||void 0===l?void 0:l.title)||"Yes"]})),t(Bc,Object.assign({disabled:o,type:"no",checked:!1===r,onChange:()=>d(!1),indicator:!a},{children:[null===(u=null==a?void 0:a[1])||void 0===u?void 0:u.icon,(null===(c=null==a?void 0:a[1])||void 0===c?void 0:c.title)||"No"]}))]})]})},qc=()=>{const{focusedElement:n}=Ct(),{control:r,formState:{errors:i},watch:a,resetField:o}=Ln(),s=Dt(n.element.id,n.element.type);return t($c,{children:[e(Jn,{name:"required",control:r,render:({field:t})=>e(Uc,{disabled:s,label:{mainLabel:"Mandatory field"},value:t.value,onChange:e=>{e&&setTimeout((()=>{o("requiredErrorMsg",{defaultValue:n.element.requiredErrorMsg})})),t.onChange(e)}})}),a("required",!0)&&e(Jn,{name:"requiredErrorMsg",control:r,render:({field:t})=>{var n;return e(M.Input,Object.assign({disabled:s},t,{"data-testid":"required-error-message-field",label:"Error message",value:t.value||"",placeholder:"Enter error message",errorMessage:null===(n=i.requiredErrorMsg)||void 0===n?void 0:n.message}))},shouldUnregister:!0})]})},Wc=({fieldName:t})=>{const{control:n,formState:{errors:r},watch:i,setValue:a}=Ln(),o=i("preselectedValue"),s=i(t,[]),l=Mt(),{focusedElement:u}=Ct(),d=Dt(u.element.id,u.element.type),f=It(u,"preselectedValue"),p=d||f,h=[{label:"Unselect default value",value:null}];s.forEach((e=>{Ja(e.label)||Ja(e.value)||h.push(e)}));const m=h.find((e=>e.value===o));return c((()=>{null===o&&a("preselectedValue","",{shouldDirty:!0})}),[o,a]),c((()=>{o&&!s.some((e=>e.value===o))&&a("preselectedValue","")}),[m]),h.length>1&&e(Jn,{name:"preselectedValue",control:n,render:({field:t})=>{var n;const i=le(t,["ref"]);return e(M.Select,Object.assign({disabled:p},i,{"data-testid":"preselected-value-field",options:h,valueExtractor:e=>e.value,listExtractor:e=>e.label,displayValueExtractor:e=>e.label,placeholder:"Select default value",label:{children:"Pre-selected value (optional)",subtitle:l?e(C.H6,Object.assign({weight:400},{children:"Select a value for users. Note that prefill value will replace the pre-selected value, if present."})):null},selectedOption:m,onSelectOption:e=>{t.onChange(e.value)},errorMessage:null===(n=r.preselectedValue)||void 0===n?void 0:n.message}))}})},Hc=xs().shape({placeholder:fs().optional(),enableClearButton:ts().optional(),defaultCountryCode:fs().optional(),displayAsFixedCountryCode:ts().optional(),validation:Os().of(xs().shape({validationType:fs().required("Validation type required.").oneOf([ae.CONTACT_NUMBER],"Invalid validation type."),validationRule:fs().when(["defaultCountryCode","displayAsFixedCountryCode"],{is:(e,t)=>"Singapore"===e&&t,then:e=>e.required("Validation rule required when country code is 'Singapore' and display as fixed country code is true."),otherwise:e=>e.optional()}),validationErrorMessage:fs().required("Error message required.")}))}),Xc=/^[a-z]+(?:[A-Z0-9][a-z0-9]*)*(?:[-_][a-z0-9]+)*$/gm,Gc=/^[a-zA-Z0-9_-]+$/,Zc=/^[a-zA-Z0-9._-]+$/;Cs(fs,"validRegex",(function(e){return this.test("validRegex",e,(function(e){return!!(e=>{try{return new RegExp(e),!0}catch(e){return!1}})(e)}))})),Cs(fs,"isNumber",(function(e){return this.test("isNumber",e,(function(e){return!!(!isNaN(Number(e))&&Number.isInteger(Number(e))&&parseInt(e)>=0)}))}));const Kc=(e,t)=>{const n=e.filter((e=>e.label&&e.value)).length,r=e.every((e=>e.label&&e.value||!e.label&&!e.value));if(n>=2&&r)return!0;const i=e.reduce(((e,r,i)=>(!r.label&&!r.value&&n>=2||(r.label||e.push(t.createError({path:`${t.path}[${i}].label`,message:"Option label required."})),r.value||e.push(t.createError({path:`${t.path}[${i}].value`,message:"Option value required."}))),e)),[]);throw new Ro(i)},Yc=xs().shape({placeholder:fs().optional(),dropdownItems:Os().of(xs().shape({label:fs().optional(),value:fs().optional()})).test("min-2-valid-items","At least 2 items with valid label and value are required.",(function(e){return Kc(e,this)}))}),Jc=/^@[^\s]+(\.[^\s]+)*(?:\s*,\s*@[^,\s]+(\.[^,\s]+)*)*$/,Qc=xs().shape({placeholder:fs().optional(),validation:Os().of(xs().shape({validationType:fs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([ae.EMAIL_DOMAIN],"Validation type must be EMAIL_DOMAIN"),validationRule:fs().when("validationType",{is:ae.EMAIL_DOMAIN,then:e=>e.required("Email domain required.").matches(Jc,"Invalid email domain. Check if email domain is correct with no whitespace between characters. Separate each with a comma if there is more than 1 email."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:fs().required("Error message required.")}))}),ed=xs().shape({placeholder:fs().optional(),resizableInput:ts().required(),pills:ts().required(),pillItems:Os().of(xs().shape({content:fs().optional()})).test("min-2-valid-items","At least 2 items with valid content are required.",(function(e){if((null==e?void 0:e.reduce(((e,t)=>t.content&&""!==t.content.trim()?e+1:e),0))>=2)return!0;const t=null==e?void 0:e.reduce(((e,t,n)=>(t.content&&""!==t.content.trim()||e.push(this.createError({path:`${this.path}[${n}].content`,message:"Pill item content is required."})),e)),[]);if((null==t?void 0:t.length)>0)throw new Ro(t);return!0})),pillPosition:fs().oneOf(["top","bottom"]),validation:Os().of(xs().shape({validationType:fs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([ae.MAX_LENGTH],"Validation type must be MAX_LENGTH"),validationRule:fs().when("validationType",{is:ae.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only.")}),validationErrorMessage:fs().required("Error message required.")}))}),td=xs().shape({placeholder:fs().optional(),validation:Os().of(xs().shape({validationType:fs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([ae.WHOLE_NUMBERS,ae.MAX_VALUE,ae.MAX_VALUE],"Validation type not supported"),validationRule:fs().when("validationType",{is:ae.WHOLE_NUMBERS,then:e=>e.optional(),otherwise:e=>e.when("validationType",{is:ae.MIN_VALUE||ae.MAX_VALUE,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")})}),validationErrorMessage:fs().required("Error message required.")}))}),nd=xs().shape({placeholder:fs().optional(),validation:Os().of(xs().shape({validationType:fs().transform((e=>""===e?void 0:e)).required("Validation required.").oneOf([ae.CUSTOM_REGEX,ae.MIN_LENGTH,ae.MAX_LENGTH],"Validation type not supported"),validationRule:fs().when("validationType",{is:ae.CUSTOM_REGEX,then:e=>e.required("Custom regex required.").validRegex("Regex not valid.")}).when("validationType",{is:e=>e===ae.MIN_LENGTH||e===ae.MAX_LENGTH,then:e=>e.required("Numeric value required.").isNumber("Numeric value only."),otherwise:e=>e.required("Validation rule required.")}),validationErrorMessage:fs().required("Error message required.")}))}),rd=xs().shape({placeholder:fs().optional(),radioItems:Os().of(xs().shape({label:fs().optional(),value:fs().optional()})).test("min-2-valid-items","At least 2 items with valid label and value are required.",(function(e){return Kc(e,this)}))});var id;!function(e){e.buildYupSchema=e=>{try{const{elements:t,focusedElement:n}=Ct(),r=((e,t)=>xs().shape({internalId:fs().required("Internal ID required."),type:fs().oneOf(Object.values(ne)).required("Element type required."),label:fs().required("Label required."),required:ts().required().default(!0),requiredErrorMsg:fs().when("required",{is:!0,then:e=>e.required("Error message required."),otherwise:e=>e.optional()}),description:fs().optional(),id:fs().required("ID required.").matches(Xc,{message:"ID must be camelCase."}).notOneOf(Object.values(e).map((e=>e.id)).filter((e=>e!==(null==t?void 0:t.element.id))),"ID must not be duplicated."),preselectedValue:fs().optional(),prefill:Os().of(xs().shape({prefillMode:fs().required("Source required."),actionId:fs().when("prefillMode",{is:"Previous source",then:e=>e.required("Action ID required.").matches(Gc,"Invalid action ID."),otherwise:e=>e.optional()}),path:fs().required("Path required.").matches(Zc,"Invalid path.")})),conditionalRendering:Os().of(xs().shape({fieldKey:fs().required("Reference required."),comparator:fs().required("Comparator required."),value:fs().required("Reference value required."),internalId:fs()}))}))(t,n);switch(e){case ne.EMAIL:return xs().concat(r).concat(Qc);case ne.TEXT:return xs().concat(r).concat(nd);case ne.NUMERIC:return xs().concat(r).concat(td);case ne.TEXTAREA:return xs().concat(r).concat(ed);case ne.CONTACT:return xs().concat(r).concat(Hc);case ne.DROPDOWN:return xs().concat(r).concat(Yc);case ne.RADIO:return xs().concat(r).concat(rd)}}catch(e){console.error("Error in schema helper:",e)}}}(id||(id={}));const ad=g.div`
    margin-bottom: 2rem;
`,od=g.div`
    display: flex;
    gap: 1rem;
`,sd=g(j.Small)`
    flex: 1;
`,ld=g.div`
    position: relative;
`,ud=g.div`
    display: flex;
    align-items: start;
    justify-content: center;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }

    & > *:nth-child(2) {
        margin-right: 1rem;
    }

    & > *:nth-child(3) {
        margin-right: 1rem;
    }

    & > * {
        margin-bottom: 0 !important;
    }
`,cd=g.div`
    margin-top: 0.875rem;
    svg {
        color: ${v.Accent.Light[1]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,dd=g.div`
    border: 1px dashed ${v.Primary};
    border-radius: 0.25rem;
    background: ${v.Accent.Light[5]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${v.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,fd=({onDelete:n,id:r,index:i,fieldName:a})=>{var o,s;const{control:l,formState:{errors:u},watch:c}=Ln(),{focusedElement:d}=Ct(),f=Dt(null===(o=null==d?void 0:d.element)||void 0===o?void 0:o.id,null===(s=null==d?void 0:d.element)||void 0===s?void 0:s.type),{attributes:p,listeners:h,setNodeRef:m,transform:v,transition:g,isDragging:b,isOver:y}=hc({id:r,disabled:f}),_={transform:ol.Translate.toString(v),transition:g,opacity:b?"70%":"100%",position:"relative",zIndex:b?1:"auto"},w=c(a),x=y?e(dd,Object.assign({isOver:y},{children:e(V,{})})):null;return t(ld,{children:[x,t(ud,Object.assign({"data-testid":"option-child",ref:m,style:_},p,{children:[e(cd,Object.assign({},h,{children:e(L,{})})),e(Jn,{name:`${a}.${i}.label`,control:l,render:({field:t})=>{var n,r,o;return e(M.Input,Object.assign({disabled:f,"data-testid":"option-label",placeholder:"Enter label"},t,{errorMessage:null===(o=null===(r=null===(n=u[a])||void 0===n?void 0:n[i])||void 0===r?void 0:r.label)||void 0===o?void 0:o.message}))}}),e(Jn,{name:`${a}.${i}.value`,control:l,render:({field:t})=>{var n,r,o;return e(M.Input,Object.assign({disabled:f,"data-testid":"option-value",placeholder:"Enter value"},t,{errorMessage:null===(o=null===(r=null===(n=u[a])||void 0===n?void 0:n[i])||void 0===r?void 0:r.value)||void 0===o?void 0:o.message}))}}),e(Yt,{onClick:n,popoverMessage:e(C.Body,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:f||w.length<3})]}))]})},pd=({label:n,description:r,fieldName:i})=>{var a,o;const{control:s,getValues:l,trigger:u}=Ln(),{fields:d,append:f,remove:p,move:h,replace:m}=jr({control:s,name:i,shouldUnregister:!0}),{showModal:v}=un(),g=yl(bl(du),bl(ou,{coordinateGetter:gc})),{focusedElement:b}=Ct();Dt(null===(a=null==b?void 0:b.element)||void 0===a?void 0:a.id,null===(o=null==b?void 0:b.element)||void 0===o?void 0:o.type),c((()=>{d.length<2&&f([{label:"",value:""},{label:"",value:""}],{shouldFocus:!1})}),[d]);return t(ad,{children:[t(M.Label,{children:[n,e(C.H6,Object.assign({weight:400},{children:r}))]}),e(Wu,Object.assign({sensors:g,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=d.findIndex((e=>e.id===t.id)),r=d.findIndex((e=>e.id===n.id));h(e,r)}},collisionDetection:Al},{children:e(sc,Object.assign({items:d,strategy:ic},{children:d.map(((t,n)=>e(fd,{id:t.id,index:n,onDelete:()=>p(n),fieldName:i},t.id)))}))})),t(od,{children:[e(sd,Object.assign({onClick:()=>{f({label:"",value:""},{shouldFocus:!1})},icon:e(T,{}),styleType:"secondary",type:"button"},{children:"Add Option"})),e(sd,Object.assign({onClick:()=>{const e=l(i),t={type:zt.BulkEdit,optionsString:(n=e,n.filter((e=>!Ja(e.label)||!Ja(e.value))).map((e=>`${e.label} | ${e.value}`)).join("\n")),onClickActionButton:e=>(e=>{const t=As(e).map((e=>Ss(e)));for(;t.length<2;)t.push({label:"",value:""});m(t),u(i)})(e)};var n;v(t)},icon:e(U,{}),styleType:"secondary",type:"button"},{children:"Bulk Edit"}))]})]})},hd=()=>{const{control:t,formState:{errors:n}}=Ln(),{focusedElement:r}=Ct(),i=Dt(r.element.id,r.element.type),a=It(r,"placeholder"),o=i||a;return e(Jn,{name:"placeholder",control:t,render:({field:t})=>{var r;return e(M.Input,Object.assign({disabled:o},t,{"data-testid":"placeholder-field",label:"Placeholder text (optional)",placeholder:"Enter placeholder text",value:t.value||"",errorMessage:null===(r=n.placeholder)||void 0===r?void 0:r.message}))}})},md=()=>{const{control:t,formState:{errors:n}}=Ln(),r=Mt(),{focusedElement:i}=Ct(),a=Dt(i.element.id,i.element.type),o=It(i,"preselectedValue"),s=a||o;return e(Jn,{name:"preselectedValue",control:t,render:({field:t})=>{var i;return e(M.Input,Object.assign({disabled:s},t,{"data-testid":"preselected-value-field",label:{children:"Pre-selected value (optional)",subtitle:r?e(C.H6,Object.assign({weight:400},{children:"Note that prefill value will replace the pre-selected value, if present."})):null},placeholder:"Enter pre-selected value",value:t.value||"",errorMessage:null===(i=n.preselectedValue)||void 0===i?void 0:i.message}))}})},vd=g.div`
    display: flex;
    align-items: center;
    gap: 1rem;

    svg {
        color: ${v.Accent.Light[2]};
        height: 1.5rem;
        width: 1.5rem;
    }
`,gd=({type:n,onChange:r,onBlur:i,errorMessage:a})=>{const{focusedElement:o}=Ct(),s=Dt(null==o?void 0:o.element.id,null==o?void 0:o.element.type),l=It(o,"type"),u=s||l;return e(q.Select,{"data-testid":"type-field",disabled:u,label:"Element type",options:ce.flatMap((e=>e.elementTypes)),renderCustomSelectedOption:n=>t(vd,{children:[e(Gt,{elementType:n}),e(W.Body,{children:fe[n]})]}),selectedOption:n,renderListItem:n=>t(vd,{children:[e(Gt,{elementType:n}),e(W.Body,{children:fe[n]})]}),onSelectOption:e=>r(e),errorMessage:a&&a,onBlur:i})},bd=()=>{const{selectElementType:t,selectedElementType:n}=Ct(),{showModal:r,hideModal:i}=un(),{control:a,formState:{errors:o}}=Ln(),[s,l]=f(n);return e(Jn,{name:"type",control:a,render:({field:a})=>{var u;return e(gd,{onBlur:a.onBlur,type:s,onChange:e=>{((e,a)=>{if(e===a.value)return;l(e);const o={type:zt.ResetFields,onClickActionButton:()=>{i(zt.ResetFields),t(e),a.onChange(e)},onClose:()=>{i(zt.ResetFields),l(n)}};r(o)})(e,a)},errorMessage:null===(u=o.type)||void 0===u?void 0:u.message})}})},yd=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........"],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ...."],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ... ...."],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599",""],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86",".. ........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506",".... ...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599",""],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1",""],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503",".... ...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502",".... ...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509",".... ...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91","..... ....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... ......."],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ... .. .."],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60",".. .... ...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ...."],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) .. .. .."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","... ... ...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","... ......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","... ... ..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1",""],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ... .. .."],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65",".... ...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ... ..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ... ...."],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ...."],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],_d=g.span`
    color: ${v.Neutral[3]};
`,wd=[{name:"type",component:bd},{name:"label",component:Vc},{name:"required",component:qc},{name:"id",component:Lc},{name:"enableClearButton",component:()=>{const{control:t}=Ln();return e(Jn,{name:"enableClearButton",control:t,defaultValue:!1,render:({field:t})=>{const n=le(t,["ref"]);return e(Uc,Object.assign({},n,{label:{mainLabel:"Enable clear button",subLabel:"This enables form participant to remove contact number input with a click on a clear button."}}))},shouldUnregister:!0})}},{name:"defaultCountryCode",component:()=>{const{control:n,watch:r,unregister:i,setValue:a}=Ln(),o=r("defaultCountryCode",""),s=r("displayAsFixedCountryCode"),l=[["No default country code","","",""],...yd],u=l.find((e=>e[0]===o))||l[0];c((()=>{""===o&&a("defaultCountryCode","",{shouldDirty:!0})}),[o,a]);const d=n=>t(C.Body,{children:[n[0]," ",e(_d,{children:n[3]?`+${n[3]}`:""})]});return t($c,{children:[e(Jn,{name:"defaultCountryCode",control:n,render:({field:t})=>{const n=le(t,["ref"]);return e(M.Select,Object.assign({},n,{"data-testid":"default-country-code",label:"Default country code",renderCustomSelectedOption:d,renderListItem:d,options:l,selectedOption:u,onSelectOption:e=>{"No default country code"!==e[0]?t.onChange(e[0]):t.onChange("")},enableSearch:!0}))},shouldUnregister:!0}),o&&e(Jn,{name:"displayAsFixedCountryCode",control:n,defaultValue:!1,render:({field:t})=>{const n=le(t,["ref"]);return e(Uc,Object.assign({},n,{label:{mainLabel:"Display as fixed country code",subLabel:"This will disable selection of country code."},onChange:e=>{e||i("validation.0.validationRule"),t.onChange(e)}}))},shouldUnregister:!0}),e(H,Object.assign({type:"info",showIcon:!0},{children:"Singapore"===o&&s?"Field will validate in Singapore format. This enables selection of SG landline or mobile contact number validation under Additional Validation.":"Field will validate in international format."}))]})}},{name:"description",component:Fc},{name:"placeholder",component:hd},{name:"preselectedValue",component:md}],xd=()=>e("div",Object.assign({"data-testid":"contact-basic-details"},{children:wd.map((({name:t,component:n})=>kt(t,de.CONTACT)&&e(n,{},t)))})),Ed=[{name:"type",component:bd},{name:"label",component:Vc},{name:"required",component:qc},{name:"id",component:Lc},{name:"dropdownItems",fieldName:"dropdownItems",label:"Dropdown items",description:"Label is the item displayed to the users in the dropdown menu. Value is used to differentiate the dropdown items in the backend.",component:pd},{name:"description",component:Fc},{name:"placeholder",component:hd},{name:"preselectedValue",fieldName:"dropdownItems",component:Wc}],Od=()=>e("div",Object.assign({"data-testid":"dropdown-basic-details"},{children:Ed.map((t=>{var{name:n,component:r}=t,i=le(t,["name","component"]);return kt(n,de.DROPDOWN)&&e(r,Object.assign({},i),n)}))})),Td=[{name:"type",component:bd},{name:"label",component:Vc},{name:"required",component:qc},{name:"id",component:Lc},{name:"description",component:Fc},{name:"placeholder",component:hd},{name:"preselectedValue",component:md}],Cd=()=>e("div",Object.assign({"data-testid":"email-basic-details"},{children:Td.map((({name:t,component:n})=>kt(t,de.EMAIL)&&e(n,{},t)))})),Ad=g.div`
    position: relative;
`,Sd=g.div`
    border: 1px dashed ${v.Primary};
    border-radius: 0.25rem;
    background: ${v.Accent.Light[5]};
    position: absolute;
    height: auto;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.4rem;
    gap: 0.25rem;

    svg {
        color: ${v.Primary};
        height: 2.08rem;
        width: 2.08rem;
    }
`,jd=g.div`
    display: flex;
    align-items: start;
    justify-content: center;
    width: 100%;
    margin-bottom: 1rem;
    & > *:nth-child(1) {
        margin-right: 0.5rem;
    }
    & > *:nth-child(2) {
        width: 100%;
        margin-right: 1rem;
    }
    & > * {
        margin-bottom: 0 !important;
    }
`,Dd=g.div`
    margin-top: 0.875rem;
    svg {
        color: ${v.Accent.Light[1]};
        width: 1.25rem;
        height: 1.25rem;
        align-items: center;
        cursor: grab;
    }
`,Id=({id:n,index:r,onDelete:i,disableDelete:a})=>{const{control:o,formState:{errors:s}}=Ln(),{attributes:l,listeners:u,setNodeRef:c,transform:d,transition:f,isDragging:p,isOver:h}=hc({id:n}),m={transform:ol.Transform.toString(d),transition:f,position:"relative",opacity:p?"70%":"100%",zIndex:p?1:"auto"},v=h?e(Sd,Object.assign({isOver:h},{children:e(V,{})})):null;return t(Ad,{children:[v,e("div",Object.assign({ref:c,style:m},l,{children:t(jd,{children:[e(Dd,Object.assign({},u,{children:e(L,{"data-testid":"drag-handle"})})),e(Jn,{name:`pillItems.${r}.content`,control:o,render:({field:t})=>{var n,i,a;return e(M.Input,Object.assign({},t,{placeholder:"Enter short text",errorMessage:null===(a=null===(i=null===(n=null==s?void 0:s.pillItems)||void 0===n?void 0:n[r])||void 0===i?void 0:i.content)||void 0===a?void 0:a.message}))}}),e(Yt,{onClick:i,popoverMessage:e(C.Body,{children:"Item deletion is not allowed when there are less than 3 items."}),disabled:a})]})}))]})},kd=g.div`
    margin-bottom: 2rem;
`,Md=g(j.Default)`
    width: 100%;
`,Nd=()=>{const{focusedElement:n}=Ct(),{control:r,resetField:i}=Ln(),{fields:a,append:o,remove:s,move:l}=jr({control:r,name:"pillItems",shouldUnregister:!0}),u=null==n?void 0:n.element,d=yl(bl(du),bl(ou,{coordinateGetter:gc})),f=a.length<=2;c((()=>{(null==u?void 0:u.pillItems)&&i("pillItems",{defaultValue:u.pillItems})}),[]);return t(kd,{children:[e(M.Label,{children:"Pill items"}),e(Wu,Object.assign({sensors:d,collisionDetection:Al,onDragEnd:e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=a.findIndex((e=>e.id===t.id)),r=a.findIndex((e=>e.id===n.id));l(e,r)}}},{children:e(sc,Object.assign({items:a,strategy:ic},{children:a.map(((t,n)=>e(Id,{id:t.id,index:n,onDelete:()=>(e=>{s(e)})(n),disableDelete:f},t.id)))}))})),e(Md,Object.assign({icon:e(T,{}),styleType:"light",onClick:()=>{o({content:""},{shouldFocus:!1})},role:"button",type:"button"},{children:"Add option"}))]})},$d=[{name:"type",component:bd},{name:"label",component:Vc},{name:"required",component:qc},{name:"id",component:Lc},{name:"description",component:Fc},{name:"resizable",component:()=>{const{control:t}=Ln();return e(Jn,{name:"resizableInput",control:t,defaultValue:!1,render:({field:t})=>{const n=le(t,["ref"]);return e(Uc,Object.assign({},n,{label:{mainLabel:"Resizable area input",subLabel:"This allows participant to resize text area."}}))},shouldUnregister:!0})}},{name:"pills",component:()=>{const{control:r,unregister:i,setValue:a,watch:o,resetField:s}=Ln(),{focusedElement:l}=Ct(),u=null==l?void 0:l.element,d=o("pills");c((()=>{d&&(null==u?void 0:u.pillItems)&&s("pillPosition",{defaultValue:u.pillPosition})}),[d]);return t($c,{children:[e(Jn,{name:"pills",control:r,defaultValue:!1,render:({field:t})=>e(Uc,{label:{mainLabel:"Pills",subLabel:"This allows a list of selectable short texts to display in pill form. This helps participant to fill up text area fast with less typing."},value:t.value,onChange:e=>{e?(a("pillItems",[{content:""},{content:""}],{shouldDirty:!0}),a("pillPosition","top",{shouldDirty:!0})):i(["pillItems","pillPosition"]),t.onChange(e)}}),shouldUnregister:!0}),o("pills",u.pills)&&t(n,{children:[e(Nd,{}),e(Jn,{name:"pillPosition",control:r,render:({field:t})=>e(Uc,{label:{mainLabel:"List position",subLabel:"This displays pills on top or bottom of the text area."},value:"top"===t.value,options:[{icon:e(Ht,{}),title:"Top"},{icon:e(Bt,{}),title:"Bottom"}],onChange:e=>t.onChange(e?"top":"bottom")}),shouldUnregister:!0})]})]})}},{name:"placeholder",component:hd},{name:"preselectedValue",component:md}],Rd=()=>e("div",Object.assign({"data-testid":"long-text-basic-details"},{children:$d.map((({name:t,component:n})=>kt(t,de.TEXTAREA)&&e(n,{},t)))})),Fd=[{name:"type",component:bd},{name:"label",component:Vc},{name:"required",component:qc},{name:"id",component:Lc},{name:"description",component:Fc},{name:"placeholder",component:hd},{name:"preselectedValue",component:md}],Ld=()=>e("div",Object.assign({"data-testid":"numeric-basic-details"},{children:Fd.map((({name:t,component:n})=>kt(t,de.NUMERIC)&&e(n,{},t)))})),Vd=()=>t("div",Object.assign({"data-testid":"dropdown-basic-details"},{children:[e(bd,{}),e(Vc,{}),e(qc,{}),e(pd,{label:"List items",description:"Label is the item displayed to the users in the dropdown menu. Value is used to differentiate the dropdown items in the backend.",fieldName:"radioItems"}),e(Lc,{}),e(Fc,{}),e(hd,{}),e(Wc,{fieldName:"radioItems"})]})),zd=[{name:"type",component:bd},{name:"label",component:Vc},{name:"required",component:qc},{name:"id",component:Lc},{name:"description",component:Fc},{name:"placeholder",component:hd},{name:"preselectedValue",component:md}],Pd=()=>e("div",Object.assign({"data-testid":"text-basic-details"},{children:zd.map((({name:t,component:n})=>kt(t,de.TEXT)&&e(n,{},t)))})),Bd=()=>{var t;const{focusedElement:n,orderedIdentifiers:r,elements:i}=Ct(),{watch:a,reset:o,formState:{isDirty:s}}=Ln(),l=a("type",null===(t=null==n?void 0:n.element)||void 0===t?void 0:t.type),u=Dt(n.element.id,n.element.type);c((()=>{if(!s)return;const e=r.filter((e=>e.internalId!==n.element.internalId)).map((e=>e.internalId)),t=Object.values(i).filter((e=>e.id!==n.element.id)).map((e=>e.id)),a=_e.generate(l,e,t);o(a,{keepDefaultValues:!0})}),[l]);return e(Nc,{children:e(Mc,Object.assign({type:"default",expanded:!0,title:"Basic",$hideTopBorder:n.isDirty||u},{children:e(kc,{children:(()=>{switch(l){case ne.EMAIL:return e(Cd,{});case ne.TEXT:return e(Pd,{});case ne.TEXTAREA:return e(Rd,{});case ne.NUMERIC:return e(Ld,{});case ne.CONTACT:return e(xd,{});case ne.DROPDOWN:return e(Od,{});case ne.RADIO:return e(Vd,{});default:return null}})()})}))})},Ud=g.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,qd=g.div`
    display: grid;
    grid-template-columns: 5fr 4.5fr;
    gap: 1rem;
`,Wd=g(M.Select)`
    [data-testid="dropdown-list"] {
        max-height: 10rem;
    }
`,Hd=g(C.XSmall)`
    text-align: left;
`,Xd=({onDelete:n,options:r,index:i})=>{const a=[ie.EQUALS,ie.MORE_THAN,ie.LESS_THAN,ie.NOT_EQUALS],{formState:{errors:o},control:s,setValue:l}=Ln();return e(en,Object.assign({onDelete:n},{children:t(Ud,{children:[t(qd,{children:[e("div",{children:e(Jn,{name:`conditionalRendering.${i}.fieldKey`,control:s,render:({field:n})=>{var a,s;const u=le(n,["ref"]);return e(Wd,Object.assign({},u,{placeholder:"Select",selectedOption:u.value?r.find((e=>e.id===u.value)):null,onSelectOption:e=>{u.onChange(null==e?void 0:e.id),l(`conditionalRendering.${i}.internalId`,e.internalId)},options:r,renderCustomSelectedOption:t=>e(C.Body,{children:null==t?void 0:t.label}),renderListItem:n=>{const r=kt("id",fe[n.elementType]);return t("div",{children:[e(C.Body,{children:null==n?void 0:n.label}),r&&t(Hd,{children:["ID: ",null==n?void 0:n.id]})]})},errorMessage:o&&o.conditionalRendering&&(null===(s=null===(a=null==o?void 0:o.conditionalRendering[i])||void 0===a?void 0:a.fieldKey)||void 0===s?void 0:s.message)||""}))}})}),e("div",{children:e(Jn,{name:`conditionalRendering.${i}.comparator`,control:s,render:({field:t})=>{var n,r;const s=le(t,["ref"]);return e(Wd,Object.assign({},s,{selectedOption:s.value,onSelectOption:e=>{s.onChange(e)},options:a,errorMessage:o&&o.conditionalRendering&&(null===(r=null===(n=null==o?void 0:o.conditionalRendering[i])||void 0===n?void 0:n.comparator)||void 0===r?void 0:r.message)||""}))}})})]}),e("div",{children:e(Jn,{name:`conditionalRendering.${i}.value`,control:s,render:({field:t})=>{var n,r;const a=le(t,["ref"]);return e(M.Input,Object.assign({},a,{placeholder:"Set value",value:a.value,onChange:e=>{a.onChange(e.target.value)},errorMessage:o&&(null==o?void 0:o.conditionalRendering)&&(null===(r=null===(n=null==o?void 0:o.conditionalRendering[i])||void 0===n?void 0:n.value)||void 0===r?void 0:r.message)}))}})})]})}))},Gd=()=>{const{watch:t,control:n}=Ln(),{fields:r,append:i,remove:a}=jr({control:n,name:"conditionalRendering",shouldUnregister:!0}),{focusedElement:o,elements:s,selectedElementType:u}=Ct(),c=null==o?void 0:o.element,d=id.buildYupSchema(u),f=t("conditionalRendering"),p=()=>{const e=[];return Object.entries(s).forEach((([t,n])=>{if(t!==(null==c?void 0:c.internalId)){const t={label:null==n?void 0:n.label,id:null==n?void 0:n.id,internalId:null==n?void 0:n.internalId,elementType:null==n?void 0:n.type};e.push(t)}})),e},h=()=>{try{return d.pick(["conditionalRendering"]).validateSync({conditionalRendering:f,abortEarly:!1}),!1}catch(e){return Ro.isError(e)}},m=l((()=>{var t;return h()?e(C.Body,{children:"To add a new condition, fill up the existing condition first."}):0===(null===(t=p())||void 0===t?void 0:t.length)?e(C.Body,{children:"No conditional rendering available."}):null}),[h,p]);return e(an,Object.assign({onAdd:()=>{const e={fieldKey:"",comparator:ie.EQUALS,value:"",internalId:""};i(e)},title:"Conditional Rendering",buttonLabel:"condition",disabledButton:0===p().length||h(),popoverMessage:m()},{children:r.map(((t,n)=>e(Xd,{onDelete:()=>(e=>{a(e)})(n),options:p(),index:n},t.id)))}))},Zd=g(H)``,Kd=g.div`
    ${Zd} {
        margin-bottom: 1rem;
    }
    margin-bottom: 8rem;
`,Yd=g.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,Jd=({onDelete:n,index:r})=>{const i=["Myinfo","Previous source"],{formState:{errors:a},control:o,watch:s}=Ln();return e(en,Object.assign({onDelete:n},{children:t(Yd,{children:[e("div",{children:e(Jn,{name:`prefill.${r}.prefillMode`,control:o,defaultValue:"Myinfo",render:({field:t})=>{var n,o,s;const l=le(t,["ref"]);return e(M.Select,Object.assign({},l,{placeholder:"Select",selectedOption:l.value,options:i,disabled:1===i.length,onSelectOption:e=>{l.onChange(e)},errorMessage:null===(s=null===(o=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===o?void 0:o.prefillMode)||void 0===s?void 0:s.message}))}})}),"Previous source"===s(`prefill.${r}.prefillMode`)&&e("div",{children:e(Jn,{name:`prefill.${r}.actionId`,control:o,render:({field:t})=>{var n,i,o;const s=le(t,["ref"]);return e(M.Input,Object.assign({},s,{placeholder:"Enter an action ID",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(i=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===i?void 0:i.actionId)||void 0===o?void 0:o.message}))}})}),e("div",{children:e(Jn,{name:`prefill.${r}.path`,control:o,render:({field:t})=>{var n,i,o;const s=le(t,["ref"]);return e(M.Input,Object.assign({},s,{placeholder:"Enter a path",value:s.value,onChange:e=>{s.onChange(e.target.value)},errorMessage:null===(o=null===(i=null===(n=null==a?void 0:a.prefill)||void 0===n?void 0:n[r])||void 0===i?void 0:i.path)||void 0===o?void 0:o.message}))}})})]})}))},Qd=()=>{const{selectedElementType:t}=Ct(),{watch:n,control:r}=Ln(),{fields:i,append:a,remove:o}=jr({control:r,name:"prefill",shouldUnregister:!0}),s=n("prefill"),l=id.buildYupSchema(t),u=()=>{try{return l.pick(["prefill"]).validateSync({prefill:s,abortEarly:!1}),!1}catch(e){return Ro.isError(e)}};return e(an,Object.assign({onAdd:()=>{a({prefillMode:null,path:""})},title:"Prefill",buttonLabel:"prefill",subtitle:"Prefill information from various data sources, for example Myinfo.",disabledButton:u(),popoverMessage:(()=>{if(u())return e(C.Body,{children:"To add new prefill, fill up existing prefill first."})})()},{children:0===(null==s?void 0:s.length)?void 0:i.map(((t,n)=>e(Jd,{onDelete:()=>(e=>{o(e)})(n),index:n},t.id)))}))},ef=(e,t,n)=>t.filter((t=>!(t=>e.some((e=>e.validationType===t)))(t)||(null==n?void 0:n.includes(t)))),tf=({options:t,index:n,disabled:r})=>{const{formState:{errors:i},control:a}=Ln();return e(Jn,{name:`validation.${n}.validationType`,control:a,render:({field:a})=>{var o,s,l;const u=le(a,["ref"]);return e(M.Select,Object.assign({},u,{"data-testid":"validation-type",placeholder:"Select",selectedOption:u.value,options:t,disabled:r,onSelectOption:a.onChange,errorMessage:null===(l=null===(s=null===(o=null==i?void 0:i.validation)||void 0===o?void 0:o[n])||void 0===s?void 0:s.validationType)||void 0===l?void 0:l.message}))}})},nf=({index:t})=>{const{formState:{errors:n},control:r}=Ln();return e(Jn,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;const s=le(r,["ref"]);return e(M.Input,Object.assign({},s,{placeholder:"Enter rule",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},rf=({index:t})=>{const{formState:{errors:n},control:r}=Ln();return e(Jn,{name:`validation.${t}.validationErrorMessage`,control:r,render:({field:r})=>{var i,a,o;const s=le(r,["ref"]);return e(M.Input,Object.assign({},s,{"data-testid":"validation-error-message",placeholder:"Set error message",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationErrorMessage)||void 0===o?void 0:o.message}))}})},af=g.div`
    display: flex;
    flex-direction: column;
    gap: 1rem;

    & > * {
        margin-bottom: 0 !important;
    }
`,of=g.div`
    background: ${v.Neutral[7]};
    padding: 1rem;
    margin-bottom: 2rem;
`,sf=g(C.BodySmall)`
    color: ${v.Neutral[4]};
`,lf=({index:n})=>{const{formState:{errors:r},control:i,resetField:a}=Ln(),{focusedElement:o}=Ct(),s=null==o?void 0:o.element,l=[{title:"All",label:"First digit of 3, 6, 8 or 9 allowed with correct length.",value:se.DEFAULT},{title:"Landline contact number only",label:"First digit of 3 or 6 allowed with correct length.",value:se.HOUSE},{title:"Mobile contact number only",label:"First digit of 8 or 9 allowed with correct length.",value:se.MOBILE}];return c((()=>{var e;a("validation.0.validationRule",{defaultValue:(null===(e=null==s?void 0:s.validation[0])||void 0===e?void 0:e.validationRule)||se.DEFAULT})}),[]),e(Jn,{name:`validation.${n}.validationRule`,control:i,render:({field:i})=>{var a,o,s;const u=le(i,["ref"]);return e(M.Select,Object.assign({},u,{"data-testid":"contact-validation-rule",placeholder:"Select",selectedOption:null==l?void 0:l.find((e=>e.value===i.value)),options:l,renderListItem:n=>t("div",{children:[e(C.Body,{children:n.title}),e(sf,Object.assign({weight:"semibold"},{children:n.label}))]}),displayValueExtractor:e=>`${e.title} (${e.label})`,onSelectOption:e=>i.onChange(e.value),errorMessage:null===(s=null===(o=null===(a=null==r?void 0:r.validation)||void 0===a?void 0:a[n])||void 0===o?void 0:o.validationRule)||void 0===s?void 0:s.message}))},shouldUnregister:!0})},uf=({index:n,options:r,disabled:i})=>{const{watch:a}=Ln(),[o,s]=a(["defaultCountryCode","displayAsFixedCountryCode"]);return e(of,{children:t(af,Object.assign({"data-testid":"contact-validation-child"},{children:[e(tf,{index:n,options:r,disabled:i}),"Singapore"===o&&s&&e(lf,{index:n}),e(rf,{index:n})]}))})},cf=({index:t})=>{const{formState:{errors:n},control:r}=Ln();return e(Jn,{name:`validation.${t}.validationRule`,control:r,render:({field:r})=>{var i,a,o;return e(M.Textarea,Object.assign({},r,{placeholder:"Enter email domain, separating with a comma",errorMessage:null===(o=null===(a=null===(i=null==n?void 0:n.validation)||void 0===i?void 0:i[t])||void 0===a?void 0:a.validationRule)||void 0===o?void 0:o.message}))}})},df=({onDelete:n,index:r,options:i})=>e(en,Object.assign({onDelete:n},{children:t(af,Object.assign({"data-testid":"email-validation-child"},{children:[e(tf,{index:r,options:i,disabled:1===i.length}),e(cf,{index:r}),e(rf,{index:r})]}))})),ff=({onDelete:n,index:r,options:i,disabled:a})=>e(en,Object.assign({onDelete:n},{children:t(af,Object.assign({"data-testid":"long-text-validation-child"},{children:[e(tf,{index:r,options:i,disabled:a}),e(nf,{index:r}),e(rf,{index:r}),e(H,Object.assign({type:"info",showIcon:!0},{children:"Adding of this validation will result in character counter displayed under the textarea."}))]}))})),pf=({onDelete:n,index:r,options:i,disabled:a})=>{const{watch:o}=Ln(),s=o(`validation.${r}.validationType`);return e(en,Object.assign({onDelete:n},{children:t(af,Object.assign({"data-testid":"numeric-validation-child"},{children:[e(tf,{index:r,options:i,disabled:a}),s!==ae.WHOLE_NUMBERS&&e(nf,{index:r}),e(rf,{index:r})]}))}))},hf=({onDelete:n,index:r,options:i,disabled:a})=>e(en,Object.assign({onDelete:n},{children:t(af,Object.assign({"data-testid":"text-validation-child"},{children:[e(tf,{index:r,options:i,disabled:a}),e(nf,{index:r}),e(rf,{index:r})]}))})),mf=()=>{var t;const{selectedElementType:n,focusedElement:r}=Ct(),{watch:i,control:a}=Ln(),{fields:o,append:s,remove:l}=jr({control:a,name:"validation",shouldUnregister:!0}),u=id.buildYupSchema(n),c=i("validation",[]),d=i("type",null===(t=null==r?void 0:r.element)||void 0===t?void 0:t.type),f=()=>{switch(d){case ne.EMAIL:case ne.TEXT:case ne.NUMERIC:case ne.TEXTAREA:return(null==c?void 0:c.length)===he["Text field"][d].maxEntries;default:return 6===(null==c?void 0:c.length)}},p=()=>{try{return u.pick(["validation"]).validateSync({validation:c,abortEarly:!1}),!1}catch(e){return Ro.isError(e)}},h=()=>{switch(d){case ne.EMAIL:case ne.TEXTAREA:return he["Text field"][d].validationTypes[0]}},m=e=>{l(e)};return e(an,Object.assign({onAdd:()=>{const e={validationType:h(),validationRule:"",validationErrorMessage:""};s(e)},title:"Additional Validation",buttonLabel:"validation",disabledButton:f()||p(),popoverMessage:p()?e(C.Body,{children:"To add new validation, fill up existing validation first."}):f()?e(C.Body,{children:"Limit reached. To add new validation, remove existing ones first."}):void 0,expanded:n===ne.CONTACT,hideAddButton:n===ne.CONTACT},{children:(()=>{const t=((e,t)=>{switch(t){case ne.EMAIL:case ne.TEXTAREA:return he["Text field"][t].validationTypes;case ne.TEXT:{const t=[...he["Text field"][ne.TEXT].validationTypes];return ef(e,t,[ae.CUSTOM_REGEX])}case ne.NUMERIC:const n=[...he["Text field"][ne.NUMERIC].validationTypes];return ef(e,n);case ne.CONTACT:return he["Text field"][ne.CONTACT].validationTypes;default:return["Select","Type 1"]}})(c,d);return o.map(((n,r)=>{switch(d){case ne.EMAIL:return e(df,{index:r,options:t,disabled:1===t.length,onDelete:()=>m(r)},n.id);case ne.TEXTAREA:return e(ff,{index:r,options:t,disabled:1===t.length,onDelete:()=>m(r)},n.id);case ne.NUMERIC:return e(pf,{index:r,options:t,onDelete:()=>m(r)},n.id);case ne.TEXT:return e(hf,{index:r,options:t,onDelete:()=>m(r)},n.id);case ne.CONTACT:return e(uf,{index:r,options:t,disabled:1===t.length},n.id);default:return null}}))})()}))},vf=()=>{const{focusedElement:n,updateFocusedElement:r,selectedElementType:i}=Ct(),{formState:{isDirty:a},getFieldState:o}=Ln(),{isTouched:s}=o("type"),l=Mt(),u=Dt(n.element.id,n.element.type);return c((()=>{r(!!s||!!a)}),[a,r]),t(Kd,Object.assign({"data-testid":"element-editor"},{children:[u&&e(Zd,Object.assign({type:"warning",showIcon:!0},{children:"Changes is not allowed for this field"})),n.isDirty&&e(Zd,Object.assign({type:"warning",showIcon:!0},{children:"To reflect changes on preview, save changes first."})),e(Bd,{}),(d=i,re.has(d)&&e(mf,{})),e(Gd,{}),l&&e(Qd,{})]}));var d},gf=g.div`
    display: flex;
    align-items: center;
    gap: 1rem;
`,bf=({type:n,onClick:r})=>e(te,Object.assign({onClick:r},{children:t(gf,{children:[e(Gt,{elementType:n}),e(C.Body,{children:fe[n]})]})})),yf=g.div`
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;

    ${I.MaxWidth.mobileL} {
        width: auto;
        padding: 0 2.375rem 0 2.375rem;
    }
`,_f=()=>e(yf,{children:e($,{type:"warning",title:"Screen size not supported",description:"Expand to a bigger screen size or switch to desktop view to use the form builder."})});var wf=fi,xf=/\s/;var Ef=function(e){for(var t=e.length;t--&&xf.test(e.charAt(t)););return t},Of=Ef,Tf=/^\s+/;var Cf=function(e){return e?e.slice(0,Of(e)+1).replace(Tf,""):e},Af=Oi,Sf=ha;var jf=Cf,Df=Ti,If=function(e){return"symbol"==typeof e||Sf(e)&&"[object Symbol]"==Af(e)},kf=/^[-+]0x[0-9a-f]+$/i,Mf=/^0b[01]+$/i,Nf=/^0o[0-7]+$/i,$f=parseInt;var Rf=Ti,Ff=function(){return wf.Date.now()},Lf=function(e){if("number"==typeof e)return e;if(If(e))return NaN;if(Df(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Df(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jf(e);var n=Mf.test(e);return n||Nf.test(e)?$f(e.slice(2),n?2:8):kf.test(e)?NaN:+e},Vf=Math.max,zf=Math.min;var Pf=Oe((function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function h(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=Ff();if(h(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?zf(n,a-(e-u)):n}(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function g(){var e=Ff(),n=h(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?p(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Lf(t)||0,Rf(n)&&(c=!!n.leading,a=(d="maxWait"in n)?Vf(Lf(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},g.flush=function(){return void 0===s?o:v(Ff())},g}));const Bf=g.div`
    position: relative;
    padding-bottom: 8rem;

    ${({$mode:e})=>{switch(e){case"expanded":return b`
                    ${I.MaxWidth.desktop4k} {
                        grid-column: 4 / span 6;
                    }
                    ${I.MaxWidth.desktopL} {
                        grid-column: 3 / span 8;
                    }
                    ${I.MaxWidth.desktopM} {
                        grid-column: 3 / span 8;
                    }
                    ${I.MaxWidth.tablet} {
                        grid-column: 2 / span 6;
                    }
                `;case"minimised":return b`
                    ${I.MaxWidth.desktop4k} {
                        grid-column: 5 / span 6;
                    }
                    ${I.MaxWidth.desktopL} {
                        grid-column: 6 / span 6;
                    }
                    ${I.MaxWidth.desktopM} {
                        grid-column: 6 / span 6;
                    }
                    ${I.MaxWidth.tablet} {
                        grid-column: 5 / span 4;
                    }
                `}}}
`,Uf=g.div`
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    height: 100%;

    ${({$mode:e})=>{switch(e){case"expanded":return b`
                    ${I.MaxWidth.desktop4k} {
                        grid-column: 4 / span 6;
                    }
                    ${I.MaxWidth.desktopL} {
                        grid-column: 3 / span 9;
                    }
                    ${I.MaxWidth.desktopM} {
                        grid-column: 3 / span 9;
                    }
                    ${I.MaxWidth.tablet} {
                        grid-column: 2 / span 7;
                    }
                `;case"minimised":return b`
                    ${I.MaxWidth.desktop4k} {
                        grid-column: 5 / span 7;
                    }
                    ${I.MaxWidth.desktopL} {
                        grid-column: 6 / span 7;
                    }
                    ${I.MaxWidth.desktopM} {
                        grid-column: 6 / span 7;
                    }
                    ${I.MaxWidth.tablet} {
                        grid-column: 5 / span 4;
                    }
                `}}}
`,qf=g(C.H3)`
    margin-top: 2rem;
`,Wf=g(C.Body)`
    margin-top: 1rem;
`,Hf=g.ul`
    list-style-type: none;
    display: grid;
    row-gap: 2rem;

    ${({$mode:e})=>{switch(e){case"expanded":return b`
                    ${I.MaxWidth.desktop4k} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${I.MaxWidth.desktopL} {
                        grid-template-columns: repeat(8, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${I.MaxWidth.tablet} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 1.5rem;
                    }
                `;case"minimised":return b`
                    ${I.MaxWidth.desktop4k} {
                        grid-template-columns: repeat(6, minmax(0, 1fr));
                        column-gap: 2rem;
                    }
                    ${I.MaxWidth.tablet} {
                        grid-template-columns: repeat(4, minmax(0, 1fr));
                        column-gap: 1.5rem;
                    }
                `}}}
`,Xf=g.li`
    ${({$mode:e,$size:t})=>_c(t,e)}
`,Gf=()=>{const{showSidePanel:n,orderedIdentifiers:r,elements:i,focusElement:a,focusedElement:o,updateOrderedIdentifiers:s,removeFocusedElement:l}=Ct(),u=d(null),f=d([]),p=d([]),{isDirty:h}=o||{},m=!!o||n?"minimised":"expanded",v=d(-1),g=[],{showModal:b,discardChanges:y}=un();for(const e of r)"internalId"in e&&g.push({id:e.internalId});const _=yl(bl(hu,{activationConstraint:{distance:8}}),bl(vu,{activationConstraint:{delay:150,tolerance:5}}),bl(ou,{coordinateGetter:gc})),w=e=>()=>{var t,n;if(h&&(null==e?void 0:e.internalId)!==(null===(t=null==o?void 0:o.element)||void 0===t?void 0:t.internalId)){const t={type:zt.DiscardChanges,onClickActionButton:()=>(e=>{l(),a(e),y()})(e)};b(t)}else h||(null==e?void 0:e.internalId)===(null===(n=null==o?void 0:o.element)||void 0===n?void 0:n.internalId)||a(e)},x=Pf((e=>{var t,n;const{active:i}=e,a=null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect(),o=a.left+a.width/3,l=a.left+2*a.width/3-a.width/9,c=r.findIndex((e=>e.internalId===i.id)),d=(null===(n=i.rect.current.translated)||void 0===n?void 0:n.left)+e.activatorEvent.layerX;let f=c,h="full";if(d<=o?h="left":d>=l&&(h="right"),i.rect.current.translated.top>v.current)f=p.current.findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));else{const e=[...p.current].reverse().findIndex((e=>i.rect.current.translated.bottom+16>e.y+e.height/2));f=p.current.length-1-e}const m=Qu(r,c,f);m[f]=Object.assign(Object.assign({},m[f]),{size:h}),s(m)}),10);c((()=>{const e=new Set(r.map((e=>e.internalId)));f.current=f.current.filter((t=>e.has(t.internalId)&&t.element))}),[r]);return 0===r.length?t(Uf,Object.assign({$mode:m,"data-testid":"empty-content"},{children:[e($,{type:"no-item-found",imageOnly:!0}),e(qf,Object.assign({weight:"semibold"},{children:"Form is empty"})),e(Wf,{children:"Add an element to start building your form!"})]})):e(Bf,Object.assign({$mode:m,ref:u},{children:e(Wu,Object.assign({sensors:_,onDragMove:x,onDragStart:e=>{var t;v.current=null===(t=e.active.rect.current.initial)||void 0===t?void 0:t.top,f.current.forEach(((e,t)=>{p.current[t]=e.element.getBoundingClientRect()}))},onDragEnd:()=>{p.current=[]},collisionDetection:Sl},{children:e(sc,Object.assign({items:g},{children:e(Hf,Object.assign({$mode:m},{children:r.map(((t,n)=>{const r=i[t.internalId];return e(Xf,Object.assign({$mode:m,$size:null==t?void 0:t.size,"data-testid":"element-content",ref:e=>f.current[n]={internalId:t.internalId,element:e}},{children:e(Ic,{element:r,onClick:w(r)})}),t.internalId)}))}))}))}))}))},Zf=g.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin-bottom: 8rem;
`,Kf=g.li`
    display: flex;
    flex-direction: column;
`,Yf=g.div`
    border-bottom: 1px solid ${v.Neutral[5]};
    margin-bottom: 1rem;
    padding-bottom: 0.375rem;
`,Jf=g.ul`
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
`,Qf=g(G)`
    background: ${v.Neutral[7]};
    color: ${v.Neutral[4]};
    border: none;

    svg {
        color: ${v.Neutral[4]};
    }
`,ep=g.div`
    display: flex;
    align-items: center;
    gap: 0.6rem;
`,tp=g(z)`
    color: ${v.Validation.Red.Icon};
    height: 1.125rem;
    width: 1.125rem;
`,np=()=>{const{addElement:n}=Ct(),[r,i]=f(ce),[a,o]=f("");return t(Zf,Object.assign({"data-testid":"add-elements-panel"},{children:[e("label",{children:e(Qf,{placeholder:"Search",addon:{type:"custom",attributes:{children:e(X,{"data-testid":"maginfying-glass"})},position:"left"},allowClear:!0,value:a,onClear:()=>{o(""),i(ce)},onChange:e=>(e=>{const t=new RegExp(e,"i"),n=[];o(e),ce.forEach((e=>{const r=e.elementTypes.filter((e=>t.test(fe[e])));r.length>0&&n.push({categoryTitle:e.categoryTitle,elementTypes:r})})),i(n)})(e.target.value)})}),r.length>0?r.map(((r,i)=>{return t(Kf,{children:[e(Yf,{children:e(C.H6,Object.assign({weight:"semibold"},{children:r.categoryTitle}))}),e(Jf,{children:(a=r.elementTypes,a.map((t=>{return e("li",{children:e(bf,{type:t,onClick:(r=t,()=>{n(r,!0)})})},t);var r})))})]},i);var a})):t(ep,{children:[e(tp,{}),e(C.Body,{children:"No results found."})]})]}))},rp=g.div`
    height: 5.75rem;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem 1rem 2rem 2rem;
    border-bottom: ${({$showDivider:e})=>e?b`1px solid ${v.Neutral[5]}`:"none"};
`,ip=g(K)`
    transform: ${({$isCollapsed:e})=>e?"rotate(-180deg)":"rotate(0)"};
    transition: transform 350ms ease-in-out;
`,ap=g(C.H3)`
    margin-right: 1rem;
`,op=g(N.Small)`
    margin-left: auto;
    margin-right: 1rem;
`,sp=({showDivider:r})=>{const{showSidePanel:i,currentMode:a,togglePanel:o,removeFocusedElement:s,focusedElement:l,isSubmitting:u}=Ct(),{isDirty:c}=l||{},{showModal:d,discardChanges:f}=un(),{reset:p}=Ln(),h=()=>{s(),f(),p()},m=()=>{if(c){const e={type:zt.DiscardChanges,onClickActionButton:h};d(e)}else s()};return t(rp,Object.assign({$showDivider:r},{children:[e(ap,Object.assign({weight:"semibold","data-testid":"header-label"},{children:(()=>{if(l)return"Edit details";switch(a){case gt.ADD_ELEMENT:return"Add elements";case gt.EDIT_PAGES:return"Add pages"}})()})),(()=>{if(l)return t(n,{children:[e(op,Object.assign({"data-testid":"save-changes-button",disabled:u,loading:u},{children:u?"Saving":c?"Save Changes":"Saved"})),e(Zt,Object.assign({$iconSize:"1.5rem",$iconColor:v.Neutral[3],onClick:m,type:"button"},{children:e(Z,{"data-testid":"cross-button"})}))]});switch(a){case gt.ADD_ELEMENT:case gt.EDIT_PAGES:return e(Zt,Object.assign({$iconSize:"1.5rem",$iconColor:v.Neutral[3],onClick:()=>o(!i)},{children:e(ip,{$isCollapsed:i})}))}})()]}))},lp=g.div`
    display: flex;
    flex-direction: column;
    height: calc(100% - ${e=>e.$offset}rem);
    width: ${({$narrow:e})=>e?"31.2rem":"36.8rem"};
    transition: ${Y.Base};
    background: ${v.Neutral[8]};
    border-left: 1px solid ${v.Neutral[5]};
    margin-left: auto;
    box-shadow: 0px 2px 12px 0px rgba(104, 104, 104, 0.25);
    position: fixed;
    top: ${e=>e.$offset}rem;
    left: 0;
    transform: translateX(0);

    ${I.MaxWidth.desktopM} {
        width: ${({$narrow:e})=>e?"24.4rem":"30rem"};
    }

    ${e=>{if(e.$minimised)return b`
                transform: translateX(calc(-100% + 5.5rem));
            `}}
`,up=g.div`
    display: flex;
    height: 100%;
    overflow: hidden;
`,cp=g.div`
    padding: ${({$isFocusedElement:e,$minimised:t})=>e?"1rem":t?"2rem 6rem 2rem 2rem":"2rem"};

    flex: 1;
    overflow-y: ${({$minimised:e})=>e?"hidden":"auto"};
    display: flex;
    flex-direction: column;
    height: 100%;
`,dp=g.div`
    height: 100%;
    background: ${v.Neutral[8]};
    display: flex;
    flex-direction: column;
    align-items: center;
    width: fit-content;
    padding: 2rem 1rem;
    border-left: 1px solid ${v.Neutral[5]};
    gap: 2rem;
`,fp=g.button`
    background: ${({$active:e})=>e?v.Accent.Light[4]:"transparent"};
    color: ${v.Primary};
    display: grid;
    cursor: pointer;
    border: none;
    border-radius: 0.25rem;
    padding: 1rem;

    :hover {
        background: ${v.Accent.Light[4]};
    }

    :focus {
        outline-color: ${v.Primary};
    }

    svg {
        width: 1.625rem;
        height: 1.625rem;
    }
`,pp=()=>{const{currentMode:n,toggleMode:r,togglePanel:i,showSidePanel:a}=Ct(),o=e=>()=>{r(e),a||i(!0)};return t(dp,Object.assign({"data-testid":"toolbar"},{children:[e(fp,Object.assign({type:"button","data-testid":"add-element",$active:n===gt.ADD_ELEMENT,onClick:o(gt.ADD_ELEMENT)},{children:e(Pt,{})})),e(fp,Object.assign({type:"button",$active:n===gt.EDIT_PAGES,onClick:o(gt.EDIT_PAGES)},{children:e(J,{})}))]}))},hp=({offset:n,onSubmit:r})=>{const{showSidePanel:i,currentMode:a,focusedElement:o,updateElement:s,updateFocusedElement:u,selectedElementType:d,toggleSubmitting:f}=Ct(),p=(e=>{var t,n;const{panels:r}=jt();return null===(n=null===(t=null==r?void 0:r[e])||void 0===t?void 0:t.shouldShow)||void 0===n||n})("pages"),{showToast:h}=Lt(),m=Kr({mode:"onTouched",resolver:ti(id.buildYupSchema(d||ne.EMAIL)),defaultValues:null==o?void 0:o.element}),{getValues:v,formState:{isSubmitSuccessful:g}}=m,b=l((e=>ue(void 0,void 0,void 0,(function*(){r&&(f(!0),yield r(e),f(!1));const t={message:"Changes are saved successfully.",type:Vt.SUCCESS_TOAST};if("dropdownItems"in e){const t=v("dropdownItems").filter((e=>e.label.length>0||e.value.length>0));e.dropdownItems=t}if("pillItems"in e){const t=v("pillItems").filter((e=>e.content.length>0));e.pillItems=t}s(e),u(!1,e),h(t)}))),[s,u,r]);c((()=>{g&&setTimeout((()=>m.reset()))}),[g,m.reset]),c((()=>{o&&m.reset(o.element)}),[null==o?void 0:o.element,m.reset]);const y=null===o&&p,_=!o&&!i,w=y||!_;return e(Vn,Object.assign({},m,{children:e("form",Object.assign({onSubmit:m.handleSubmit(b)},{children:t(lp,Object.assign({$minimised:_,$offset:n||0,$narrow:!p},{children:[e(sp,{showDivider:w}),t(up,{children:[e(cp,Object.assign({$minimised:_,$isFocusedElement:!!o},{children:o?e(vf,{}):a===gt.ADD_ELEMENT?e(np,{}):e("div",Object.assign({"data-testid":"default-content"},{children:"Some content here..."}))})),y&&e(pp,{})]})]}))}))}))},mp=g(Q.Section)`
    cursor: ${({$disabled:e})=>e?"not-allowed":"auto"};
    height: 100%;
    overflow-x: hidden;
    padding-left: 0 !important;
    padding-right: 0 !important;
`,vp=g(Q.Container)`
    position: relative;
    height: 100%;
    padding: 2rem 3rem;
    display: ${({$isLargeScreen:e})=>e?"grid":"none"};
    ${I.MaxWidth.tablet} {
        max-width: unset;
        width: 100%;
    }
`,gp=e=>{const t=(e=>{if(!e||0===e.length)return;const t=e.reduce(((e,t)=>{const n=t.comparator===ie.LESS_THAN||t.comparator===ie.MORE_THAN?parseInt(t.value):t.value;return e[t.fieldKey]||(e[t.fieldKey]=[{filled:!0}]),e[t.fieldKey].push({[me[t.comparator]]:n}),e}),{});return 0===Object.keys(t).length?[]:[t]})(null==e?void 0:e.conditionalRendering);return Object.assign(Object.assign({label:Object.assign({mainLabel:e.label},e.description&&{subLabel:e.description}),uiType:e.type,columns:{desktop:e.columns.desktop,tablet:e.columns.tablet,mobile:e.columns.mobile}},e.required&&{validation:[Object.assign({required:!0},e.requiredErrorMsg&&{errorMessage:e.requiredErrorMsg})]}),t&&{showIf:t})},bp=e=>({max:parseInt(e.validationRule),errorMessage:e.validationErrorMessage}),yp=e=>({min:parseInt(e.validationRule),errorMessage:e.validationErrorMessage});var _p,wp,xp,Ep,Op,Tp,Cp;!function(e){e.elementToSchema=e=>{const t=gp(e),n=(e=>{const{defaultCountryCode:t,displayAsFixedCountryCode:n,validation:r}=e,{validationRule:i,validationErrorMessage:a}=r[0],o={contactNumber:{internationalNumber:!0},errorMessage:a};return n&&(o.contactNumber="Singapore"===t?{singaporeNumber:i}:{internationalNumber:t}),o})(e),{placeholder:r,enableClearButton:i,defaultCountryCode:a,displayAsFixedCountryCode:o}=e;return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),r&&{placeholder:r}),i&&{allowClear:!0}),!o&&a&&{defaultCountry:e.defaultCountryCode}),{validation:[...t.validation||[],n]})}}}(_p||(_p={})),function(e){e.elementToSchema=e=>{const t=gp(e);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),e.dropdownItems&&{options:e.dropdownItems})}}}(wp||(wp={})),function(e){e.elementToSchema=e=>{const t=gp(e),n=(e=>{if(0===e.length)return;return{matches:(e=>{if(e){const t=null==e?void 0:e.validationRule.split(","),n=`^[a-zA-Z0-9._%+-]+@(${(null==t?void 0:t.map((e=>e.trim().replace(/^@/,"").replace(/\./g,"\\.")))).join("|")})$`;return new RegExp(n)}})(e[0]).toString(),errorMessage:e[0].validationErrorMessage}})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],n]})}}}(xp||(xp={})),function(e){e.elementToSchema=e=>{var t;const n=gp(e),r=(e=>{if(0!==e.length)return bp(e[0])})(e.validation),i=e.resizableInput,a=null===(t=e.pillItems)||void 0===t?void 0:t.map((e=>e.content));return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e.placeholder&&{placeholder:e.placeholder}),r&&{validation:[...n.validation||[],r]}),i&&{resizable:!0}),e.pills&&{chipTexts:a}),e.pills&&"bottom"===e.pillPosition&&{chipPosition:e.pillPosition})}}}(Ep||(Ep={})),function(e){e.elementToSchema=e=>{const t=gp(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case ae.MAX_VALUE:e.push(bp(t));break;case ae.MIN_VALUE:e.push(yp(t));break;case ae.WHOLE_NUMBERS:e.push((e=>({integer:!0,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(Op||(Op={})),function(e){e.elementToSchema=e=>{const t=gp(e),n=(e=>{if(0===e.length)return;return e.reduce(((e,t)=>{switch(t.validationType){case ae.MAX_LENGTH:e.push(bp(t));break;case ae.MIN_LENGTH:e.push(yp(t));break;case ae.CUSTOM_REGEX:e.push((e=>({matches:e.validationRule,errorMessage:e.validationErrorMessage}))(t))}return e}),[])})(e.validation);return{[e.id]:Object.assign(Object.assign(Object.assign({},t),e.placeholder&&{placeholder:e.placeholder}),n&&{validation:[...t.validation||[],...n]})}}}(Tp||(Tp={})),function(e){e.elementToSchema=e=>{const t=gp(e);return{[e.id]:Object.assign(Object.assign(Object.assign(Object.assign({},t),{customOptions:{indicator:!0,styleType:"toggle"}}),e.placeholder&&{placeholder:e.placeholder}),e.radioItems&&{options:e.radioItems})}}}(Cp||(Cp={}));const Ap=e=>(null==e?void 0:e.filter((e=>!Object.prototype.hasOwnProperty.call(e,"required"))))||[],Sp=(e,t)=>{const n=e[t];return null==n?void 0:n.filter((e=>!(null===xe.exec(null==e?void 0:e.path)||(null==e?void 0:e.actionId)&&null===we.exec(null==e?void 0:e.actionId)||"Myinfo"!==(null==e?void 0:e.prefillMode)&&"Previous source"!==(null==e?void 0:e.prefillMode))))},jp=(e,t,n,r)=>{const{showIf:i,uiType:a,validation:o,label:s}=e;let l="",u="";"string"==typeof s?l=s:s&&"mainLabel"in s&&(l=s.mainLabel,u=s.subLabel||"");const c=null==o?void 0:o.find((e=>Object.prototype.hasOwnProperty.call(e,"required"))),d=ge.generate();var f;return{columns:{desktop:12,tablet:8,mobile:4},label:l,description:u,type:a,required:!!(null==c?void 0:c.required),requiredErrorMsg:(null==c?void 0:c.errorMessage)||"",id:t,internalId:d,conditionalRendering:i?(f=i,f.reduce(((e,t)=>(Object.entries(t).forEach((([t,n])=>{n.filter((e=>!("filled"in e))).forEach((n=>{const[r,i]=Object.entries(n)[0];e.push({fieldKey:t,comparator:ve[r],value:i,internalId:""})}))})),e)),[])):[],prefill:Sp(n,t)||[],preselectedValue:r||""}},Dp=e=>({validationType:ae.MAX_LENGTH,validationRule:e.max.toString(),validationErrorMessage:e.errorMessage});var Ip,kp,Mp,Np,$p,Rp,Fp,Lp;!function(e){e.schemaToElement=(e,t,n,r)=>{const i=jp(e,t,n,r),{placeholder:a,allowClear:o,defaultCountry:s,validation:l}=e,u=(e=>{if(!e)throw new Error("Contact schema must have additional validation.");const t=e.filter((e=>Object.prototype.hasOwnProperty.call(e,"contactNumber")));if(0===t.length||t.length>1)throw new Error("Contact schema must define exactly one contactNumber validation.");const n=t[0];if(!n||!("singaporeNumber"in n.contactNumber)&&!("internationalNumber"in n.contactNumber))throw new Error("Contact schema must have contactNumber validation with either singaporeNumber or internationalNumber.");const{contactNumber:r,errorMessage:i}=n;if("singaporeNumber"in r)return{defaultCountryCode:"Singapore",displayAsFixedCountryCode:!0,validation:[{validationType:ae.CONTACT_NUMBER,validationRule:r.singaporeNumber,validationErrorMessage:i}]};if(!1===r.internationalNumber)throw new Error("Contact schema must set internationalNumber to true if it is defined.");return!0===r.internationalNumber?{displayAsFixedCountryCode:!1,validation:[{validationType:ae.CONTACT_NUMBER,validationErrorMessage:i}]}:{defaultCountryCode:r.internationalNumber,displayAsFixedCountryCode:!0,validation:[{validationType:ae.CONTACT_NUMBER,validationErrorMessage:i}]}})(l);return Object.assign(Object.assign(Object.assign({},i),{placeholder:a||"",enableClearButton:o||!1,defaultCountryCode:s||""}),u)}}(Ip||(Ip={})),function(e){e.schemaToElement=(e,t,n,r)=>{const i=jp(e,t,n,r),{options:a,placeholder:o}=e;if(Ja(a)||a.length<2)throw new Error("Dropdown schema must have at least 2 options");return Object.assign(Object.assign({},i),{placeholder:o||"",dropdownItems:a})}}(kp||(kp={})),function(e){const t=e=>{const t=e.find((e=>Object.prototype.hasOwnProperty.call(e,oe.MATCHES)));if(!t)return;const n=t.matches.toString().match(/@\((.*?)\)\$/)[1].split("|").map((e=>e.replace(/\\./g,"."))).map((e=>"@"+e)).join(", ");return/@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}/.exec(n)?[{validationType:ae.EMAIL_DOMAIN,validationRule:n,validationErrorMessage:t.errorMessage}]:void 0};e.schemaToElement=(e,n,r,i)=>{const a=jp(e,n,r,i),{validation:o,placeholder:s}=e,l=Ap(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(Mp||(Mp={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{if(n===oe.MAX)e.push(Dp(t))})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=jp(e,n,r,i),{validation:o,placeholder:s,resizable:l,chipTexts:u,chipPosition:c}=e,d=null==u?void 0:u.map((e=>({content:e})));if(d&&d.length<2)throw new Error("Long text area schema must have at least 2 chip texts if chipTexts is defined");const f=Ap(o);return Object.assign(Object.assign(Object.assign(Object.assign({},a),{placeholder:s||"",validation:f.length>0&&t(f)||[],resizableInput:!!l}),d?{pills:!0,pillItems:d}:{pills:!1}),d&&{pillPosition:c||"top"})}}(Np||(Np={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case oe.MAX:e.push((r=t,{validationType:ae.MAX_VALUE,validationRule:r.max.toString(),validationErrorMessage:r.errorMessage}));break;case oe.MIN:e.push((e=>({validationType:ae.MIN_VALUE,validationRule:e.min.toString(),validationErrorMessage:e.errorMessage}))(t));break;case oe.INTEGER:e.push((e=>({validationType:ae.WHOLE_NUMBERS,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=jp(e,n,r,i),{validation:o,placeholder:s}=e,l=Ap(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}($p||($p={})),function(e){const t=e=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{switch(n){case oe.MAX:e.push(Dp(t));break;case oe.MIN:e.push((r=t,{validationType:ae.MIN_LENGTH,validationRule:r.min.toString(),validationErrorMessage:r.errorMessage}));break;case oe.MATCHES:e.push((e=>({validationType:ae.CUSTOM_REGEX,validationRule:e.matches,validationErrorMessage:e.errorMessage}))(t))}var r})),e)),[]);e.schemaToElement=(e,n,r,i)=>{const a=jp(e,n,r,i),{validation:o,placeholder:s}=e,l=Ap(o);return Object.assign(Object.assign({},a),{placeholder:s||"",validation:l.length>0&&t(l)||[]})}}(Rp||(Rp={})),function(e){e.schemaToElement=(e,t,n,r)=>{const i=jp(e,t,n,r),{options:a,placeholder:o}=e;if(Ja(a)||a.length<2)throw new Error("Radio button schema must have at least 2 options");return Object.assign(Object.assign({},i),{placeholder:o||"",radioItems:a})}}(Fp||(Fp={})),function(e){e.generateSchema=(e,t,n)=>{var r;const i=null===(r=null==n?void 0:n.shouldShowPrefill)||void 0===r||r,a=i?(e=>Object.values(e).reduce(((e,t)=>(t.prefill&&t.prefill.length>0&&(e[t.id]=t.prefill),e)),{}))(e):{},o=(e=>Object.values(e).reduce(((e,t)=>("preselectedValue"in t&&t.preselectedValue&&(e[t.id]=t.preselectedValue),e)),{}))(e),s=t.reduce(((t,n)=>(t[n.internalId]=e[n.internalId],t)),{}),l=Object.values(s).reduce(((e,t)=>{let n;switch(t.type){case ne.EMAIL:n=xp.elementToSchema(t);break;case ne.TEXT:n=Tp.elementToSchema(t);break;case ne.TEXTAREA:n=Ep.elementToSchema(t);break;case ne.CONTACT:n=_p.elementToSchema(t);break;case ne.NUMERIC:n=Op.elementToSchema(t);break;case ne.DROPDOWN:n=wp.elementToSchema(t);break;case ne.RADIO:n=Cp.elementToSchema(t)}return Object.assign(Object.assign({},e),n)}),{}),u={defaultValues:o,sections:{section:{children:{grid:{children:Object.assign({},l),uiType:"grid"},"submit-button":{disabled:"invalid-form",label:"Submit",uiType:"submit"}},uiType:"section"}}};return Object.assign({schema:u},i&&{prefill:a})},e.parseSchema=(e,t)=>{var n,r,i,a,o,s,l;const u=null===(o=null===(a=null===(i=null===(r=null===(n=null==e?void 0:e.schema)||void 0===n?void 0:n.sections)||void 0===r?void 0:r.section)||void 0===i?void 0:i.children)||void 0===a?void 0:a.grid)||void 0===o?void 0:o.children,c=null===(s=null==t?void 0:t.shouldShowPrefill)||void 0===s||s;if(!u)throw new Error("Element schemas are missing");if(0===Object.keys(u).length)return null;const d=null===(l=null==e?void 0:e.schema)||void 0===l?void 0:l.defaultValues,f=[];return 0!==Object.values(u).length?(Object.entries(u).forEach((([t,n])=>{const{uiType:r}=n;if(!r)throw new Error("UI type is missing");let i;const a=d[t];switch(r){case ne.EMAIL:i=Mp.schemaToElement(n,t,c?e.prefill:{},a);break;case ne.TEXT:i=Rp.schemaToElement(n,t,c?e.prefill:{},a);break;case ne.TEXTAREA:i=Np.schemaToElement(n,t,c?e.prefill:{},a);break;case ne.NUMERIC:i=$p.schemaToElement(n,t,c?e.prefill:{},a);break;case ne.CONTACT:i=Ip.schemaToElement(n,t,c?e.prefill:{},a);break;case ne.DROPDOWN:i=kp.schemaToElement(n,t,c?e.prefill:{},a);break;case ne.RADIO:i=Fp.schemaToElement(n,t,e.prefill,a);break;default:throw new Error("Invalid element type")}f.push(i)})),(e=>{const t={},n=[];return Object.values(e).forEach((r=>{var i;t[r.internalId]=r,n.push({internalId:r.internalId,size:"full"}),(null===(i=null==r?void 0:r.conditionalRendering)||void 0===i?void 0:i.length)>0&&r.conditionalRendering.forEach(((t,n)=>{const i=Object.values(e).find((e=>(null==e?void 0:e.id)===t.fieldKey));i?r.conditionalRendering[n]=Object.assign(Object.assign({},t),{internalId:i.internalId}):r.conditionalRendering.splice(n,1)}))})),{newElements:t,newOrderedIdentifiers:n}})(f)):null}}(Lp||(Lp={}));const Vp=h((({offset:n,onSubmit:r},i)=>{const[a,o]=f(window.innerWidth>=1200),{elements:s,updateElementSchema:l,orderedIdentifiers:u,isSubmitting:d,removeFocusedElement:p,focusedElement:h}=Ct(),v=Mt(),g=(()=>{const{presetForm:e}=jt();return e})();return m(i,(()=>({generateSchema:()=>Lp.generateSchema(s,u,{shouldShowPrefill:v}),parseSchema:e=>{const{newOrderedIdentifiers:t,newElements:n}=Lp.parseSchema(e,{shouldShowPrefill:v})||{};if(!t||!n)return l({},[]),void p();const r=Object.values(n).find((e=>{var t;return e.id===(null===(t=null==h?void 0:h.element)||void 0===t?void 0:t.id)}));l(n,t,r)}})),[s,u]),c((()=>{if(window){const e=()=>{o(window.innerWidth>=1200)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[]),c((()=>{if(g){const e=Object.keys(g).reduce(((e,t)=>(e[t]=g[t].schema,e)),{}),t={schema:{defaultValues:{},sections:{section:{children:{grid:{children:Object.assign({},e),uiType:"grid"},"submit-button":{disabled:"invalid-form",label:"Submit",uiType:"submit"}},uiType:"section"}}},prefill:{}},{newOrderedIdentifiers:n,newElements:r}=Lp.parseSchema(t,{shouldShowPrefill:v})||{};l(r,n)}}),[]),t(mp,Object.assign({$disabled:d},{children:[!a&&e(_f,{}),t(vp,Object.assign({type:"grid",stretch:!0,$isLargeScreen:a},{inert:d?"":void 0},{children:[e(ln,{}),e(Ls,{}),e(Gf,{}),e(hp,{offset:n,onSubmit:r})]}))]}))})),zp=h(((t,n)=>e(St,Object.assign({value:t.config},{children:e(Tt,{children:e(Ft,{children:e(Vp,Object.assign({ref:n},t))})})}))));export{zp as FormBuilder};
//# sourceMappingURL=index.js.map
